<!DOCTYPE html>
<!-- saved from url=(0071)https://www.rfc-editor.org/rfc/rfc8656#name-receiving-an-allocate-reque -->
<html lang="en" class="RFC"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>RFC 8656: Traversal Using Relays around NAT (TURN): Relay Extensions to Session Traversal Utilities for NAT (STUN)</title>
<meta content="Tirumaleswar Reddy" name="author">
<meta content="Alan Johnston" name="author">
<meta content="Philip Matthews" name="author">
<meta content="Jonathan Rosenberg" name="author">
<meta content="
       If a host is located behind a NAT, it can be impossible for that host
      to communicate directly with other hosts (peers) in certain
      situations. In these situations, it is necessary for the host to use the
      services of an intermediate node that acts as a communication relay.
      This specification defines a protocol, called &quot;Traversal Using Relays
      around NAT&quot; (TURN), that allows the host to control the operation of the
      relay and to exchange packets with its peers using the relay. TURN
      differs from other relay control protocols in that it allows a client to
      communicate with multiple peers using a single relay address. 
       The TURN protocol was designed to be used as part of the Interactive
      Connectivity Establishment (ICE) approach to NAT traversal,
      though it can also be used without ICE. 
       This document obsoletes RFCs 5766 and 6156. 
    " name="description">
<meta content="xml2rfc 2.40.0" name="generator">
<meta content="NAT" name="keyword">
<meta content="TURN" name="keyword">
<meta content="STUN" name="keyword">
<meta content="ICE" name="keyword">
<meta content="8656" name="rfc.number">
<link href="https://www.rfc-editor.org/rfc/rfc8656.xml" rel="alternate" type="application/rfc+xml">
<link href="https://www.rfc-editor.org/rfc/rfc8656#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Avoid wrapping of URLs in references */
@media screen {
  .references a {
    white-space: nowrap;
  }
}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin: 0 0 0.25em 0;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/*
  The margin-left: 0 on <dd> removes all distinction
  between levels from nested <dl>s.  Undo that.
*/
dl.olPercent > dd,
dd {
  margin-left: revert;
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
</style>
<link href="./RFC 8656_ Traversal Using Relays around NAT (TURN)_ Relay Extensions to Session Traversal Utilities for NAT (STUN)_files/rfc-local.css" rel="stylesheet" type="text/css">
<link href="https://dx.doi.org/10.17487/rfc8656" rel="alternate">
  <link href="urn:issn:2070-1721" rel="alternate">
  <link href="https://datatracker.ietf.org/doc/draft-ietf-tram-turnbis-29" rel="prev">
  </head>
<body>
<script src="./RFC 8656_ Traversal Using Relays around NAT (TURN)_ Relay Extensions to Session Traversal Utilities for NAT (STUN)_files/metadata.min.js.ダウンロード"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 8656</td>
<td class="center">TURN</td>
<td class="right">February 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Reddy, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information" style="display: block;"><dl style="overflow:hidden" id="external-updates"><dt data-dl-uid="0" data-dl-original="true" data-dl-translated="true">状態です。</dt><dd data-dl-uid="1" data-dl-original="true" data-dl-translated="true">提案された規格</dd><dt data-dl-uid="2" data-dl-original="true" data-dl-translated="true">オブスリーツです。</dt><dd data-dl-uid="3" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc5766" data-dl-uid="4" data-dl-original="true" data-dl-translated="true">5766</a> <a href="https://www.rfc-editor.org/rfc/rfc6156" data-dl-uid="5" data-dl-original="true" data-dl-translated="true">, 6156</a></dd><dt data-dl-uid="6" data-dl-original="true" data-dl-translated="true">詳細はこちら</dt><dd data-dl-uid="7" data-dl-original="true" data-dl-translated="true"><a href="https://datatracker.ietf.org/doc/rfc8656" data-dl-uid="8" data-dl-original="true" data-dl-translated="true">Datatracker</a>｜<a href="https://datatracker.ietf.org/ipr/search/?rfc=8656&amp;submit=rfc" data-dl-uid="9" data-dl-original="true" data-dl-translated="true">IPR</a>｜<a href="https://www.rfc-editor.org/info/rfc8656" data-dl-uid="10" data-dl-original="true" data-dl-translated="true">情報ページ</a></dd></dl></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-stream" data-dl-uid="11" data-dl-original="true" data-dl-translated="true">ストリームです。</dt>
<dd class="stream" data-dl-uid="12" data-dl-original="true" data-dl-translated="true">インターネット技術特別調査委員会（IETF）</dd>
<dt class="label-rfc" data-dl-uid="13" data-dl-original="true" data-dl-translated="true">RFCです。</dt>
<dd class="rfc" data-dl-uid="14" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656" class="eref" data-dl-uid="15" data-dl-original="true" data-dl-translated="true">8656</a></dd>
<dt class="label-obsoletes" data-dl-uid="16" data-dl-original="true" data-dl-translated="true">オブスリーツです。</dt>
<dd class="obsoletes" data-dl-uid="17" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc5766" class="eref" data-dl-uid="18" data-dl-original="true" data-dl-translated="true">5766</a> <a href="https://www.rfc-editor.org/rfc/rfc6156" class="eref" data-dl-uid="19" data-dl-original="true" data-dl-translated="true">, 6156</a></dd>
<dt class="label-category" data-dl-uid="20" data-dl-original="true" data-dl-translated="true">カテゴリー</dt>
<dd class="category" data-dl-uid="21" data-dl-original="true" data-dl-translated="true">スタンダードトラック</dd>
<dt class="label-published" data-dl-uid="22" data-dl-original="true" data-dl-translated="true">発行されています。</dt>
<dd class="published" data-dl-uid="23" data-dl-original="true" data-dl-translated="true">
<time datetime="2020-02" class="published" data-dl-uid="24" data-dl-original="true" data-dl-translated="true">2020年2月</time>   </dd>
<dt class="label-issn" data-dl-uid="25" data-dl-original="true" data-dl-translated="true">ISSNです。</dt>
<dd class="issn" data-dl-uid="26" data-dl-original="true" data-dl-translated="true">2070-1721</dd>
<dt class="label-authors" data-dl-uid="27" data-dl-original="true" data-dl-translated="true">著者紹介</dt>
<dd class="authors">
<div class="author">
      <div class="author-name" data-dl-uid="28" data-dl-original="true" data-dl-translated="true">T.レディ、<span class="editor" data-dl-uid="29" data-dl-original="true" data-dl-translated="true">Ed.</span></div>
<div class="org" data-dl-uid="30" data-dl-original="true" data-dl-translated="true">マカフィー</div>
</div>
<div class="author">
      <div class="author-name" data-dl-uid="31" data-dl-original="true" data-dl-translated="true">A.ジョンストン、<span class="editor" data-dl-uid="32" data-dl-original="true" data-dl-translated="true">Ed</span>.</div>
<div class="org" data-dl-uid="33" data-dl-original="true" data-dl-translated="true">ビラノバ大学</div>
</div>
<div class="author">
      <div class="author-name" data-dl-uid="34" data-dl-original="true" data-dl-translated="true">P.マシューズ</div>
<div class="org" data-dl-uid="35" data-dl-original="true" data-dl-translated="true">アルカテル・ルーセント</div>
</div>
<div class="author">
      <div class="author-name" data-dl-uid="36" data-dl-original="true" data-dl-translated="true">J.ローゼンバーグ</div>
<div class="org" data-dl-uid="37" data-dl-original="true" data-dl-translated="true">jdrosen.net</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum" data-dl-uid="38" data-dl-original="true" data-dl-translated="true">アールエフシー8656</h1>
<h1 id="title" data-dl-uid="39" data-dl-original="true" data-dl-translated="true">Traversal Using Relays around NAT (TURN)です。セッション・トラバーサル・ユーティリティ・フォー・ナット（STUN）のリレー拡張機能</h1>
<section id="section-abstract">
      <h2 id="abstract" data-dl-uid="40" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#abstract" class="selfRef" data-dl-uid="41" data-dl-original="true" data-dl-translated="true">アブストラクト</a></h2>
<p id="section-abstract-1" data-dl-uid="42" data-dl-original="true" data-dl-translated="true">ホストがNATの背後に位置する場合、特定の状況下でそのホストが他のホスト（ピア）と直接通信することが不可能になることがある。本仕様では、「Traversal Using Relays around NAT」（TURN）と呼ばれるプロトコルを定義し、ホストがリレーの動作を制御し、リレーを使用するピアとパケットを交換できるようにします。TURNは、クライアントが単一のリレーアドレスを使用して複数のピアと通信できるようにする点で、他のリレー制御プロトコルと異なる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-abstract-1" class="pilcrow" data-dl-uid="43" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-abstract-2" data-dl-uid="44" data-dl-original="true" data-dl-translated="true">TURNプロトコルは、NATトラバーサルに対するICE（Interactive Connectivity Establishment）アプローチの一部として使用されるように設計されていますが、ICEなしで使用することも可能です<a href="https://www.rfc-editor.org/rfc/rfc8656#section-abstract-2" class="pilcrow" data-dl-uid="45" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-abstract-3" data-dl-uid="46" data-dl-original="true" data-dl-translated="true">この文書はRFC5766と6156を廃止するものです<a href="https://www.rfc-editor.org/rfc/rfc8656#section-abstract-3" class="pilcrow" data-dl-uid="47" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo" data-dl-uid="48" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#name-status-of-this-memo" class="section-name selfRef" data-dl-uid="49" data-dl-original="true" data-dl-translated="true">本メモの位置づけ</a>       </h2>
<p id="section-boilerplate.1-1" data-dl-uid="50" data-dl-original="true" data-dl-translated="true">
            これは、Internet Standards Trackの文書です<a href="https://www.rfc-editor.org/rfc/rfc8656#section-boilerplate.1-1" class="pilcrow" data-dl-uid="51" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-boilerplate.1-2" data-dl-uid="52" data-dl-original="true" data-dl-translated="true">
            この文書は、インターネット技術タスクフォース（IETF）の成果物である。  IETFコミュニティのコンセンサスを代表するものである。  パブリックレビューを受け、インターネット技術運営グループ(IESG)によって発行が承認されている。  インターネット標準に関する詳しい情報は、RFC7841<a href="https://www.rfc-editor.org/rfc/rfc8656#section-boilerplate.1-2" class="pilcrow" data-dl-uid="53" data-dl-original="true" data-dl-translated="true">.</a>¶のセクション2に記載されています。</p>
<p id="section-boilerplate.1-3" data-dl-uid="54" data-dl-original="true" data-dl-translated="true">
            この文書の現在の状況、正誤表、およびそれに対するフィードバックの方法に関する情報は、https://www.rfc-edito<span data-dl-uid="55" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc8656" data-dl-uid="56" data-dl-original="true" data-dl-translated="true">r.</a></span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-boilerplate.1-3" class="pilcrow" data-dl-uid="57" data-dl-original="true" data-dl-translated="true">org/info/rfc8656.¶で</a>入手できます。</p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice" data-dl-uid="58" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#name-copyright-notice" class="section-name selfRef" data-dl-uid="59" data-dl-original="true" data-dl-translated="true">著作権について</a>       </h2>
<p id="section-boilerplate.2-1" data-dl-uid="60" data-dl-original="true" data-dl-translated="true">
            Copyright (c) 2020 IETF Trust and the persons identified as the document authors.すべての権利は留保されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-boilerplate.2-1" class="pilcrow" data-dl-uid="61" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-boilerplate.2-2" data-dl-uid="185" data-dl-original="true" data-dl-translated="true">
            この文書は、この文書の発行日に有効なBCP 78およびIETFトラストのIETF文書に関する法的規定(https://trustee.ietf.org/license-info<span data-dl-uid="186" data-dl-original="true" data-dl-translated="true"><a href="https://trustee.ietf.org/license-info" data-dl-uid="187" data-dl-original="true" data-dl-translated="true">)</a></span>に従うものとします。これらの文書は、この文書に関するあなたの権利と制限を記述していますので、注意深く確認してください。この文書から抽出されたコードコンポーネントは、トラスト法的規定のセクション4.eに記載されているように、簡易BSDライセンステキストを含まなければならず、簡易BSDライセンスに記載されているように、保証なしで提供されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-boilerplate.2-2" class="pilcrow" data-dl-uid="188" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="https://www.rfc-editor.org/rfc/rfc8656#" onclick="scroll(0,0)" class="toplink" data-dl-uid="62" data-dl-original="true" data-dl-translated="true">▲</a><h2 id="name-table-of-contents" data-dl-uid="63" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#name-table-of-contents" class="section-name selfRef" data-dl-uid="64" data-dl-original="true" data-dl-translated="true">目次</a>     </h2>
<nav class="toc" style="display: block;"><ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" data-dl-uid="65" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-1" class="xref" data-dl-uid="66" data-dl-original="true" data-dl-translated="true">1</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-introduction" class="xref" data-dl-uid="67" data-dl-original="true" data-dl-translated="true">はじめに</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.1.1" class="pilcrow" data-dl-uid="68" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" data-dl-uid="69" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-2" class="xref" data-dl-uid="70" data-dl-original="true" data-dl-translated="true">2</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-terminology" class="xref" data-dl-uid="71" data-dl-original="true" data-dl-translated="true">用語の</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.2.1" class="pilcrow" data-dl-uid="72" data-dl-original="true" data-dl-translated="true">¶を</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" data-dl-uid="73" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-3" class="xref" data-dl-uid="74" data-dl-original="true" data-dl-translated="true">3</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-overview-of-operation" class="xref" data-dl-uid="75" data-dl-original="true" data-dl-translated="true">操作の概要</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.3.1" class="pilcrow" data-dl-uid="76" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1" data-dl-uid="77" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.1" class="xref" data-dl-uid="78" data-dl-original="true" data-dl-translated="true">3.1</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-transports" class="xref" data-dl-uid="79" data-dl-original="true" data-dl-translated="true">トランスポート</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.3.2.1.1" class="pilcrow" data-dl-uid="80" data-dl-original="true" data-dl-translated="true">¶の</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1" data-dl-uid="81" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.2" class="xref" data-dl-uid="82" data-dl-original="true" data-dl-translated="true">3.2</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-allocations" class="xref" data-dl-uid="83" data-dl-original="true" data-dl-translated="true">アロケーション</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.3.2.2.1" class="pilcrow" data-dl-uid="84" data-dl-original="true" data-dl-translated="true">¶について</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1" data-dl-uid="85" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.3" class="xref" data-dl-uid="86" data-dl-original="true" data-dl-translated="true">3.3</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-permissions" class="xref" data-dl-uid="87" data-dl-original="true" data-dl-translated="true">パーミッション</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.3.2.3.1" class="pilcrow" data-dl-uid="88" data-dl-original="true" data-dl-translated="true">¶について</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1" data-dl-uid="89" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.4" class="xref" data-dl-uid="90" data-dl-original="true" data-dl-translated="true">3.4</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-send-mechanism" class="xref" data-dl-uid="91" data-dl-original="true" data-dl-translated="true">送信機構</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.3.2.4.1" class="pilcrow" data-dl-uid="92" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1" data-dl-uid="93" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.5" class="xref" data-dl-uid="94" data-dl-original="true" data-dl-translated="true">3.5</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.3.2.5.1" class="pilcrow" data-dl-uid="96" data-dl-original="true" data-dl-translated="true">チャンネル</a> <a href="https://www.rfc-editor.org/rfc/rfc8656#name-channels" class="xref" data-dl-uid="95" data-dl-original="true" data-dl-translated="true">¶の</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.6">
                <p id="section-toc.1-1.3.2.6.1" data-dl-uid="97" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.6" class="xref" data-dl-uid="98" data-dl-original="true" data-dl-translated="true">3.6</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-unprivileged-turn-servers" class="xref" data-dl-uid="99" data-dl-original="true" data-dl-translated="true">非特権TURNサーバー</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.3.2.6.1" class="pilcrow" data-dl-uid="100" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.7">
                <p id="section-toc.1-1.3.2.7.1" data-dl-uid="101" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.7" class="xref" data-dl-uid="102" data-dl-original="true" data-dl-translated="true">3.7</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-avoiding-ip-fragmentation" class="xref" data-dl-uid="103" data-dl-original="true" data-dl-translated="true">IPフラグメンテーションを回避する</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.3.2.7.1" class="pilcrow" data-dl-uid="104" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.8">
                <p id="section-toc.1-1.3.2.8.1" data-dl-uid="105" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.8" class="xref" data-dl-uid="106" data-dl-original="true" data-dl-translated="true">3.8</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-rtp-support" class="xref" data-dl-uid="107" data-dl-original="true" data-dl-translated="true">RTPサポート</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.3.2.8.1" class="pilcrow" data-dl-uid="108" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.9">
                <p id="section-toc.1-1.3.2.9.1" data-dl-uid="109" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.9" class="xref" data-dl-uid="110" data-dl-original="true" data-dl-translated="true">3.9</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.3.2.9.1" class="pilcrow" data-dl-uid="112" data-dl-original="true" data-dl-translated="true">TURN</a> <a href="https://www.rfc-editor.org/rfc/rfc8656#name-happy-eyeballs-for-turn" class="xref" data-dl-uid="111" data-dl-original="true" data-dl-translated="true">¶のハッピーアイボール</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1" data-dl-uid="113" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-4" class="xref" data-dl-uid="114" data-dl-original="true" data-dl-translated="true">4</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-discovery-of-turn-server" class="xref" data-dl-uid="115" data-dl-original="true" data-dl-translated="true">TURNサーバーの発見</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.4.1" class="pilcrow" data-dl-uid="116" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1" data-dl-uid="117" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-4.1" class="xref" data-dl-uid="118" data-dl-original="true" data-dl-translated="true">4.1</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-turn-uri-scheme-semantics" class="xref" data-dl-uid="119" data-dl-original="true" data-dl-translated="true">TURN URIスキームの</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.4.2.1.1" class="pilcrow" data-dl-uid="120" data-dl-original="true" data-dl-translated="true">セマンティクス</a> <a data-dl-uid="119" data-dl-translated="true">¶。</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1" data-dl-uid="121" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-5" class="xref" data-dl-uid="122" data-dl-original="true" data-dl-translated="true">5</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-general-behavior" class="xref" data-dl-uid="123" data-dl-original="true" data-dl-translated="true">一般的な行動</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.5.1" class="pilcrow" data-dl-uid="124" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1" data-dl-uid="125" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-6" class="xref" data-dl-uid="126" data-dl-original="true" data-dl-translated="true">6</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.6.1" class="pilcrow" data-dl-uid="128" data-dl-original="true" data-dl-translated="true">割り当て</a> <a href="https://www.rfc-editor.org/rfc/rfc8656#name-allocations-2" class="xref" data-dl-uid="127" data-dl-original="true" data-dl-translated="true">¶を</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1" data-dl-uid="129" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7" class="xref" data-dl-uid="130" data-dl-original="true" data-dl-translated="true">7</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-creating-an-allocation" class="xref" data-dl-uid="131" data-dl-original="true" data-dl-translated="true">アロケーションを作成する</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.7.1" class="pilcrow" data-dl-uid="132" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1" data-dl-uid="133" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.1" class="xref" data-dl-uid="134" data-dl-original="true" data-dl-translated="true">7.1</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-sending-an-allocate-request" class="xref" data-dl-uid="135" data-dl-original="true" data-dl-translated="true">Allocate リクエストの送信</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.7.2.1.1" class="pilcrow" data-dl-uid="136" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1" data-dl-uid="137" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2" class="xref" data-dl-uid="138" data-dl-original="true" data-dl-translated="true">7.2</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-an-allocate-reque" class="xref" data-dl-uid="139" data-dl-original="true" data-dl-translated="true">アロケートリクエストの受信</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.7.2.2.1" class="pilcrow" data-dl-uid="140" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1" data-dl-uid="141" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.3" class="xref" data-dl-uid="142" data-dl-original="true" data-dl-translated="true">7.3</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-an-allocate-succe" class="xref" data-dl-uid="143" data-dl-original="true" data-dl-translated="true">割り当て成功応答の受信</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.7.2.3.1" class="pilcrow" data-dl-uid="144" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1" data-dl-uid="145" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.4" class="xref" data-dl-uid="146" data-dl-original="true" data-dl-translated="true">7.4</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-an-allocate-error" class="xref" data-dl-uid="147" data-dl-original="true" data-dl-translated="true">アロケートエラー応答の受信</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.7.2.4.1" class="pilcrow" data-dl-uid="148" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1" data-dl-uid="149" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-8" class="xref" data-dl-uid="150" data-dl-original="true" data-dl-translated="true">8</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-refreshing-an-allocation" class="xref" data-dl-uid="151" data-dl-original="true" data-dl-translated="true">アロケーションをリフレッシュする</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.8.1" class="pilcrow" data-dl-uid="152" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1" data-dl-uid="153" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.1" class="xref" data-dl-uid="154" data-dl-original="true" data-dl-translated="true">8.1</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-sending-a-refresh-request" class="xref" data-dl-uid="155" data-dl-original="true" data-dl-translated="true">リフレッシュ要求の送信</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.8.2.1.1" class="pilcrow" data-dl-uid="156" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1" data-dl-uid="157" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.2" class="xref" data-dl-uid="158" data-dl-original="true" data-dl-translated="true">8.2</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-refresh-request" class="xref" data-dl-uid="159" data-dl-original="true" data-dl-translated="true">リフレッシュ要求の受信</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.8.2.2.1" class="pilcrow" data-dl-uid="160" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1" data-dl-uid="161" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.3" class="xref" data-dl-uid="162" data-dl-original="true" data-dl-translated="true">8.3</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-refresh-respons" class="xref" data-dl-uid="163" data-dl-original="true" data-dl-translated="true">リフレッシュレスポンスの受信</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.8.2.3.1" class="pilcrow" data-dl-uid="164" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1" data-dl-uid="165" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-9" class="xref" data-dl-uid="166" data-dl-original="true" data-dl-translated="true">9</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-permissions-2" class="xref" data-dl-uid="167" data-dl-original="true" data-dl-translated="true">パーミッション</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.9.1" class="pilcrow" data-dl-uid="168" data-dl-original="true" data-dl-translated="true">¶の</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1" data-dl-uid="169" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-10" class="xref" data-dl-uid="170" data-dl-original="true" data-dl-translated="true">10</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.10.1" class="pilcrow" data-dl-uid="172" data-dl-original="true" data-dl-translated="true">CreatePermission</a> <a href="https://www.rfc-editor.org/rfc/rfc8656#name-createpermission" class="xref" data-dl-uid="171" data-dl-original="true" data-dl-translated="true">¶の</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1" data-dl-uid="173" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-10.1" class="xref" data-dl-uid="174" data-dl-original="true" data-dl-translated="true">10.1</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-forming-a-createpermission-" class="xref" data-dl-uid="175" data-dl-original="true" data-dl-translated="true">CreatePermissionリクエストを形成する</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.10.2.1.1" class="pilcrow" data-dl-uid="176" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1" data-dl-uid="177" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-10.2" class="xref" data-dl-uid="178" data-dl-original="true" data-dl-translated="true">10.2</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-createpermissio" class="xref" data-dl-uid="179" data-dl-original="true" data-dl-translated="true">CreatePermissionリクエストの受信</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.10.2.2.1" class="pilcrow" data-dl-uid="180" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1" data-dl-uid="181" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-10.3" class="xref" data-dl-uid="182" data-dl-original="true" data-dl-translated="true">10.3</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-createpermission" class="xref" data-dl-uid="183" data-dl-original="true" data-dl-translated="true">CreatePermission</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.10.2.3.1" class="pilcrow" data-dl-uid="184" data-dl-original="true" data-dl-translated="true">レスポンスの</a> <a data-dl-uid="183" data-dl-translated="true">受信</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1" data-dl-uid="1207" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-11" class="xref" data-dl-uid="1208" data-dl-original="true" data-dl-translated="true">11</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-send-and-data-methods" class="xref" data-dl-uid="1209" data-dl-original="true" data-dl-translated="true">送信とデータメソッド</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.11.1" class="pilcrow" data-dl-uid="1210" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1" data-dl-uid="1211" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.1" class="xref" data-dl-uid="1212" data-dl-original="true" data-dl-translated="true">11.1</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-forming-a-send-indication" class="xref" data-dl-uid="1213" data-dl-original="true" data-dl-translated="true">送信表示を形成する</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.11.2.1.1" class="pilcrow" data-dl-uid="1214" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1" data-dl-uid="1215" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.2" class="xref" data-dl-uid="1216" data-dl-original="true" data-dl-translated="true">11.2</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-send-indication" class="xref" data-dl-uid="1217" data-dl-original="true" data-dl-translated="true">送信指示の受信</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.11.2.2.1" class="pilcrow" data-dl-uid="1218" data-dl-original="true" data-dl-translated="true">¶」。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.11.2.3">
                <p id="section-toc.1-1.11.2.3.1" data-dl-uid="1219" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.3" class="xref" data-dl-uid="1220" data-dl-original="true" data-dl-translated="true">11.3</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-udp-datagram" class="xref" data-dl-uid="1221" data-dl-original="true" data-dl-translated="true">UDPデータグラムを受信する</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.11.2.3.1" class="pilcrow" data-dl-uid="1222" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.11.2.4">
                <p id="section-toc.1-1.11.2.4.1" data-dl-uid="1223" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.4" class="xref" data-dl-uid="1224" data-dl-original="true" data-dl-translated="true">11.4</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-data-indication" class="xref" data-dl-uid="1225" data-dl-original="true" data-dl-translated="true">データ表示を受信する</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.11.2.4.1" class="pilcrow" data-dl-uid="1226" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.11.2.5">
                <p id="section-toc.1-1.11.2.5.1" data-dl-uid="1227" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.5" class="xref" data-dl-uid="1228" data-dl-original="true" data-dl-translated="true">11.5</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-an-icmp-packet" class="xref" data-dl-uid="1229" data-dl-original="true" data-dl-translated="true">ICMPパケットを受信する</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.11.2.5.1" class="pilcrow" data-dl-uid="1230" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.11.2.6">
                <p id="section-toc.1-1.11.2.6.1" data-dl-uid="1231" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.6" class="xref" data-dl-uid="1232" data-dl-original="true" data-dl-translated="true">11.6</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-data-indication-" class="xref" data-dl-uid="1233" data-dl-original="true" data-dl-translated="true">ICMP 属性付きデータインジケーションを受信する</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.11.2.6.1" class="pilcrow" data-dl-uid="1234" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1" data-dl-uid="1235" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-12" class="xref" data-dl-uid="1236" data-dl-original="true" data-dl-translated="true">12</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.12.1" class="pilcrow" data-dl-uid="1238" data-dl-original="true" data-dl-translated="true">チャンネル</a> <a href="https://www.rfc-editor.org/rfc/rfc8656#name-channels-2" class="xref" data-dl-uid="1237" data-dl-original="true" data-dl-translated="true">¶の</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1" data-dl-uid="1239" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.1" class="xref" data-dl-uid="1240" data-dl-original="true" data-dl-translated="true">12.1</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-sending-a-channelbind-reque" class="xref" data-dl-uid="1241" data-dl-original="true" data-dl-translated="true">チャンネルバインドリクエストを送信する</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.12.2.1.1" class="pilcrow" data-dl-uid="1242" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1" data-dl-uid="1243" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.2" class="xref" data-dl-uid="1244" data-dl-original="true" data-dl-translated="true">12.2</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.12.2.2.1" class="pilcrow" data-dl-uid="1246" data-dl-original="true" data-dl-translated="true">チャンネルバインドリクエストの</a> <a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-channelbind-req" class="xref" data-dl-uid="1245" data-dl-original="true" data-dl-translated="true">受信</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.12.2.3">
                <p id="section-toc.1-1.12.2.3.1" data-dl-uid="1247" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.3" class="xref" data-dl-uid="1248" data-dl-original="true" data-dl-translated="true">12.3</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-channelbind-res" class="xref" data-dl-uid="1249" data-dl-original="true" data-dl-translated="true">ChannelBind</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.12.2.3.1" class="pilcrow" data-dl-uid="1250" data-dl-original="true" data-dl-translated="true">レスポンスの</a> <a data-dl-uid="1249" data-dl-translated="true">受信</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.12.2.4">
                <p id="section-toc.1-1.12.2.4.1" data-dl-uid="1251" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.4" class="xref" data-dl-uid="1252" data-dl-original="true" data-dl-translated="true">12.4</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-the-channeldata-message" class="xref" data-dl-uid="1253" data-dl-original="true" data-dl-translated="true">ChannelData メッセージ</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.12.2.4.1" class="pilcrow" data-dl-uid="1254" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.12.2.5">
                <p id="section-toc.1-1.12.2.5.1" data-dl-uid="1255" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.5" class="xref" data-dl-uid="1256" data-dl-original="true" data-dl-translated="true">12.5</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-sending-a-channeldata-messa" class="xref" data-dl-uid="1257" data-dl-original="true" data-dl-translated="true">ChannelDataメッセージの送信</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.12.2.5.1" class="pilcrow" data-dl-uid="1258" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.12.2.6">
                <p id="section-toc.1-1.12.2.6.1" data-dl-uid="1259" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.6" class="xref" data-dl-uid="1260" data-dl-original="true" data-dl-translated="true">12.6</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-channeldata-mes" class="xref" data-dl-uid="1261" data-dl-original="true" data-dl-translated="true">ChannelDataメッセージの受信</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.12.2.6.1" class="pilcrow" data-dl-uid="1262" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.12.2.7">
                <p id="section-toc.1-1.12.2.7.1" data-dl-uid="1263" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.7" class="xref" data-dl-uid="1264" data-dl-original="true" data-dl-translated="true">12.7</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.12.2.7.1" class="pilcrow" data-dl-uid="1266" data-dl-original="true" data-dl-translated="true">ピア</a> <a href="https://www.rfc-editor.org/rfc/rfc8656#name-relaying-data-from-the-peer" class="xref" data-dl-uid="1265" data-dl-original="true" data-dl-translated="true">¶からデータを中継する</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1" data-dl-uid="1294" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-13" class="xref" data-dl-uid="1295" data-dl-original="true" data-dl-translated="true">13</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-packet-translations" class="xref" data-dl-uid="1296" data-dl-original="true" data-dl-translated="true">パケット変換</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.13.1" class="pilcrow" data-dl-uid="1297" data-dl-original="true" data-dl-translated="true">¶を</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1" data-dl-uid="2994" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1" class="xref" data-dl-uid="2995" data-dl-original="true" data-dl-translated="true">13.1</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-ipv4-to-ipv6-translations" class="xref" data-dl-uid="2996" data-dl-original="true" data-dl-translated="true">IPv4からIPv6への</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.13.2.1.1" class="pilcrow" data-dl-uid="2997" data-dl-original="true" data-dl-translated="true">変換¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1" data-dl-uid="2998" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2" class="xref" data-dl-uid="2999" data-dl-original="true" data-dl-translated="true">13.2</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-ipv6-to-ipv6-translations" class="xref" data-dl-uid="3000" data-dl-original="true" data-dl-translated="true">IPv6からIPv6への</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.13.2.2.1" class="pilcrow" data-dl-uid="3001" data-dl-original="true" data-dl-translated="true">変換¶」。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.13.2.3">
                <p id="section-toc.1-1.13.2.3.1" data-dl-uid="3002" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.3" class="xref" data-dl-uid="3003" data-dl-original="true" data-dl-translated="true">13.3</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-ipv6-to-ipv4-translations" class="xref" data-dl-uid="3004" data-dl-original="true" data-dl-translated="true">IPv6からIPv4への</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.13.2.3.1" class="pilcrow" data-dl-uid="3005" data-dl-original="true" data-dl-translated="true">変換¶」。</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1" data-dl-uid="3006" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-14" class="xref" data-dl-uid="3007" data-dl-original="true" data-dl-translated="true">14</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-udp-to-udp-relay" class="xref" data-dl-uid="3008" data-dl-original="true" data-dl-translated="true">UDPからUDPへの</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.14.1" class="pilcrow" data-dl-uid="3009" data-dl-original="true" data-dl-translated="true">リレー¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1" data-dl-uid="3010" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-15" class="xref" data-dl-uid="3011" data-dl-original="true" data-dl-translated="true">15</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-tcp-to-udp-relay" class="xref" data-dl-uid="3012" data-dl-original="true" data-dl-translated="true">TCPからUDPへの</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.15.1" class="pilcrow" data-dl-uid="3013" data-dl-original="true" data-dl-translated="true">リレー¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1" data-dl-uid="3014" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-16" class="xref" data-dl-uid="3015" data-dl-original="true" data-dl-translated="true">16</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-udp-to-tcp-relay" class="xref" data-dl-uid="3016" data-dl-original="true" data-dl-translated="true">UDPからTCPへの</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.16.1" class="pilcrow" data-dl-uid="3017" data-dl-original="true" data-dl-translated="true">リレー¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1" data-dl-uid="3018" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-17" class="xref" data-dl-uid="3019" data-dl-original="true" data-dl-translated="true">17</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.17.1" class="pilcrow" data-dl-uid="3021" data-dl-original="true" data-dl-translated="true">ストンメソッド¶を</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.18">
            <p id="section-toc.1-1.18.1" data-dl-uid="3022" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-18" class="xref" data-dl-uid="3023" data-dl-original="true" data-dl-translated="true">18</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-stun-attributes" class="xref" data-dl-uid="3024" data-dl-original="true" data-dl-translated="true">STUN</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.18.1" class="pilcrow" data-dl-uid="3025" data-dl-original="true" data-dl-translated="true">アトリビュート¶。</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.18.2.1">
                <p id="section-toc.1-1.18.2.1.1" data-dl-uid="3026" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.1" class="xref" data-dl-uid="3027" data-dl-original="true" data-dl-translated="true">18.1</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.18.2.1.1" class="pilcrow" data-dl-uid="3029" data-dl-original="true" data-dl-translated="true">チャンネル数¶の</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.18.2.2">
                <p id="section-toc.1-1.18.2.2.1" data-dl-uid="3030" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.2" class="xref" data-dl-uid="3031" data-dl-original="true" data-dl-translated="true">18.2</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.18.2.2.1" class="pilcrow" data-dl-uid="3033" data-dl-original="true" data-dl-translated="true">ライフタイム¶の</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.18.2.3">
                <p id="section-toc.1-1.18.2.3.1" data-dl-uid="3034" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.3" class="xref" data-dl-uid="3035" data-dl-original="true" data-dl-translated="true">18.3</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.18.2.3.1" class="pilcrow" data-dl-uid="3037" data-dl-original="true" data-dl-translated="true">xor-peer-address¶を</a>使用する。</p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.18.2.4">
                <p id="section-toc.1-1.18.2.4.1" data-dl-uid="3038" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.4" class="xref" data-dl-uid="3039" data-dl-original="true" data-dl-translated="true">18.4</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.18.2.4.1" class="pilcrow" data-dl-uid="3041" data-dl-original="true" data-dl-translated="true">DATA¶ （データ</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.18.2.5">
                <p id="section-toc.1-1.18.2.5.1" data-dl-uid="3042" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.5" class="xref" data-dl-uid="3043" data-dl-original="true" data-dl-translated="true">18.5</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.18.2.5.1" class="pilcrow" data-dl-uid="3045" data-dl-original="true" data-dl-translated="true">xor-relayed-address¶の</a>略。</p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.18.2.6">
                <p id="section-toc.1-1.18.2.6.1" data-dl-uid="3046" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.6" class="xref" data-dl-uid="3047" data-dl-original="true" data-dl-translated="true">18.6</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.18.2.6.1" class="pilcrow" data-dl-uid="3049" data-dl-original="true" data-dl-translated="true">リクエストされたアドレス・ファミリ¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.18.2.7">
                <p id="section-toc.1-1.18.2.7.1" data-dl-uid="3050" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.7" class="xref" data-dl-uid="3051" data-dl-original="true" data-dl-translated="true">18.7</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.18.2.7.1" class="pilcrow" data-dl-uid="3053" data-dl-original="true" data-dl-translated="true">偶数ポート</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.18.2.8">
                <p id="section-toc.1-1.18.2.8.1" data-dl-uid="3054" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.8" class="xref" data-dl-uid="3055" data-dl-original="true" data-dl-translated="true">18.8</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.18.2.8.1" class="pilcrow" data-dl-uid="3057" data-dl-original="true" data-dl-translated="true">リクエストされたトランスポート¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.18.2.9">
                <p id="section-toc.1-1.18.2.9.1" data-dl-uid="3058" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.9" class="xref" data-dl-uid="3059" data-dl-original="true" data-dl-translated="true">18.9</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.18.2.9.1" class="pilcrow" data-dl-uid="3061" data-dl-original="true" data-dl-translated="true">ドントフラグメント¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.18.2.10">
                <p id="section-toc.1-1.18.2.10.1" data-dl-uid="3062" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.10" class="xref" data-dl-uid="3063" data-dl-original="true" data-dl-translated="true">18.10</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.18.2.10.1" class="pilcrow" data-dl-uid="3065" data-dl-original="true" data-dl-translated="true">リザベーショントークン</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.18.2.11">
                <p id="section-toc.1-1.18.2.11.1" data-dl-uid="3066" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.11" class="xref" data-dl-uid="3067" data-dl-original="true" data-dl-translated="true">18.11</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.18.2.11.1" class="pilcrow" data-dl-uid="3069" data-dl-original="true" data-dl-translated="true">additional-address-family¶ （追加アドレスファミリ</a>）。</p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.18.2.12">
                <p id="section-toc.1-1.18.2.12.1" data-dl-uid="3070" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.12" class="xref" data-dl-uid="3071" data-dl-original="true" data-dl-translated="true">18.12</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.18.2.12.1" class="pilcrow" data-dl-uid="3073" data-dl-original="true" data-dl-translated="true">アドレス・エラー・コード¶」。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.18.2.13">
                <p id="section-toc.1-1.18.2.13.1" data-dl-uid="3074" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.13" class="xref" data-dl-uid="3075" data-dl-original="true" data-dl-translated="true">18.13</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.18.2.13.1" class="pilcrow" data-dl-uid="3077" data-dl-original="true" data-dl-translated="true">ICMP¶の</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.19">
            <p id="section-toc.1-1.19.1" data-dl-uid="3078" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-19" class="xref" data-dl-uid="3079" data-dl-original="true" data-dl-translated="true">19</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-stun-error-response-codes" class="xref" data-dl-uid="3080" data-dl-original="true" data-dl-translated="true">STUNエラー応答</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.19.1" class="pilcrow" data-dl-uid="3081" data-dl-original="true" data-dl-translated="true">コード¶」。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.20">
            <p id="section-toc.1-1.20.1" data-dl-uid="3082" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-20" class="xref" data-dl-uid="3083" data-dl-original="true" data-dl-translated="true">20</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-detailed-example" class="xref" data-dl-uid="3084" data-dl-original="true" data-dl-translated="true">詳しい</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.20.1" class="pilcrow" data-dl-uid="3085" data-dl-original="true" data-dl-translated="true">例¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.21">
            <p id="section-toc.1-1.21.1" data-dl-uid="3086" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21" class="xref" data-dl-uid="3087" data-dl-original="true" data-dl-translated="true">21</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-security-considerations" class="xref" data-dl-uid="3088" data-dl-original="true" data-dl-translated="true">セキュリティの</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.1" class="pilcrow" data-dl-uid="3089" data-dl-original="true" data-dl-translated="true">考慮事項¶。</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.21.2.1">
                <p id="section-toc.1-1.21.2.1.1" data-dl-uid="3090" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1" class="xref" data-dl-uid="3091" data-dl-original="true" data-dl-translated="true">21.1</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-outsider-attacks" class="xref" data-dl-uid="3092" data-dl-original="true" data-dl-translated="true">アウトサイダー</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.2.1.1" class="pilcrow" data-dl-uid="3093" data-dl-original="true" data-dl-translated="true">アタック¶について</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.21.2.1.2.1">
                    <p id="section-toc.1-1.21.2.1.2.1.1" data-dl-uid="3094" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.1" class="xref" data-dl-uid="3095" data-dl-original="true" data-dl-translated="true">21.1.1</a> <a href="https://www.rfc-editor.org/rfc/rfc8656#name-obtaining-unauthorized-allo" class="xref" data-dl-uid="3096" data-dl-original="true" data-dl-translated="true">無許可で</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.2.1.2.1.1" class="pilcrow" data-dl-uid="3097" data-dl-original="true" data-dl-translated="true">割り当てを</a> <a data-dl-uid="3096" data-dl-translated="true">受ける</a><a data-dl-uid="3097" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.21.2.1.2.2">
                    <p id="section-toc.1-1.21.2.1.2.2.1" data-dl-uid="3098" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.2" class="xref" data-dl-uid="3099" data-dl-original="true" data-dl-translated="true">21.1.2</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-offline-dictionary-attacks" class="xref" data-dl-uid="3100" data-dl-original="true" data-dl-translated="true">オフライン辞書</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.2.1.2.2.1" class="pilcrow" data-dl-uid="3101" data-dl-original="true" data-dl-translated="true">攻撃¶」。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.21.2.1.2.3">
                    <p id="section-toc.1-1.21.2.1.2.3.1" data-dl-uid="3102" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.3" class="xref" data-dl-uid="3103" data-dl-original="true" data-dl-translated="true">21.1.3</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-faked-refreshes-and-permiss" class="xref" data-dl-uid="3104" data-dl-original="true" data-dl-translated="true">リフレッシュと</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.2.1.2.3.1" class="pilcrow" data-dl-uid="3105" data-dl-original="true" data-dl-translated="true">パーミッションの</a> <a data-dl-uid="3104" data-dl-translated="true">偽装</a><a data-dl-uid="3105" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.21.2.1.2.4">
                    <p id="section-toc.1-1.21.2.1.2.4.1" data-dl-uid="3106" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.4" class="xref" data-dl-uid="3107" data-dl-original="true" data-dl-translated="true">21.1.4</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-fake-data" class="xref" data-dl-uid="3108" data-dl-original="true" data-dl-translated="true">偽の</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.2.1.2.4.1" class="pilcrow" data-dl-uid="3109" data-dl-original="true" data-dl-translated="true">データ¶について</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.21.2.1.2.5">
                    <p id="section-toc.1-1.21.2.1.2.5.1" data-dl-uid="3110" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.5" class="xref" data-dl-uid="3111" data-dl-original="true" data-dl-translated="true">21.1.5</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.2.1.2.5.1" class="pilcrow" data-dl-uid="3113" data-dl-original="true" data-dl-translated="true">サーバーに</a> <a href="https://www.rfc-editor.org/rfc/rfc8656#name-impersonating-a-server" class="xref" data-dl-uid="3112" data-dl-original="true" data-dl-translated="true">なりすます</a>こと<a data-dl-uid="3113" data-dl-translated="true">¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.21.2.1.2.6">
                    <p id="section-toc.1-1.21.2.1.2.6.1" data-dl-uid="3114" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.6" class="xref" data-dl-uid="3115" data-dl-original="true" data-dl-translated="true">21.1.6</a>.<a href="https://www.rfc-editor.org/rfc/rfc8656#name-eavesdropping-traffic" class="xref" data-dl-uid="3116" data-dl-original="true" data-dl-translated="true">盗み聞き</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.2.1.2.6.1" class="pilcrow" data-dl-uid="3117" data-dl-original="true" data-dl-translated="true">トラフィック¶。</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.21.2.1.2.7">
                    <p id="section-toc.1-1.21.2.1.2.7.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.7" class="xref">21.1.7</a>.&nbsp;&nbsp;<a href="https://www.rfc-editor.org/rfc/rfc8656#name-turn-loop-attack" class="xref">TURN Loop Attack</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.2.1.2.7.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.21.2.2">
                <p id="section-toc.1-1.21.2.2.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.2" class="xref">21.2</a>.&nbsp;&nbsp;<a href="https://www.rfc-editor.org/rfc/rfc8656#name-firewall-considerations" class="xref">Firewall Considerations</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.2.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.21.2.2.2.1">
                    <p id="section-toc.1-1.21.2.2.2.1.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.2.1" class="xref">21.2.1</a>.&nbsp;&nbsp;<a href="https://www.rfc-editor.org/rfc/rfc8656#name-faked-permissions" class="xref">Faked Permissions</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.21.2.2.2.2">
                    <p id="section-toc.1-1.21.2.2.2.2.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.2.2" class="xref">21.2.2</a>.&nbsp;&nbsp;<a href="https://www.rfc-editor.org/rfc/rfc8656#name-blacklisted-ip-addresses" class="xref">Blacklisted IP Addresses</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.21.2.2.2.3">
                    <p id="section-toc.1-1.21.2.2.2.3.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.2.3" class="xref">21.2.3</a>.&nbsp;&nbsp;<a href="https://www.rfc-editor.org/rfc/rfc8656#name-running-servers-on-well-kno" class="xref">Running Servers on Well-Known Ports</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.21.2.3">
                <p id="section-toc.1-1.21.2.3.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.3" class="xref">21.3</a>.&nbsp;&nbsp;<a href="https://www.rfc-editor.org/rfc/rfc8656#name-insider-attacks" class="xref">Insider Attacks</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.2.3.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.21.2.3.2.1">
                    <p id="section-toc.1-1.21.2.3.2.1.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.3.1" class="xref">21.3.1</a>.&nbsp;&nbsp;<a href="https://www.rfc-editor.org/rfc/rfc8656#name-dos-against-turn-server" class="xref">DoS against TURN Server</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.21.2.3.2.2">
                    <p id="section-toc.1-1.21.2.3.2.2.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.3.2" class="xref">21.3.2</a>.&nbsp;&nbsp;<a href="https://www.rfc-editor.org/rfc/rfc8656#name-anonymous-relaying-of-malic" class="xref">Anonymous Relaying of Malicious Traffic</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.2.3.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.21.2.3.2.3">
                    <p id="section-toc.1-1.21.2.3.2.3.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.3.3" class="xref">21.3.3</a>.&nbsp;&nbsp;<a href="https://www.rfc-editor.org/rfc/rfc8656#name-manipulating-other-allocati" class="xref">Manipulating Other Allocations</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.2.3.2.3.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.21.2.4">
                <p id="section-toc.1-1.21.2.4.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.4" class="xref">21.4</a>.&nbsp;&nbsp;<a href="https://www.rfc-editor.org/rfc/rfc8656#name-tunnel-amplification-attack" class="xref">Tunnel Amplification Attack</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.2.4.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.21.2.5">
                <p id="section-toc.1-1.21.2.5.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.5" class="xref">21.5</a>.&nbsp;&nbsp;<a href="https://www.rfc-editor.org/rfc/rfc8656#name-other-considerations" class="xref">Other Considerations</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.21.2.5.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.22">
            <p id="section-toc.1-1.22.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-22" class="xref">22</a>.&nbsp;<a href="https://www.rfc-editor.org/rfc/rfc8656#name-iana-considerations" class="xref">IANA Considerations</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.22.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.23">
            <p id="section-toc.1-1.23.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-23" class="xref">23</a>.&nbsp;<a href="https://www.rfc-editor.org/rfc/rfc8656#name-iab-considerations" class="xref">IAB Considerations</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.23.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.24">
            <p id="section-toc.1-1.24.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-24" class="xref">24</a>.&nbsp;<a href="https://www.rfc-editor.org/rfc/rfc8656#name-changes-since-rfc-5766" class="xref">Changes since RFC 5766</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.24.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.25">
            <p id="section-toc.1-1.25.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-25" class="xref">25</a>.&nbsp;<a href="https://www.rfc-editor.org/rfc/rfc8656#name-updates-to-rfc-6156" class="xref">Updates to RFC 6156</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.25.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.26">
            <p id="section-toc.1-1.26.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-26" class="xref">26</a>.&nbsp;<a href="https://www.rfc-editor.org/rfc/rfc8656#name-references" class="xref">References</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.26.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.26.2.1">
                <p id="section-toc.1-1.26.2.1.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-26.1" class="xref">26.1</a>.&nbsp;&nbsp;<a href="https://www.rfc-editor.org/rfc/rfc8656#name-normative-references" class="xref">Normative References</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.26.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.26.2.2">
                <p id="section-toc.1-1.26.2.2.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-26.2" class="xref">26.2</a>.&nbsp;&nbsp;<a href="https://www.rfc-editor.org/rfc/rfc8656#name-informative-references" class="xref">Informative References</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.26.2.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.27">
            <p id="section-toc.1-1.27.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-appendix.a" class="xref"></a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-acknowledgements" class="xref">Acknowledgements</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.27.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.28">
            <p id="section-toc.1-1.28.1"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-appendix.b" class="xref"></a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-authors-addresses" class="xref">Authors' Addresses</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-toc.1-1.28.1" class="pilcrow">¶</a></p>
</li>
</ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction" data-dl-uid="189" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-1" class="section-number selfRef" data-dl-uid="190" data-dl-original="true" data-dl-translated="true">1. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-introduction" class="section-name selfRef" data-dl-uid="191" data-dl-original="true" data-dl-translated="true">はじめに</a>     </h2>
<p id="section-1-1" data-dl-uid="192" data-dl-original="true" data-dl-translated="true">NATの後ろにいるホストは、他のホストとパケットを交換したいと思うかもしれない、そのうちのいくつかはまたNATの後ろにいるかもしれない。これを行うために、関係するホストは「ホールパンチング」技術（<span data-dl-uid="193" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC5128" class="xref" data-dl-uid="194" data-dl-original="true" data-dl-translated="true">RFC5128</a>]</span>参照）を使用して、直接の通信経路を発見しようとすることができる。つまり、あるホストから別のホストへ、介在するNATやルータを通過するが中継を経由しない通信経路である<a href="https://www.rfc-editor.org/rfc/rfc8656#section-1-1" class="pilcrow" data-dl-uid="195" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-1-2" data-dl-uid="196" data-dl-original="true" data-dl-translated="true"><span data-dl-uid="197" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC5128" class="xref" data-dl-uid="198" data-dl-original="true" data-dl-translated="true">RFC5128</a>]</span>と<span data-dl-uid="199" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC4787" class="xref" data-dl-uid="200" data-dl-original="true" data-dl-translated="true">RFC4787</a>]</span>で説明されているように、ホールパンチング技術は、両方のホストがうまく動作しないNATの後ろにある場合に失敗します。例えば、両方のホストが「アドレス依存のマッピング」や「アドレスとポート依存のマッピング」（<span data-dl-uid="201" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC4787" class="xref" data-dl-uid="203" data-dl-original="true" data-dl-translated="true">RFC4787</a>]の<a href="https://www.rfc-editor.org/rfc/rfc4787#section-4.1" class="relref" data-dl-uid="202" data-dl-original="true" data-dl-translated="true">セクション4.1</a></span>参照）のマッピング動作を持つNATの後ろにいる場合、ホールパンチング技術は一般的に失敗します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-1-2" class="pilcrow" data-dl-uid="204" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-1-3" data-dl-uid="205" data-dl-original="true" data-dl-translated="true">直接の通信経路が見つからない場合、パケットの中継を行う中間ホストのサービスを利用する必要があります。このリレーは通常、パブリックインターネットに設置され、NATの後ろに位置する2つのホスト間でパケットを中継します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-1-3" class="pilcrow" data-dl-uid="206" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-1-4" data-dl-uid="207" data-dl-original="true" data-dl-translated="true">多くの企業ネットワークでは、内部ネットワーク上のクライアントと外部 IP アドレスとの間で直接 UDP 伝送を行うことは許可されていません。このような状況でメディアセッションが UDP を使用することを許可し、TCP を介して強制することを避けるために、Enterprise リレーサーバーを介してリレーされる UDP トラフィックを許可するように Enterprise Firewall を設定することができます。WebRTC では、このシナリオのサポートが必要です (<span data-dl-uid="208" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7478" class="xref" data-dl-uid="210" data-dl-original="true" data-dl-translated="true">RFC7478</a>] の<a href="https://www.rfc-editor.org/rfc/rfc7478#section-2.3.5.1" class="relref" data-dl-uid="209" data-dl-original="true" data-dl-translated="true">セクション 2.3.5.1</a></span> を参照)。SIPまたはWebRTCのユーザーの中には、リモートピアからIPロケーションのプライバシーを取得したい人がいます。このシナリオでは、クライアントはIPロケーションプライバシーを提供する中継サーバーを選択し、ICE接続性チェックのために中継候補を相手にのみ伝えることができる（<span data-dl-uid="211" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#I-D.ietf-rtcweb-security" class="xref" data-dl-uid="213" data-dl-original="true" data-dl-translated="true">SEC-WEBRTC</a>]の<a href="https://tools.ietf.org/html/draft-ietf-rtcweb-security-12#section-4.2.4" class="relref" data-dl-uid="212" data-dl-original="true" data-dl-translated="true">セクション4.2.4</a></span>参照<a href="https://www.rfc-editor.org/rfc/rfc8656#section-1-4" class="pilcrow" data-dl-uid="214" data-dl-original="true" data-dl-translated="true">）。¶。</a></p>
<p id="section-1-5" data-dl-uid="215" data-dl-original="true" data-dl-translated="true">本仕様書は、NATの後ろにいるホスト（「TURNクライアント」と呼ぶ）が、他のホスト（「TURNサーバー」と呼ぶ）にリレーとして機能することを要求できる「TURN」と呼ばれるプロトコルを定義する。 クライアントは、サーバーが特定の他のホスト（「ピア」と呼ぶ）とパケットをリレーするように手配し、クライアントがリレーの方法について制御することができます。クライアントは、「中継トランスポートアドレス」と呼ばれるサーバーのIPアドレスとポートを取得することでこれを実行します。ピアが中継トランスポートアドレスにパケットを送信すると、サーバーはパケットからトランスポートプロトコルデータをクライアントに中継する。サーバーがICMPエラーパケットを受信した場合、サーバーはICMPヘッダーから特定のレイヤー3及び4ヘッダーフィールドもクライアントに中継する。クライアントがサーバにメッセージを送信すると、サーバはメッセージヘッダからリモートピアを特定し、意図したピアにメッセージデータを中継します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-1-5" class="pilcrow" data-dl-uid="216" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-1-6" data-dl-uid="217" data-dl-original="true" data-dl-translated="true">TURNを使用するクライアントは、中継されたトランスポートアドレスをピアに伝え、各ピアのIPアドレスとポート(より正確には、各ピアのサーバー反射型トランスポートアドレス。<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-overview" class="xref" data-dl-uid="218" data-dl-original="true" data-dl-translated="true">セクション3</a>参照)を学習するための何らかの方法を持たなければならない。これがどのように行われるかは、TURNプロトコルの範囲外である。一つの方法は、クライアントとピアが電子メールメッセージを交換することである。別の方法は、クライアントとそのピアが特別な目的の「導入」または「ランデブー」プロトコルを使用することであ<a href="https://www.rfc-editor.org/rfc/rfc8656#section-1-6" class="pilcrow" data-dl-uid="221" data-dl-original="true" data-dl-translated="true">る</a>(詳細については<span data-dl-uid="219" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC5128" class="xref" data-dl-uid="220" data-dl-original="true" data-dl-translated="true">RFC5128</a>]</span>を参照)¶。</p>
<p id="section-1-7" data-dl-uid="222" data-dl-original="true" data-dl-translated="true">TURNがICE<span data-dl-uid="223" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8445" class="xref" data-dl-uid="224" data-dl-original="true" data-dl-translated="true">RFC8445</a>]</span>と共に使用される場合、中継トランスポートアドレス、 ピアのIPアドレスとポートが、ランデブープロトコルが伝送しなければならないICE候補 情報に含まれる。たとえば、TURNとICEがSIP<span data-dl-uid="225" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC3261" class="xref" data-dl-uid="226" data-dl-original="true" data-dl-translated="true">RFC3261</a></span>]を使用するマルチメディアソリューションの一部として使用される場合、SIPはランデブープロトコルの役割を果たし、SIPメッセージのボディ内にICE候補情報を伝送する<span data-dl-uid="227" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#I-D.ietf-mmusic-ice-sip-sdp" class="xref" data-dl-uid="228" data-dl-original="true" data-dl-translated="true">SDP-ICE</a>]</span>。TURNとICEが他のランデブープロトコルと共に使用される場合、ICEはランデブープロトコルが実行しなければならないサービスに関するガイダンスを提供する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-1-7" class="pilcrow" data-dl-uid="229" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-1-8" data-dl-uid="230" data-dl-original="true" data-dl-translated="true">TURNサーバーを使用してNATの後ろにある2つのホスト間の通信を可能にすることは非常に可能性が高いが、サーバーは通常インターネットへの広帯域接続を必要とするため、TURNサーバーのプロバイダーにとって高いコストが発生する。そのため、TURNサーバーは、直接の通信経路が見つからない場合にのみ使用するのがベストです。クライアントとピアがICEを使用して通信経路を決定する場合、ICEはホールパンチング技術を使用して最初に直接経路を検索し、直接経路が見つからない場合にのみTURNサーバーを使用します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-1-8" class="pilcrow" data-dl-uid="231" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-1-9" data-dl-uid="232" data-dl-original="true" data-dl-translated="true">TURNはもともと、SIPを使用してシグナリングされるマルチメディアセッションをサポートするために考案されたものである。SIPはフォーキングをサポートするので、TURNは中継されるトランスポー トアドレスごとに複数のピア(例えば、SOCKS<span data-dl-uid="233" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC1928" class="xref" data-dl-uid="234" data-dl-original="true" data-dl-translated="true">RFC1928</a>]</span>)をサポートする。この機能は、 他のアプローチではサポートされていない。しかし、TURNが他の種類のアプリケーションに適していることを確認するために、注意が払われている<a href="https://www.rfc-editor.org/rfc/rfc8656#section-1-9" class="pilcrow" data-dl-uid="235" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-1-10" data-dl-uid="236" data-dl-original="true" data-dl-translated="true">TURNは、NATトラバーサルに対するより大きなICEアプローチの中の1ピースとして設計された。TURNの実装者は、ICEを調査し、自分たちのアプリケーションに使用することを真剣に検討するよう強く求められる。しかし、ICEなしでTURNを使うことは可能である<a href="https://www.rfc-editor.org/rfc/rfc8656#section-1-10" class="pilcrow" data-dl-uid="237" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-1-11" data-dl-uid="238" data-dl-original="true" data-dl-translated="true">TURNは、Session Traversal Utilities for NAT (STUN) プロトコル<span data-dl-uid="239" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="240" data-dl-original="true" data-dl-translated="true">RFC8489</a></span>]の拡張である。すべてではないが、ほとんどのTURNメッセージはSTUN形式のメッセージである。このドキュメントの読者は、STUNに精通しているはずである<a href="https://www.rfc-editor.org/rfc/rfc8656#section-1-11" class="pilcrow" data-dl-uid="241" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-1-12" data-dl-uid="242" data-dl-original="true" data-dl-translated="true">TURN仕様は、もともと<span data-dl-uid="243" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC5766" class="xref" data-dl-uid="244" data-dl-original="true" data-dl-translated="true">RFC5766</a>]</span>として公開され、<span data-dl-uid="245" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC6156" class="xref" data-dl-uid="246" data-dl-original="true" data-dl-translated="true">RFC6156</a>]</span>によってIPv6サポートを追加するために更新された。この文書は、<span data-dl-uid="247" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC5766" class="xref" data-dl-uid="248" data-dl-original="true" data-dl-translated="true">RFC5766</a>]</span>と<span data-dl-uid="249" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC6156" class="xref" data-dl-uid="250" data-dl-original="true" data-dl-translated="true">RFC6156</a>]</span>の両方に取って代わり、廃止される<a href="https://www.rfc-editor.org/rfc/rfc8656#section-1-12" class="pilcrow" data-dl-uid="251" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<section id="section-2">
      <h2 id="name-terminology" data-dl-uid="252" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2" class="section-number selfRef" data-dl-uid="253" data-dl-original="true" data-dl-translated="true">2. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-terminology" class="section-name selfRef" data-dl-uid="254" data-dl-original="true" data-dl-translated="true">用語</a>解説      </h2>
<p id="section-2-1" data-dl-uid="255" data-dl-original="true" data-dl-translated="true">
    本書におけるキーワード<span class="bcp14" data-dl-uid="256" data-dl-original="true" data-dl-translated="true">「MUST</span>」「<span class="bcp14" data-dl-uid="257" data-dl-original="true" data-dl-translated="true">MUST NOT</span>」「<span class="bcp14" data-dl-uid="258" data-dl-original="true" data-dl-translated="true">REQUIRED</span>」「<span class="bcp14" data-dl-uid="259" data-dl-original="true" data-dl-translated="true">SHALL</span>」「<span class="bcp14" data-dl-uid="260" data-dl-original="true" data-dl-translated="true">SHALL NOT</span>」「<span class="bcp14" data-dl-uid="261" data-dl-original="true" data-dl-translated="true">SHOULD</span>」「<span class="bcp14" data-dl-uid="262" data-dl-original="true" data-dl-translated="true">SHOULD NOT</span>」「<span class="bcp14" data-dl-uid="263" data-dl-original="true" data-dl-translated="true">RECOMMENDED</span>」「<span class="bcp14" data-dl-uid="264" data-dl-original="true" data-dl-translated="true">NOT RECOMMENDED</span>」「<span class="bcp14" data-dl-uid="265" data-dl-original="true" data-dl-translated="true">MAY</span>」「<span class="bcp14" data-dl-uid="266" data-dl-original="true" data-dl-translated="true">OPTIONAL</span>」は、ここに示すようにすべて大文字で表示される場合のみBCP14<span data-dl-uid="267" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC2119" class="xref" data-dl-uid="268" data-dl-original="true" data-dl-translated="true">RFC2119</a>]</span> <span data-dl-uid="269" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8174" class="xref" data-dl-uid="270" data-dl-original="true" data-dl-translated="true">RFC8174</a>]</span>に記載されているように解釈すること<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-1" class="pilcrow" data-dl-uid="271" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-2-2" data-dl-uid="272" data-dl-original="true" data-dl-translated="true">読者は、<span data-dl-uid="273" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="274" data-dl-original="true" data-dl-translated="true">RFC8489</a>]</span>とそこで定義された用語に精通していることが期待されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-2" class="pilcrow" data-dl-uid="275" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-2-3" data-dl-uid="276" data-dl-original="true" data-dl-translated="true">本書では、以下の用語を使用しています<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-3" class="pilcrow" data-dl-uid="277" data-dl-original="true" data-dl-translated="true">：</a>¶。</p>
<dl class="dlNewline" id="section-2-4">
        <dt id="section-2-4.1" data-dl-uid="278" data-dl-original="true" data-dl-translated="true">ターンをしてください。</dt>
<dd id="section-2-4.2" data-dl-uid="279" data-dl-original="true" data-dl-translated="true">TURNクライアントとTURNサーバーの間で話されるプロトコルである。STUNプロトコル<span data-dl-uid="280" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="281" data-dl-original="true" data-dl-translated="true">RFC8489</a></span>]を拡張したものである。このプロトコルは、クライアントが中継されたトランスポートアドレスを割り当てて使用することを可能にします<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-4.2" class="pilcrow" data-dl-uid="282" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-2-4.3" data-dl-uid="283" data-dl-original="true" data-dl-translated="true">TURNクライアントです。</dt>
<dd id="section-2-4.4" data-dl-uid="284" data-dl-original="true" data-dl-translated="true">本仕様を実装したSTUNクライアントをいう<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-4.4" class="pilcrow" data-dl-uid="285" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-2-4.5" data-dl-uid="286" data-dl-original="true" data-dl-translated="true">TURNサーバーです。</dt>
<dd id="section-2-4.6" data-dl-uid="287" data-dl-original="true" data-dl-translated="true">本仕様を実装したSTUNサーバー。TURNクライアントとそのピア（複数可）間のデータを中継する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-4.6" class="pilcrow" data-dl-uid="288" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-2-4.7" data-dl-uid="289" data-dl-original="true" data-dl-translated="true">ピア。</dt>
<dd id="section-2-4.8" data-dl-uid="290" data-dl-original="true" data-dl-translated="true">TURNクライアントが通信を希望するホスト。TURNサーバーは、TURNクライアントとそのピア（複数可）間のトラフィックを中継する。ピアは、この文書で定義されたプロトコルを使用してTURNサーバーと対話するのではなく、ピアはTURNサーバーが送信したデータを受信し、ピアはTURNサーバーに向けてデータを送信します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-4.8" class="pilcrow" data-dl-uid="291" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-2-4.9" data-dl-uid="292" data-dl-original="true" data-dl-translated="true">トランスポートアドレスです。</dt>
<dd id="section-2-4.10" data-dl-uid="293" data-dl-original="true" data-dl-translated="true">IPアドレスとポートの組み合わせです<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-4.10" class="pilcrow" data-dl-uid="294" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-2-4.11" data-dl-uid="295" data-dl-original="true" data-dl-translated="true">ホスト・トランスポート・アドレス。</dt>
<dd id="section-2-4.12" data-dl-uid="296" data-dl-original="true" data-dl-translated="true">クライアントまたはピア上のトランスポートアドレスです<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-4.12" class="pilcrow" data-dl-uid="297" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-2-4.13" data-dl-uid="298" data-dl-original="true" data-dl-translated="true">Server-Reflexiveトランスポートアドレス。</dt>
<dd id="section-2-4.14" data-dl-uid="299" data-dl-original="true" data-dl-translated="true">NATの「外部側」にあるトランスポートアドレスです。このアドレスは、特定のホストのトランスポートアドレスに対応するように、NATによって割り当てられる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-4.14" class="pilcrow" data-dl-uid="300" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
<dt id="section-2-4.15" data-dl-uid="301" data-dl-original="true" data-dl-translated="true">中継されたトランスポート・アドレス。</dt>
<dd id="section-2-4.16" data-dl-uid="302" data-dl-original="true" data-dl-translated="true">TURNサーバー上のトランスポートアドレスで、クライアントとピアの間でパケットを中継するために使用されます。ピアはTURNサーバーのこのアドレスに送信し、パケットはクライアントに中継されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-4.16" class="pilcrow" data-dl-uid="303" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
<dt id="section-2-4.17" data-dl-uid="304" data-dl-original="true" data-dl-translated="true">TURN Server トランスポートアドレス。</dt>
<dd id="section-2-4.18" data-dl-uid="305" data-dl-original="true" data-dl-translated="true">TURN メッセージをサーバーに送信するために使用される TURN サーバーのトランスポートアドレスです。クライアントがサーバーと通信するために使用するトランスポートアドレスです<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-4.18" class="pilcrow" data-dl-uid="306" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-2-4.19" data-dl-uid="307" data-dl-original="true" data-dl-translated="true">ピアトランスポートアドレスです。</dt>
<dd id="section-2-4.20" data-dl-uid="308" data-dl-original="true" data-dl-translated="true">サーバーから見たピアのトランスポートアドレスです。ピアがNATの後ろにいる場合、これはピアのサーバー反射トランスポートアドレスです<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-4.20" class="pilcrow" data-dl-uid="309" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-2-4.21" data-dl-uid="310" data-dl-original="true" data-dl-translated="true">割り当てる。</dt>
<dd id="section-2-4.22" data-dl-uid="311" data-dl-original="true" data-dl-translated="true">Allocate リクエストを通じてクライアントに付与される中継トランスポートアドレスと、パーミッションや有効期限タイマなどの関連する状態です<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-4.22" class="pilcrow" data-dl-uid="312" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-2-4.23" data-dl-uid="313" data-dl-original="true" data-dl-translated="true">5タプルのことです。</dt>
<dd id="section-2-4.24" data-dl-uid="314" data-dl-original="true" data-dl-translated="true">クライアントとサーバー間の通信に使用される組み合わせ（クライアントIPアドレスとポート、サーバーIPアドレスとポート、トランスポートプロトコル（現在はUDP、TCP、DTLS/UDP、TLS/TCPのうち1つ））です。5-tupleは、この通信ストリームを一意に識別する。また、5-tupleは、サーバー上のAllocationを一意に識別する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-4.24" class="pilcrow" data-dl-uid="315" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-2-4.25" data-dl-uid="316" data-dl-original="true" data-dl-translated="true">トランスポートプロトコル。</dt>
<dd id="section-2-4.26" data-dl-uid="317" data-dl-original="true" data-dl-translated="true">TURNリクエスト、レスポンス、インジケーションを伝送し、5タプルを使用して識別可能なフローを提供するIPの上のプロトコル。本仕様では、トランスポートプロトコルとしてUDPとTCPを定義している。また、UDPとTCPを、それぞれDTLSとTLSを用いたセキュリティ層と組み合わせて使用することも記述している<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-4.26" class="pilcrow" data-dl-uid="318" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
<dt id="section-2-4.27" data-dl-uid="319" data-dl-original="true" data-dl-translated="true">チャンネルです。</dt>
<dd id="section-2-4.28" data-dl-uid="320" data-dl-original="true" data-dl-translated="true">チャネル番号と関連するピア・トランスポート・アドレス。チャネル番号が相手のトランスポートアドレスにバインドされると、クライアントとサーバーは、より帯域幅効率の良いChannelDataメッセージを使用してデータを交換することができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-4.28" class="pilcrow" data-dl-uid="321" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-2-4.29" data-dl-uid="322" data-dl-original="true" data-dl-translated="true">許可する。</dt>
<dd id="section-2-4.30" data-dl-uid="323" data-dl-original="true" data-dl-translated="true">TURNサーバーにトラフィックを送信し、そのトラフィックをTURNクライアントに中継させることを許可されているピアのIPアドレスとトランスポートプロトコル（ただし、ポートは除く）。TURNサーバーは、既存の許可に一致するピアからのトラフィックのみをクライアントに転送します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-4.30" class="pilcrow" data-dl-uid="324" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-2-4.31" data-dl-uid="325" data-dl-original="true" data-dl-translated="true">レルムです。</dt>
<dd id="section-2-4.32" data-dl-uid="326" data-dl-original="true" data-dl-translated="true">サーバーまたはサーバー内のコンテキストを説明するために使用される文字列です。realmは、リクエストの認証に使用するユーザー名とパスワードの組み合わせをクライアントに知らせます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-4.32" class="pilcrow" data-dl-uid="327" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-2-4.33" data-dl-uid="328" data-dl-original="true" data-dl-translated="true">ノンスです。</dt>
<dd id="section-2-4.34" data-dl-uid="329" data-dl-original="true" data-dl-translated="true">サーバーが無作為に選んだ文字列で、サーバーのレスポンスに含まれる。リプレイ攻撃を防ぐために、サーバーは定期的にnonceを変更する必要があります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-4.34" class="pilcrow" data-dl-uid="330" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-2-4.35" data-dl-uid="331" data-dl-original="true" data-dl-translated="true">(D)TLSです。</dt>
<dd id="section-2-4.36" data-dl-uid="332" data-dl-original="true" data-dl-translated="true">Transport Layer Security<span data-dl-uid="333" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8446" class="xref" data-dl-uid="334" data-dl-original="true" data-dl-translated="true">RFC8446</a>]</span>とDatagram Transport Layer Security<span data-dl-uid="335" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC6347" class="xref" data-dl-uid="336" data-dl-original="true" data-dl-translated="true">RFC6347</a>]</span>の両方に適用される記述に対して使用されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-2-4.36" class="pilcrow" data-dl-uid="337" data-dl-original="true" data-dl-translated="true">。</a></dd>
</dl>
</section>
<div id="sec-overview">
<section id="section-3">
      <h2 id="name-overview-of-operation" data-dl-uid="338" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3" class="section-number selfRef" data-dl-uid="339" data-dl-original="true" data-dl-translated="true">3. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-overview-of-operation" class="section-name selfRef" data-dl-uid="340" data-dl-original="true" data-dl-translated="true">操作の概要</a>     </h2>
<p id="section-3-1" data-dl-uid="341" data-dl-original="true" data-dl-translated="true">このセクションでは、TURN の操作の概要を説明します。非規範的なものです<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3-1" class="pilcrow" data-dl-uid="342" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3-2" data-dl-uid="343" data-dl-original="true" data-dl-translated="true">典型的な構成では、TURNクライアントはプライベートネットワーク<span data-dl-uid="344" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC1918" class="xref" data-dl-uid="345" data-dl-original="true" data-dl-translated="true">RFC1918</a></span>]に接続され、1つ以上のNATを経由してパブリックインターネットに接続されています。パブリックインターネット上には、TURNサーバーがある。インターネット上の他の場所には、TURNクライアントが通信を希望する1つまたは複数のピアがあります。これらのピアは、1つまたは複数のNATの背後にある場合もあれば、ない場合もあります。  クライアントは、これらのピアにパケットを送信し、これらのピアからパケットを受信するために、リレーとしてサーバを使用します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3-2" class="pilcrow" data-dl-uid="346" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<div id="fig-turn-model">
<figure id="figure-1">
        <div class="artwork art-text alignLeft" id="section-3-3.1">
<pre data-dl-uid="347" data-dl-original="true" data-dl-translated="true">                                    Peer A Server-Reflexive +---------+ Transport Address | | 192.0.2.150:32102 | | /| | TURN | / ^| Peer A | Client's Server | / | | | Host Transport Transport | // | | | Address Address | // |+---------+ 198.51.100.2:49721 192.0.2.15:3478 |+-+ // ピアA | ||N| / ホスト トランスポート | +-+ ||A|/ アドレス | |｜ v|T| 203.0.113.2:49582 | | | /+-+ +---------+ | | +---------+ / +---------+ | | | | | N | | // | | TURN |v | v| TURN |/ | | クライアント |----|A|-------| サーバ |------------------| ピアB | | | |^ | ^ | | | | | T| | | | | +---------+ | | | | +-----+| |+---------+ | | | | | | +-+ | | | | | クライアントの｜ピアB サーバ-反射中継 トランスポート トランスポート アドレス アドレス 192.0.2.1:7000 192.0.2.15:50000 192.0.2.210:49191</pre>
</div>
<figcaption data-dl-uid="348" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-1" class="selfRef" data-dl-uid="349" data-dl-original="true" data-dl-translated="true">図1</a></figcaption></figure>
</div>
<p id="section-3-4" data-dl-uid="350" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#fig-turn-model" class="xref" data-dl-uid="351" data-dl-original="true" data-dl-translated="true">図 1</a>は典型的なデプロイメントを示す。この図では、TURNクライアントとTURNサーバーはNATによって分離されており、クライアントはNATのプライベート側、サーバーはパブリック側にある。このNATは「悪い」NATであると仮定している。たとえば、「アドレスとポートに依存するマッピング」（<span data-dl-uid="352" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC4787" class="xref" data-dl-uid="353" data-dl-original="true" data-dl-translated="true">RFC4787</a>]</span>参照）というマッピングプロパティを持っている可能性がある<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3-4" class="pilcrow" data-dl-uid="354" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-3-5" data-dl-uid="355" data-dl-original="true" data-dl-translated="true">クライアントは、クライアントの「ホスト・トランスポート・アドレス」と呼ばれる（IPアドレス、ポート）の組み合わせからサーバーと会話します。(IPアドレスとポートの組み合わせは「トランスポートアドレス」と呼ばれます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3-5" class="pilcrow" data-dl-uid="356" data-dl-original="true" data-dl-translated="true">)</a>¶。</p>
<p id="section-3-6" data-dl-uid="357" data-dl-original="true" data-dl-translated="true">クライアントは、そのホストのトランスポートアドレスから、「TURNサーバトランスポートアドレス」として知られるTURNサーバのトランスポートアドレスにTURNメッセージを送信する。クライアントは、何らかの不特定多数の手段（例えば、設定）によってTURNサーバーのトランスポートアドレスを学習し、このアドレスは通常、多くのクライアントによって同時に使用される<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3-6" class="pilcrow" data-dl-uid="358" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-3-7" data-dl-uid="359" data-dl-original="true" data-dl-translated="true">クライアントはNATの後ろにいるため、サーバーはクライアントからのパケットをNAT自体のトランスポートアドレスから来るものとして認識します。このアドレスは、クライアントの「サーバー反射型トランスポートアドレス」と呼ばれ、サーバーからクライアントのサーバー反射型トランスポートアドレスに送られたパケットは、NATによってクライアントのホストトランスポートアドレスに転送されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3-7" class="pilcrow" data-dl-uid="360" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-3-8" data-dl-uid="361" data-dl-original="true" data-dl-translated="true">クライアントは、TURNコマンドを使用して、サーバー上のALLOCATIONを作成し、操作する。アロケーションは、サーバー上のデータ構造である。このデータ構造は、特に、割り当てのための中継されたトランスポートアドレスを含んでいる。中継トランスポートアドレスは、ピアがサーバーにデータをクライアントに中継させるために使用できるサーバー上のトランスポートアドレスである。アロケーションは、その中継されたトランスポートアドレスによって一意に識別される<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3-8" class="pilcrow" data-dl-uid="362" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3-9" data-dl-uid="363" data-dl-original="true" data-dl-translated="true">割り当てが作成されると、クライアントはどのピアにデータを送信するかの指示とともにアプリケーションデータをサーバに送信することができ、サーバはこのデータを目的のピアに中継することができます。クライアントはアプリケーションデータをTURNメッセージでサーバーに送信し、サーバーではTURNメッセージからデータを抽出してUDPデータグラムでピアに送信します。逆方向では、ピアは割り当てのために中継されたトランスポートアドレスにUDPデータグラムでアプリケーションデータを送ることができます。サーバはこのデータをTURNメッセージの中にカプセル化して、どのピアからデータが送られてきたかの表示とともにクライアントに送ります。TURNメッセージは常にクライアントがどのピアと通信しているかの表示を含んでいるので、クライアントは1つのアロケーションを使用して複数のピアと通信することができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3-9" class="pilcrow" data-dl-uid="364" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3-10" data-dl-uid="365" data-dl-original="true" data-dl-translated="true">ピアが NAT の背後にある場合、クライアントは、ホストトランスポートアドレスではなく、サーバー反射型トランスポートアドレスを使用してピアを識別する必要があります。たとえば、上記の例でピアAにアプリケーションデータを送信するには、クライアントは 203.0.113.2:49582 （ピアAのホストトランスポートアドレス）ではなく 192.0.2.150:32102 （ピアAのサーバー反射型トランスポートアドレス）を指定しなければなりません<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3-10" class="pilcrow" data-dl-uid="366" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3-11" data-dl-uid="367" data-dl-original="true" data-dl-translated="true">サーバー上の各アロケーションは、単一のクライアントに属し、そのアロケーションによってのみ使用される1つまたは2つの中継トランスポートアドレスを持っています。したがって、パケットがサーバー上の中継トランスポート・アドレスに到着すると、サーバーはそのデータがどのクライアントのためのものであるかを知ることができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3-11" class="pilcrow" data-dl-uid="368" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-3-12" data-dl-uid="369" data-dl-original="true" data-dl-translated="true">クライアントは、同時にサーバー上で複数のアロケーションを持つことができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3-12" class="pilcrow" data-dl-uid="370" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<div id="sec-transports">
<section id="section-3.1">
        <h3 id="name-transports" data-dl-uid="371" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.1" class="section-number selfRef" data-dl-uid="372" data-dl-original="true" data-dl-translated="true">3.1. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-transports" class="section-name selfRef" data-dl-uid="373" data-dl-original="true" data-dl-translated="true">トランスポート</a>       </h3>
<p id="section-3.1-1" data-dl-uid="374" data-dl-original="true" data-dl-translated="true">本仕様で定義されるTURNは、サーバーとピアの間で常にUDPを使用する。しかし、本仕様では、クライアントとサーバー間のTURNメッセージの伝送に、UDP、TCP、TCP上のTLS（Transport Layer Security）、UDP上のDTLS（Datagram Transport Layer Security）のいずれかを使用することができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.1-1" class="pilcrow" data-dl-uid="375" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<table class="center" id="table-1">
          <caption data-dl-uid="376" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#table-1" class="selfRef" data-dl-uid="377" data-dl-original="true" data-dl-translated="true">表1</a></caption>
<thead>
            <tr>
              <th class="text-center" rowspan="1" colspan="1" data-dl-uid="378" data-dl-original="true" data-dl-translated="true">TURNクライアントからTURNサーバーへ</th>
              <th class="text-center" rowspan="1" colspan="1" data-dl-uid="379" data-dl-original="true" data-dl-translated="true">TURN サーバーからピアへ</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center" rowspan="1" colspan="1" data-dl-uid="380" data-dl-original="true" data-dl-translated="true">ユーピーディー</td>
              <td class="text-center" rowspan="1" colspan="1" data-dl-uid="381" data-dl-original="true" data-dl-translated="true">ユーピーディー</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1" data-dl-uid="382" data-dl-original="true" data-dl-translated="true">伝送制御プロトコル</td>
              <td class="text-center" rowspan="1" colspan="1" data-dl-uid="383" data-dl-original="true" data-dl-translated="true">ユーピーディー</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1" data-dl-uid="384" data-dl-original="true" data-dl-translated="true">TLS-over-TCP</td>
              <td class="text-center" rowspan="1" colspan="1" data-dl-uid="385" data-dl-original="true" data-dl-translated="true">ユーピーディー</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1" data-dl-uid="386" data-dl-original="true" data-dl-translated="true">DTLS-over-UDP</td>
              <td class="text-center" rowspan="1" colspan="1" data-dl-uid="387" data-dl-original="true" data-dl-translated="true">ユーピーディー</td>
            </tr>
          </tbody>
        </table>
<p id="section-3.1-3" data-dl-uid="388" data-dl-original="true" data-dl-translated="true">クライアントとサーバー間でTCPまたはTLS-over-TCPが使用されている場合、サーバーは相手との間でデータを中継する際に、これらのトランスポートとUDPトランスポートの間で変換します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.1-3" class="pilcrow" data-dl-uid="389" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3.1-4" data-dl-uid="390" data-dl-original="true" data-dl-translated="true">このバージョンのTURNは、サーバーとピア間のUDPしかサポートしていないので、ほとんどのクライアントは、クライアントとサーバー間でもUDPを使用することを好むと予想されます。そうなると、読者の中には不思議に思う人もいるかもしれません。なぜTCPとTLS-over-TCPもサポートするのでしょ<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.1-4" class="pilcrow" data-dl-uid="391" data-dl-original="true" data-dl-translated="true">うか？</a></p>
<p id="section-3.1-5" data-dl-uid="392" data-dl-original="true" data-dl-translated="true">TURNは、クライアントとサーバーの間でTCPトランスポートをサポートしています。このようなファイアウォールはUDPをブロックしますが、TCPはブロックしません。これは、TCPにはファイアウォールで保護されているノードの意図をより明白にする特性があるためです。例えば、TCPには3ウェイハンドシェイクがあり、保護されるノードが特定のコネクションの確立を本当に望んでいることが明確になります。一方、UDPの場合、ファイアウォールができることは、フィルタリングルールを使用してどのフローが望まれているかを推測することだけです。また、TCPには明示的なコネクションの破棄がありますが、UDPの場合、ファイアウォールはフローがいつ終了するかを推測するためにタイマーを使用しなければなりません<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.1-5" class="pilcrow" data-dl-uid="393" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3.1-6" data-dl-uid="394" data-dl-original="true" data-dl-translated="true">TURNは、クライアントとサーバー間でTLS-over-TCPトランスポートとDTLS-over-UDPトランスポートをサポートする。これは、(D)TLSがTURNのデフォルトダイジェスト認証では提供できない追加のセキュリティ特性を提供し、クライアントによってはその特性を利用したいと思うかもしれないからである。特に、(D)TLSは、クライアントが正しいサーバーと会話していることを確認する方法を提供し、TURN制御メッセージの機密性を提供します。 

TURNクライアントとTURNサーバー間で(D)TLSトランスポートを使用する場合、 暗号スイート、サーバー証明書の検証、TURNサーバーの認証に関する詳細については、<span data-dl-uid="395" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="397" data-dl-original="true" data-dl-translated="true">RFC8489</a>]の<a href="https://www.rfc-editor.org/rfc/rfc8489#section-6.2.3" class="relref" data-dl-uid="396" data-dl-original="true" data-dl-translated="true">セクション 6.2.3</a></span>を参照。 (D)TLS に対する攻撃を避けるために<span data-dl-uid="398" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7525" class="xref" data-dl-uid="399" data-dl-original="true" data-dl-translated="true">RFC7525</a>]</span>で与えられたガイダンスに従う<span class="bcp14" data-dl-uid="400" data-dl-original="true" data-dl-translated="true">必要がある (MUST)</span>。TURNは(D)TLSを必要としないが、それは(D)TLSを使用するオーバーヘッドがダイジェスト認証より高いからである。例えば、(D)TLSを使用すると、ほとんどのアプリケーションデータが二重に暗号化されることになる（(D)TLSで1回、UDPデータグラムで暗号化が維持されることを確認するために1回）<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.1-6" class="pilcrow" data-dl-uid="401" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3.1-7" data-dl-uid="402" data-dl-original="true" data-dl-translated="true">サーバーとピアの間のTCPトランスポートのためのTURNの拡張がある<span data-dl-uid="403" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC6062" class="xref" data-dl-uid="404" data-dl-original="true" data-dl-translated="true">RFC6062</a>]</span>。このため、サーバーとピア間でUDPを使用する割当は「UDP割当」、サーバーとピア間でTCPを使用する割当は「TCP割当」と呼ばれる。本仕様では、UDP割当のみを記述しています<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.1-7" class="pilcrow" data-dl-uid="405" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-3.1-8" data-dl-uid="406" data-dl-original="true" data-dl-translated="true">TURNのアプリケーションによっては、クライアントがサーバーとの通信に使用するホストトランスポートアドレスでTURNパケット以外のパケットを送受信することがある。これは、例えばICEでTURNを使用する場合に起こりうる。このような場合、クライアントは到着したパケットの送信元アドレスを調べることで、TURNパケットを他のパケットと区別することができます；TURNサーバーから到着したものはTURNパケットになります。複数のプロトコルから受信したパケットをホストトランスポートアドレスで多重化解除するアルゴリズムは、<span data-dl-uid="407" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7983" class="xref" data-dl-uid="408" data-dl-original="true" data-dl-translated="true">RFC7983</a>]</span>で議論されています<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.1-8" class="pilcrow" data-dl-uid="409" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
</div>
<section id="section-3.2">
        <h3 id="name-allocations" data-dl-uid="410" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.2" class="section-number selfRef" data-dl-uid="411" data-dl-original="true" data-dl-translated="true">3.2. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-allocations" class="section-name selfRef" data-dl-uid="412" data-dl-original="true" data-dl-translated="true">割り当てについて</a>       </h3>
<p id="section-3.2-1" data-dl-uid="413" data-dl-original="true" data-dl-translated="true">サーバー上に割り当てを作成するために、クライアントはAllocateトランザクションを使用します。クライアントはサーバーにAllocateリクエストを送信し、サーバーは割り当てられた中継トランスポートアドレスを含むAllocate成功応答で返信する。クライアントは、Allocateリクエストに、希望する割り当てのタイプ（例えば、割り当ての寿命）を記述する属性を含めることができる。データの中継にはセキュリティ上の意味があるため、サーバーは、クライアントがサーバーを使用する権限があることを示すために、通常STUNの長期信用メカニズムまたはSTUN Extension for Third-Party Authorization<span data-dl-uid="414" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7635" class="xref" data-dl-uid="415" data-dl-original="true" data-dl-translated="true">RFC7635</a>]</span>を使用して、クライアント自身を認証することを要求します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.2-1" class="pilcrow" data-dl-uid="416" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-3.2-2" data-dl-uid="417" data-dl-original="true" data-dl-translated="true">中継トランスポートアドレスが割り当てられると、クライアントはその割り当てを維持する必要があります。これを行うために、クライアントは定期的にサーバーにRefreshリクエストを送信する。TURNは、何らかの理由で割り当てが消滅した場合にクライアントが確実に情報を得られるように、意図的にリフレッシュのために異なる方法（AllocateではなくRefresh）を使用しています<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.2-2" class="pilcrow" data-dl-uid="418" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-3.2-3" data-dl-uid="419" data-dl-original="true" data-dl-translated="true">Refreshトランザクションの頻度は、アロケーションの寿命によって決定されます。割り当てのデフォルトの寿命は10分である。この値は、クライアントが予期せず終了した割り当てを適時に期限切れにする一方で、リフレッシュが通常クライアントに負担をかけないように十分な長さに選ばれた。 しかし、クライアントはAllocateリクエストでより長い寿命を要求でき、リフレッシュリクエストでその要求を修正でき、サーバーは常に応答で実際の寿命を表示する。クライアントは、前回のAllocateまたはRefreshトランザクションから「lifetime」秒以内に新しいRefreshトランザクションを発行しなければならない。クライアントが割り当ての使用を望まなくなったら、要求された有効期間がゼロのRefreshリクエストを使って割り当てを削除すべきである<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.2-3" class="pilcrow" data-dl-uid="420" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3.2-4" data-dl-uid="421" data-dl-original="true" data-dl-translated="true">サーバーとクライアントの両方が、「5-tuple」として知られる値を記録している。クライアントでは、5-tupleは、クライアントのホストトランスポートアドレス、サーバトランスポートアドレス、およびクライアントがサーバと通信するために使用するトランスポートプロトコルからなる。サーバーでは、5タプルの値は、クライアントのホストトランスポートアドレスが、サーバーから見たクライアントのアドレスであるため、クライアントのサーバーリフレクティブアドレスに置き換えられる以外は同じである<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.2-4" class="pilcrow" data-dl-uid="422" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-3.2-5" data-dl-uid="423" data-dl-original="true" data-dl-translated="true">クライアントとサーバーは、Allocateリクエストで使用された5-tupleを覚えています。その後のクライアントとサーバー間のメッセージでは、同じ5-tupleを使用します。このようにして、クライアントとサーバーは、どのアロケーションが参照されているのかを知ることができる。クライアントが2つ目の中継トランスポートアドレスを割り当てたい場合、別の5タプルを使って(例えば、別のクライアントホストアドレスやポートを使って)2つ目の割り当てを作成する必要があります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.2-5" class="pilcrow" data-dl-uid="424" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<aside id="section-3.2-6">
          <p id="section-3.2-6.1" data-dl-uid="425" data-dl-original="true" data-dl-translated="true">注：本書で使用する用語は5タプルを指すが、TURNサーバーは、同じ結果をもたらす好きな識別子を保存できる。具体的には、実装はTCP接続を表現するために5タプルの代わりにファイルディスクリプタを使用することができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.2-6.1" class="pilcrow" data-dl-uid="426" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</aside>
<div id="fig-allocate">
<figure id="figure-2">
          <div class="artwork art-text alignLeft" id="section-3.2-7.1">
<pre data-dl-uid="427" data-dl-original="true" data-dl-translated="true">TURN TURN Peer Peer client server A B |-- Allocate request ---------------&gt;| | | (invalid or missing credentials) | | | | | |&lt;--------------- Allocate failure --| | (401 Unauthenticated) | | | | | | | -- Allocate request ---------------&gt;| | (valid credentials) | | | &lt;---------- Allocate success resp --| | | (192.0.2.15:50000) | | // // // | | | |-- リクエストのリフレッシュ ----------------&gt;| | | | | |&lt;---------- リフレッシュ成功resp --| | | | |</pre>
</div>
<figcaption data-dl-uid="428" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-2" class="selfRef" data-dl-uid="429" data-dl-original="true" data-dl-translated="true">図2</a></figcaption></figure>
</div>
<p id="section-3.2-8" data-dl-uid="430" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#fig-allocate" class="xref" data-dl-uid="431" data-dl-original="true" data-dl-translated="true">図</a>2では、クライアントが無効または不足の認証情報とともにサーバーにAllocateリクエストを送信しています。 サーバーは、STUNの長期認証メカニズムを使ってすべてのリクエストを認証する必要があるため、サーバーは401（Unauthorized）エラーコードでリクエストを拒否しています。次に、クライアントは、今度は認証情報を含めて再試行します。このとき、サーバーはAllocateリクエストを受け入れ、割り当てに割り当てられた中継トランスポートアドレスを含むAllocate成功応答を返す（特に、）。しばらくして、クライアントは割り当てをリフレッシュすることを決定し、サーバーにRefreshリクエストを送信する。リフレッシュは受け入れられ、サーバーはリフレッシュ成功応答で返信する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.2-8" class="pilcrow" data-dl-uid="432" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<div id="sec-permission-overview">
<section id="section-3.3">
        <h3 id="name-permissions" data-dl-uid="433" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.3" class="section-number selfRef" data-dl-uid="434" data-dl-original="true" data-dl-translated="true">3.3. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-permissions" class="section-name selfRef" data-dl-uid="435" data-dl-original="true" data-dl-translated="true">パーミッション</a>       </h3>
<p id="section-3.3-1" data-dl-uid="436" data-dl-original="true" data-dl-translated="true">TURNが企業のファイアウォールセキュリティを回避するために使用されるのではないかという企業のIT管理者の懸念を緩和するために、TURNはパーミッションという概念を含んでいます。TURNのパーミッションは、<span data-dl-uid="437" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC4787" class="xref" data-dl-uid="438" data-dl-original="true" data-dl-translated="true">RFC4787</a>]</span>に準拠したNATのアドレス制限付きフィルタリング機構を模倣しています<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.3-1" class="pilcrow" data-dl-uid="439" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-3.3-2" data-dl-uid="440" data-dl-original="true" data-dl-translated="true">アロケーションは、0以上のパーミッションを持つことができます。各パーミッションは、IPアドレスとライフタイムで構成される。サーバーは、アロケーションの中継トランスポートアドレスでUDPデータグラムを受信すると、最初にパーミッションのリストをチェックする。データグラムのソースIPアドレスがパーミッションと一致する場合、アプリケーションデータはクライアントにリレーされ、そうでない場合、UDPデータグラムは静かに破棄されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.3-2" class="pilcrow" data-dl-uid="441" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3.3-3" data-dl-uid="442" data-dl-original="true" data-dl-translated="true">パーミッションは、リフレッシュされないと5分後に失効し、パーミッションを明示的に削除する方法はない。この動作は、<span data-dl-uid="443" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC4787" class="xref" data-dl-uid="444" data-dl-original="true" data-dl-translated="true">RFC4787</a>]</span>に準拠したNATの動作と一致するように選択されています<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.3-3" class="pilcrow" data-dl-uid="445" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3.3-4" data-dl-uid="446" data-dl-original="true" data-dl-translated="true">クライアントは、CreatePermissionリクエストまたはChannelBindリクエストのいずれかを使用して、パーミッションをインストールまたはリフレッシュすることができます。CreatePermissionリクエストを使用すると、1つのリクエストで複数のパーミッションをインストールまたはリフレッシュすることができます。これは、ICEを使用するアプリケーションにとって重要です。セキュリティ上の理由から、パーミッションは認証可能なトランザクションによってのみインストールまたはリフレッシュすることができます。したがって、Send指示とChannelDataメッセージ（ピアにデータを送信するために使用される）は、パーミッションをインストールまたはリフレッシュしません<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.3-4" class="pilcrow" data-dl-uid="447" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3.3-5" data-dl-uid="448" data-dl-original="true" data-dl-translated="true">なお、パーミッションはアロケーションのコンテキスト内にあるため、あるアロケーションでパーミッションを追加したり失効したりしても、他のアロケーションには影響しない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.3-5" class="pilcrow" data-dl-uid="449" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
</div>
<section id="section-3.4">
        <h3 id="name-send-mechanism" data-dl-uid="450" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.4" class="section-number selfRef" data-dl-uid="451" data-dl-original="true" data-dl-translated="true">3.4. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-send-mechanism" class="section-name selfRef" data-dl-uid="452" data-dl-original="true" data-dl-translated="true">送信メカニズム</a>       </h3>
<p id="section-3.4-1" data-dl-uid="453" data-dl-original="true" data-dl-translated="true">クライアントとピアがTURNサーバーを使用してアプリケーションデータを交換するための2つのメカニズムがあります。最初のメカニズムはSendメソッドとDataメソッドを使用し、2番目のメカニズムはチャネルを使用します。両機構に共通するのは、クライアントが割り当てられた1つの中継トランスポートアドレスを使用して複数のピアと通信できることである。したがって、両機構には、クライアントがデータを受信すべきピアをサーバーに指示し、サーバーがデータを送信したピアをクライアントに指示するための手段が含まれている<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.4-1" class="pilcrow" data-dl-uid="454" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-3.4-2" data-dl-uid="455" data-dl-original="true" data-dl-translated="true">Send機構はSend指示とData指示を使用します。Send指示はクライアントからサーバーへアプリケーションデータを送信するために使用され、Data指示はサーバーからクライアントへアプリケーションデータを送信するために使用されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.4-2" class="pilcrow" data-dl-uid="456" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3.4-3" data-dl-uid="457" data-dl-original="true" data-dl-translated="true">Send機構を使用する場合、クライアントはTURNサーバーにSend指示を送信し、(a)ピアの（サーバー反射）トランスポートアドレスを指定するXOR-PEER-ADDRESS属性と(b)アプリケーションデータを保持するDATA属性が含まれる。TURNサーバーはSend指示を受け取ると、DATA属性からアプリケーションデータを抽出し、割り当てられた中継アドレスをソースアドレスとして、UDPデータグラムでピアに送信する。中継されるトランスポートアドレスは、Send指示に使用される5タプルで暗示されるので、指定する必要がないことに注意してください<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.4-3" class="pilcrow" data-dl-uid="458" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3.4-4" data-dl-uid="459" data-dl-original="true" data-dl-translated="true">逆方向では、TURNサーバーの中継トランスポートアドレスに到着したUDPデータグラムはData表示に変換され、XOR-PEER-ADDRESS属性に相手のサーバー反射トランスポートアドレス、DATA属性にデータそのものが含まれてクライアントに送られる。中継されたトランスポートアドレスが割り当てを一意に識別するので、サーバーはどのクライアントがデータを受け取るべきかを知ることができる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.4-4" class="pilcrow" data-dl-uid="460" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-3.4-5" data-dl-uid="461" data-dl-original="true" data-dl-translated="true">TURNサーバーの中継トランスポートアドレスに到着したICMP（Internet Control Message Protocol）パケットの一部は、XOR-PEER-ADDRESS属性に相手のトランスポートアドレス、ICMP属性にICMPタイプとコードを含めて、Data表示に変換してクライアントに送信することができます。ICMP属性の転送は、UDPデータを転送するためにチャネルメカニズムを使用する場合でも、常にXOR-PEER-ADDRESSとICMP属性を含むData指示を使用します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.4-5" class="pilcrow" data-dl-uid="462" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3.4-6" data-dl-uid="463" data-dl-original="true" data-dl-translated="true">STUNの長期信用メカニズムが指示の認証をサポートしないため、送信とデータ指示は認証できない。クライアントからサーバーへのレッグは、ピアへの全パスの半分に過ぎないので、これは最初に見えるほど大きな問題ではない。エンドツーエンドのセキュリティを求めるアプリケーションは、クライアントとピアの間で送信されるデータを暗号化する必要があります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.4-6" class="pilcrow" data-dl-uid="464" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-3.4-7" data-dl-uid="465" data-dl-original="true" data-dl-translated="true">送信指示は認証されないため、攻撃者が偽の送信指示をサーバーに送信し、サーバーがこれをピアに中継することが可能です。この攻撃を部分的に軽減するために、TURNは、Send指示を使用してデータを送信する前に、クライアントがピアに対してパーミッションをインストールすることを要求する。この攻撃を完全に軽減する技術については、<a href="https://www.rfc-editor.org/rfc/rfc8656#fate-data" class="xref" data-dl-uid="466" data-dl-original="true" data-dl-translated="true">セクション21.1.4</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.4-7" class="pilcrow" data-dl-uid="467" data-dl-original="true" data-dl-translated="true">.¶で</a>説明する。</p>
<div id="fig-send-data">
<figure id="figure-3">
          <div class="artwork art-text alignLeft" id="section-3.4-8.1">
<pre data-dl-uid="468" data-dl-original="true" data-dl-translated="true">TURN TURN Peer Peer client server A B | | | |-- CreatePermission req (Peer A) -&gt;| | |&lt;- CreatePermission success resp --| | | | | | | |-- Send ind (Peer A)-------------&gt;| | | |=== data ===&gt;| | | | |&lt;== data ====|             |
  |&lt;------------- Data ind (Peer A) --|             |             |
  |                                   |             |             |
  |                                   |             |             |
  |--- Send ind (Peer B)-------------&gt;|             |             |
  |                                   | dropped     |             |
  |                                   |             |             |
  |                                   |&lt;== data ==================|
  |                           dropped |             |             |
  |                                   |             |             |</pre>
</div>
<figcaption data-dl-uid="469" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-3" class="selfRef" data-dl-uid="470" data-dl-original="true" data-dl-translated="true">図3</a></figcaption></figure>
</div>
<p id="section-3.4-9" data-dl-uid="471" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#fig-send-data" class="xref" data-dl-uid="472" data-dl-original="true" data-dl-translated="true">図3では</a>、クライアントはすでに割り当てを作成し、今度はそのピアにデータを送信することを望んでいる。クライアントはまず、XOR-PEER-ADDRESS属性にピアAの（サーバに反射する）IPアドレスを指定したCreatePermissionリクエストをサーバに送信して許可を作成する。これが行われないと、サーバはクライアントとサーバ間のデータを中継しない。次にクライアントは、Send指示を使用してピアAにデータを送信する。サーバでは、アプリケーションデータが抽出され、中継されたトランスポートアドレスをソーストランスポートアドレスとして使用して、ピアAへUDPデータグラムで転送される。ピアAからのUDPデータグラムが中継トランスポートアドレスで受信されると、その内容がData指示となり、クライアントに転送される。その後、クライアントはピアBとデータを交換しようとするが、ピアBに対するパーミッションがインストールされていないため、クライアントからのSend指示とピアからのUDPデータグラムはともにサーバーによってドロップされる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.4-9" class="pilcrow" data-dl-uid="473" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
<section id="section-3.5">
        <h3 id="name-channels" data-dl-uid="474" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.5" class="section-number selfRef" data-dl-uid="475" data-dl-original="true" data-dl-translated="true">3.5. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-channels" class="section-name selfRef" data-dl-uid="476" data-dl-original="true" data-dl-translated="true">チャンネル</a>       </h3>
<p id="section-3.5-1" data-dl-uid="477" data-dl-original="true" data-dl-translated="true">一部のアプリケーション（Voice over IP（VoIP）など）では、Send指示やData指示がアプリケーションデータに追加する36バイトのオーバーヘッドにより、クライアントとサーバー間で必要な帯域幅が大幅に増加することがあります。これを改善するために、TURNは、クライアントとサーバーがデータを特定のピアと関連付けるための第2の方法を提供します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.5-1" class="pilcrow" data-dl-uid="478" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3.5-2" data-dl-uid="479" data-dl-original="true" data-dl-translated="true">この第2の方法は、「ChannelDataメッセージ」として知られる代替パケット形式を使用します。ChannelDataメッセージは、他のTURNメッセージで使用されるSTUNヘッダーを使用せず、代わりに「チャネル番号」として知られる番号を含む4バイトのヘッダーを持つ。使用されている各チャンネル番号は、特定のピアにバインドされているため、ピアの<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.5-2" class="pilcrow" data-dl-uid="480" data-dl-original="true" data-dl-translated="true">ホストトランスポートアドレスの</a>略記として機能する。</p>
<p id="section-3.5-3" data-dl-uid="481" data-dl-original="true" data-dl-translated="true">チャネルをピアにバインドするには、クライアントはサーバにChannelBindリクエストを送信し、バインドされていないチャネル番号とピアのトランスポートアドレスを含める。チャネルがバインドされると、クライアントはChannelDataメッセージを使用して、そのピアに宛てたデータをサーバに送信することができます。同様に、サーバーはChannelDataメッセージを用いて、そのピアからクライアントに向けてデータを中継することができる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.5-3" class="pilcrow" data-dl-uid="482" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3.5-4" data-dl-uid="483" data-dl-original="true" data-dl-translated="true">チャンネルバインディングはリフレッシュされない限り10分間持続する。この寿命はパーミッションの寿命よりも長くなるように選択された。チャネルバインディングは、チャネルをピアに再バインドする別のChannelBindリクエストを送信することでリフレッシュされます。パーミッションのように(しかしアロケーションとは異なり)、チャンネルバインディングを明示的に削除する方法はない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.5-4" class="pilcrow" data-dl-uid="484" data-dl-original="true" data-dl-translated="true">。</a></p>
<div id="fig-channels">
<figure id="figure-4">
          <div class="artwork art-text alignLeft" id="section-3.5-5.1">
<pre data-dl-uid="485" data-dl-original="true" data-dl-translated="true">TURN TURN Peer Peer client server A B | | | |-- ChannelBind req ---------------| | | (Peer A to 0x4001) | | | | |&lt;---------- ChannelBind succ resp -| | | | | |-- (0x4001) data -----------------&gt;| | | === data ===&gt; === === (0x4001)| データ ============= (0x4001) データ -｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜ ｜ インドの送信（ピアA） ---------------｜｜｜｜｜｜｜ データ =======｜｜｜｜｜｜｜｜｜ ｜｜｜｜｜｜ ｜ ｜ ｜ ｜ ｜｜｜｜｜｜｜｜ ｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜ ●データ - ｜ ｜ ●データ == == == == == == == ●｜データ｜｜ ● ●｜｜｜●●●●● ●データ</pre>
</div>
<figcaption data-dl-uid="486" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-4" class="selfRef" data-dl-uid="487" data-dl-original="true" data-dl-translated="true">図4</a></figcaption></figure>
</div>
<p id="section-3.5-6" data-dl-uid="488" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#fig-channels" class="xref" data-dl-uid="489" data-dl-original="true" data-dl-translated="true">図4は</a>、使用中のチャネルメカニズムを示している。これを行うために、クライアントはサーバーにChannelBindリクエストを送信し、Peer Aのトランスポートアドレスとチャネル番号（0x4001）を指定する。その後、クライアントはChannelDataメッセージの中にカプセル化されたアプリケーションデータをPeer Aに送信することができます：これは「（0x4001）データ」と示され、0x4001はチャネル番号です。ChannelDataメッセージがサーバーに到着すると、サーバーはデータをUDPデータグラムに転送し、それをピアA（チャネル番号0x4001にバインドされているピア）に送信します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.5-6" class="pilcrow" data-dl-uid="490" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3.5-7" data-dl-uid="491" data-dl-original="true" data-dl-translated="true">逆方向では、ピアAが中継トランスポートアドレスにUDPデータグラムを送信すると、このUDPデータグラムは割り当てに割り当てられた中継トランスポートアドレスのサーバに到着する。このUDPデータグラムは、チャネル番号が割り当てられたPeer Aから受信したものであるため、サーバはデータをクライアントに送信する際にChannelDataメッセージにカプセル化します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.5-7" class="pilcrow" data-dl-uid="492" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-3.5-8" data-dl-uid="493" data-dl-original="true" data-dl-translated="true">チャネルがバインドされると、クライアントはChannelDataメッセージとSendインジケーションを自由に混在させることができる。例えば、DONT-FRAGMENT属性(次のセクションを参照)を使用するために、クライアントは後でChannelDataメッセージではなくSend指示を使用して、Peer Aに追加データを送信することを決定することができる。しかし、チャネルがバインドされると、コールフローに示すように、サーバーは常にChannelDataメッセージを使用することになる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.5-8" class="pilcrow" data-dl-uid="494" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-3.5-9" data-dl-uid="495" data-dl-original="true" data-dl-translated="true">ChannelDataメッセージは、クライアントがチャネルをバインドしているピアに対してのみ使用できることに注意してください。上記の例では、ピアAはチャネルにバインドされていますが、ピアBはバインドされていませんので、ピアBとのアプリケーションデータはSendメカニズムを使用することになります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.5-9" class="pilcrow" data-dl-uid="496" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<div id="unpriv">
<section id="section-3.6">
        <h3 id="name-unprivileged-turn-servers" data-dl-uid="497" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.6" class="section-number selfRef" data-dl-uid="498" data-dl-original="true" data-dl-translated="true">3.6. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-unprivileged-turn-servers" class="section-name selfRef" data-dl-uid="499" data-dl-original="true" data-dl-translated="true">非特権TURNサーバー</a>       </h3>
<p id="section-3.6-1" data-dl-uid="500" data-dl-original="true" data-dl-translated="true">このバージョンのTURNは、サーバーが特別な特権を必要とせず、一般的なオペレーティングシステムのユーザースペースで動作するアプリケーションとして実装できるように設計されています。例えば、TURNサーバーをピアツーピアのアプリケーションに組み込んで、あるピアが別のピアにNATトラバーサルサービスを提供し、TURN接続を安全にするために（D）TLSを使用できるようにするためである<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.6-1" class="pilcrow" data-dl-uid="501" data-dl-original="true" data-dl-translated="true">¶</a>この設計決定は、TURNサーバーを簡単に展開できるようにするためになされた。</p>
<p id="section-3.6-2" data-dl-uid="502" data-dl-original="true" data-dl-translated="true">この設計上の決定は、TURNサーバーによって中継されるデータに対して、以下のような意味を持ちます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.6-2" class="pilcrow" data-dl-uid="503" data-dl-original="true" data-dl-translated="true">：</a>¶。</p>
<ul>
<li id="section-3.6-3.1" data-dl-uid="504" data-dl-original="true" data-dl-translated="true">Diffservフィールドの値は、サーバー間で保存されない可能性があります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.6-3.1" class="pilcrow" data-dl-uid="505" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-3.6-3.2" data-dl-uid="506" data-dl-original="true" data-dl-translated="true">TTL（Time to Live）フィールドは、サーバー全体でデクリメントされるのではなく、リセットされる場合があります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.6-3.2" class="pilcrow" data-dl-uid="507" data-dl-original="true" data-dl-translated="true">。</a></li>
<li id="section-3.6-3.3" data-dl-uid="508" data-dl-original="true" data-dl-translated="true">明示的輻輳通知（ECN）フィールドは、サーバーによってリセットされるかもしれない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.6-3.3" class="pilcrow" data-dl-uid="509" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-3.6-3.4" data-dl-uid="510" data-dl-original="true" data-dl-translated="true">パケットはサーバーで再組み立てされるため、エンドツーエンドの断片化はありません<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.6-3.4" class="pilcrow" data-dl-uid="511" data-dl-original="true" data-dl-translated="true">。</a></li>
</ul>
<p id="section-3.6-4" data-dl-uid="512" data-dl-original="true" data-dl-translated="true">将来的には、これらの制限に対処する代替のTURNセマンティクスを指定することができるかもしれません<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.6-4" class="pilcrow" data-dl-uid="513" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
</div>
<section id="section-3.7">
        <h3 id="name-avoiding-ip-fragmentation" data-dl-uid="514" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.7" class="section-number selfRef" data-dl-uid="515" data-dl-original="true" data-dl-translated="true">3.7. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-avoiding-ip-fragmentation" class="section-name selfRef" data-dl-uid="516" data-dl-original="true" data-dl-translated="true">IPフラグメンテーションを回避する</a>       </h3>
<p id="section-3.7-1" data-dl-uid="517" data-dl-original="true" data-dl-translated="true"><span data-dl-uid="518" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#FRAG-HARMFUL" class="xref" data-dl-uid="519" data-dl-original="true" data-dl-translated="true">FRAG-HARMFUL</a></span>]で説明した理由から、アプリケーション、特に大量のデータを送信するアプリケーションは、パケットが断片化されるのを避けるべきである。<span data-dl-uid="520" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#I-D.ietf-intarea-frag-fragile" class="xref" data-dl-uid="521" data-dl-original="true" data-dl-translated="true">[FRAG-FRAGILE</a>]</span>では、IPフラグメントに関連する問題を議論し、IPフラグメントの代替案を提案している。 TCPを使用するアプリケーションは、フラグメントの回避が現在TCPの標準部分であるため、多かれ少なかれこの問題を無視できるが、UDP（したがって、TURNのこのバージョンを使用するすべてのアプリケーション）は、十分に小さなメッセージを送信するか、UDPフラグメントを使用することによってIPフラグメントを回避しなければならない(<span data-dl-uid="522" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#I-D.ietf-tsvwg-udp-options" class="xref" data-dl-uid="523" data-dl-original="true" data-dl-translated="true">UDP-OPT</a></span>)。UDPフラグメントオプションは両方のエンドポイントでサポートされる必要があり、この文書が書かれた時点では、UDPフラグメントのサポートは議論中で、配備されていないことに注意してください<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.7-1" class="pilcrow" data-dl-uid="524" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3.7-2" data-dl-uid="525" data-dl-original="true" data-dl-translated="true">クライアントとピアで実行されるアプリケーションは、UDPフラグメンテーションのサポートが利用可能になるまで、IPフラグメンテーションを回避するために2つのアプローチのいずれかを取ることができます。1つ目は、あらかじめ決められた固定の最大値に制限されたメッセージを使用し、2つ目は、ネットワークのフィードバックに依存してその最大値を適応させます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.7-2" class="pilcrow" data-dl-uid="526" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3.7-3" data-dl-uid="527" data-dl-original="true" data-dl-translated="true">最初のアプローチは、クライアントとピア間で交換されるTURNメッセージ/UDPデータグラムで、大量のアプリケーションデータを送信しないようにすることです。これは、ほとんどのVoIPアプリケーションで取られるアプローチである。このアプローチでは、アプリケーションは1280バイトのPath MTU (PMTU)を想定<span class="bcp14" data-dl-uid="528" data-dl-original="true" data-dl-translated="true">しなければなりません</span>。なぜなら、IPv6は<span data-dl-uid="529" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8200" class="xref" data-dl-uid="530" data-dl-original="true" data-dl-translated="true">RFC8200</a>]</span>で規定されているように、インターネット内のすべてのリンクが1280オクテット以上のMTUを持つことを要求するからです。レガシーネットワークやその他の珍しいネットワークでのIPv4サポートが考慮される場合、アプリケーションはIPv4データグラムに対して576バイトの実効MTUを<span class="bcp14" data-dl-uid="531" data-dl-original="true" data-dl-translated="true">仮定してもよい（MAY）</span>。これは、すべてのIPv4ホストが<span data-dl-uid="532" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC0791" class="xref" data-dl-uid="533" data-dl-original="true" data-dl-translated="true">RFC0791</a>]</span>と<span data-dl-uid="534" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC1122" class="xref" data-dl-uid="535" data-dl-original="true" data-dl-translated="true">RFC1122</a>]</span>で議論されているように576バイトと同じ長さのパケットを受信できることが必要だからです<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.7-3" class="pilcrow" data-dl-uid="536" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-3.7-4" data-dl-uid="537" data-dl-original="true" data-dl-translated="true">フラグメントを回避しながら含めることができるアプリケーションデータの正確な量は、クライアントとサーバー間のTURNセッションの詳細に依存する：UDP、TCP、または（D）TLSトランスポートが使用されているかどうか、ChannelDataメッセージまたはSend/Data表示が使用されているかどうか、および任意の追加属性（DONT-FRAGMENT属性など）を含むかどうか。また、判断が難しいが、IP-in-IPトンネリングの使用など、他の理由でMTUが経路のどこかで削減されているかどうかも要因の一つである<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.7-4" class="pilcrow" data-dl-uid="538" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3.7-5" data-dl-uid="539" data-dl-original="true" data-dl-translated="true">ガイドラインとして、1つのTURNメッセージ（クライアントからサーバーへのレッグのクライアントによる）またはUDPデータグラム（ピアからサーバーへのレッグのピアによる）で最大500バイトのアプリケーションデータを送信すると、一般的にIPフラグメントを回避できます。フラグメンテーションの可能性をさらに減らすために、ChannelDataメッセージのオーバーヘッドは送信とデータ表示よりも少ないので、大量のデータを転送するときは、クライアントがChannelDataメッセージを使用することが推奨されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.7-5" class="pilcrow" data-dl-uid="540" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3.7-6" data-dl-uid="541" data-dl-original="true" data-dl-translated="true">クライアントとピアが断片化を回避するために取ることができる第2のアプローチは、パスMTU発見アルゴリズムを使用して、断片化せずに送信することができるアプリケーションデータの最大量を決定することです。<span data-dl-uid="542" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC1191" class="xref" data-dl-uid="543" data-dl-original="true" data-dl-translated="true">RFC1191</a>]</span>で定義された古典的なパスMTU発見アルゴリズムは、クライアントとピア間の伝送パスのMTUを発見することができない場合があります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.7-6" class="pilcrow" data-dl-uid="544" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<ul>
<li id="section-3.7-7.1" data-dl-uid="545" data-dl-original="true" data-dl-translated="true">より大きなMTUのためのパスをテストするためにIPv4ヘッダーのDon't Fragment（DF）ビットが設定されたプローブパケットは、ルーターによってドロップされることがあります、または<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.7-7.1" class="pilcrow" data-dl-uid="546" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-3.7-7.2" data-dl-uid="547" data-dl-original="true" data-dl-translated="true">ICMPエラーメッセージは、ミドルボックスによってドロップされることがあります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.7-7.2" class="pilcrow" data-dl-uid="548" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-3.7-8" data-dl-uid="549" data-dl-original="true" data-dl-translated="true">その結果、クライアントとサーバーは、ICMPメッセージを必要としないパスMTU発見アルゴリズムを使用する必要があります。<span data-dl-uid="550" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC4821" class="xref" data-dl-uid="551" data-dl-original="true" data-dl-translated="true">RFC4821</a>]</span>で定義されているPacketized Path MTU Discoveryアルゴリズムは、そのようなアルゴリズムの1つであり、アルゴリズムのセットは<span data-dl-uid="552" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#I-D.ietf-tsvwg-datagram-plpmtud" class="xref" data-dl-uid="553" data-dl-original="true" data-dl-translated="true">MTU-DATAGRAM</a>]</span>で定義されています<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.7-8" class="pilcrow" data-dl-uid="554" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-3.7-9" data-dl-uid="555" data-dl-original="true" data-dl-translated="true"><span data-dl-uid="556" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#I-D.ietf-tram-stun-pmtud" class="xref" data-dl-uid="557" data-dl-original="true" data-dl-translated="true">[MTU-STUN</a>]</span>は、パスのMTUを発見するためにSTUNを使用する<span data-dl-uid="558" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC4821" class="xref" data-dl-uid="559" data-dl-original="true" data-dl-translated="true">RFC4821</a>]</span>の実装である。したがって、DONT-FRAGMENT属性をサポートするTURNサーバーと一緒に使用するのに適したアプローチであるかもしれない。クライアントがSend指示でDONT-FRAGMENT属性を含むとき、これはサーバーに、結果としてピアに送信するUDPデータグラムにDFビットを設定するように指示する。DFビットを設定できないサーバーもあるので、クライアントはこの属性をAllocateリクエストに含めるべきである。DONT-FRAGMENT属性をサポートしないサーバーは、Allocateリクエストを拒否することでそれを示す。IPv4からIPv6へのパケット変換を行うTURNサーバーが、IPv4ヘッダーのDFビットの状態にアクセスできない場合、DONT-FRAGMENT属性を持つAllocateリクエストを拒否<span class="bcp14" data-dl-uid="560" data-dl-original="true" data-dl-translated="true">しなければなりません</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.7-9" class="pilcrow" data-dl-uid="561" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
<section id="section-3.8">
        <h3 id="name-rtp-support" data-dl-uid="562" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.8" class="section-number selfRef" data-dl-uid="563" data-dl-original="true" data-dl-translated="true">3.8. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-rtp-support" class="section-name selfRef" data-dl-uid="564" data-dl-original="true" data-dl-translated="true">RTP サポート</a>       </h3>
<p id="section-3.8-1" data-dl-uid="565" data-dl-original="true" data-dl-translated="true">TURNの想定される用途の1つは、RTPを使用してリアルタイムデータ（例えば、音声やビデオ）を交換したいクライアントとピアのためのリレーとしてです。この目的でのTURNの使用を容易にするために、TURNはRTPの古いバージョンに対するいくつかの特別なサポートを含んでいる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.8-1" class="pilcrow" data-dl-uid="566" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-3.8-2" data-dl-uid="567" data-dl-original="true" data-dl-translated="true">RTPの古いバージョン<span data-dl-uid="568" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC3550" class="xref" data-dl-uid="569" data-dl-original="true" data-dl-translated="true">RFC3550</a>]</span>では、RTPストリームを偶数ポート番号にし、 関連するRTP Control Protocol（RTCP）ストリームがある場合は、次に高い ポートにする必要があった。クライアントが、まだこれを必要とするピアと作業できるように、TURNは、 サーバーが偶数ポート番号の中継トランスポートアドレスを割り当てることを 要求し、オプションで、サーバーが次の割り当てのために次善のポート番号を 予約することを要求できる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.8-2" class="pilcrow" data-dl-uid="570" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<section id="section-3.9">
        <h3 id="name-happy-eyeballs-for-turn" data-dl-uid="571" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.9" class="section-number selfRef" data-dl-uid="572" data-dl-original="true" data-dl-translated="true">3.9. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-happy-eyeballs-for-turn" class="section-name selfRef" data-dl-uid="573" data-dl-original="true" data-dl-translated="true">TURNのハッピーアイボール</a>       </h3>
<p id="section-3.9-1" data-dl-uid="574" data-dl-original="true" data-dl-translated="true">TURNサーバーに到達するためのIPv4パスが見つかっても、TURNサーバーのIPv6パスが機能していない場合、デュアルスタックのTURNクライアントは、IPv4のみのTURNクライアントと比較して、著しい接続遅延を経験することがあります。これらの接続設定の問題を克服するために、TURNクライアントは、ドメイン名を使用して指定されたTURNサーバーのAレコードとAAAAレコードの両方を照会し、<span data-dl-uid="575" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8305" class="xref" data-dl-uid="576" data-dl-original="true" data-dl-translated="true">RFC8305</a>]</span>で定義されたハッピーアイボールズ機構と同様の方法でIPv6とIPv4の両方のアドレスを使用してTURNサーバーへの接続を試みる必要があります。TURNクライアントは、TURNサーバーに接続するために使用されるトランスポートプロトコルに基づいて、以下のステップを実行する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.9-1" class="pilcrow" data-dl-uid="577" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<ul>
<li id="section-3.9-2.1" data-dl-uid="578" data-dl-original="true" data-dl-translated="true">TCPまたはTLS-over-TCPの場合、Happy Eyeballs手続き<span data-dl-uid="579" data-dl-original="true" data-dl-translated="true">（<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8305" class="xref" data-dl-uid="580" data-dl-original="true" data-dl-translated="true">RFC8305</a></span>）の結果は、TURNクライアントがサーバーにTURNメッセージを送信するために使用されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.9-2.1" class="pilcrow" data-dl-uid="581" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-3.9-2.2" data-dl-uid="582" data-dl-original="true" data-dl-translated="true">クリアテキストのUDPの場合、<span data-dl-uid="583" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8305" class="xref" data-dl-uid="584" data-dl-original="true" data-dl-translated="true">RFC8305</a>]</span>で議論されているように、認証情報なしで両方のIPアドレスファミリーにTURN Allocateリクエストを送る。 TURNサーバーが認証を必要とする場合、401 unauthenticated応答を返します。TURNクライアントは、401エラー応答を受け取った最初のUDP接続を使用します。両方のIPアドレスファミリから401エラー応答を受信した場合、TURNクライアントは、優先順位の低いIPアドレスファミリのUDP接続を黙って放棄することができる。TURNサーバーが認証を必要としない場合（<span data-dl-uid="585" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8155" class="xref" data-dl-uid="587" data-dl-original="true" data-dl-translated="true">RFC8155</a>]の<a href="https://www.rfc-editor.org/rfc/rfc8155#section-9" class="relref" data-dl-uid="586" data-dl-original="true" data-dl-translated="true">セクション9に</a></span>記載）、両方のAllocate要求が成功することが可能である。この場合、TURNクライアントは、優先順位の低いIPアドレスファミリーを使用して、割り当てを削除するために、割り当てのLIFETIME値がゼロのRefreshを送信する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.9-2.2" class="pilcrow" data-dl-uid="588" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-3.9-2.3" data-dl-uid="589" data-dl-original="true" data-dl-translated="true">DTLS over UDPの場合、<span data-dl-uid="590" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8305" class="xref" data-dl-uid="591" data-dl-original="true" data-dl-translated="true">RFC8305</a>]</span>で説明されているように、両方のIPアドレスファミリーにDTLSハンドシェイクを開始し、最初に確立されたDTLSセッションを使用します。両方のIPアドレスファミリでDTLSセッションが確立された場合、クライアントはDTLS close_notifyアラートを送信し、優先順位の低いIPアドレスファミリを使用してDTLSセッションを終了させる。TURN over DTLSサーバーがクッキー交換を要求するように設定されており<span data-dl-uid="592" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc6347#section-4.2" class="relref" data-dl-uid="593" data-dl-original="true" data-dl-translated="true">（</a>[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC6347" class="xref" data-dl-uid="594" data-dl-original="true" data-dl-translated="true">RFC6347</a>]の<a data-dl-uid="593" data-dl-translated="true">セクション4.2</a></span>）、両方のIPアドレスファミリーのTURNサーバーからHelloVerifyRequestを受信した場合、クライアントはより低い優先順位でIPアドレスファミリーの接続を静かに放棄できる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-3.9-2.3" class="pilcrow" data-dl-uid="595" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
</section>
</section>
</div>
<section id="section-4">
      <h2 id="name-discovery-of-turn-server" data-dl-uid="596" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-4" class="section-number selfRef" data-dl-uid="597" data-dl-original="true" data-dl-translated="true">4. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-discovery-of-turn-server" class="section-name selfRef" data-dl-uid="598" data-dl-original="true" data-dl-translated="true">TURNサーバーの発見</a>     </h2>
<p id="section-4-1" data-dl-uid="599" data-dl-original="true" data-dl-translated="true">エニーキャストの使用を含むTURNサーバーの発見方法は、<span data-dl-uid="600" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8155" class="xref" data-dl-uid="601" data-dl-original="true" data-dl-translated="true">RFC8155</a>]</span>に記述されている。複数のインターフェイスを持つホストが各インターフェイスでTURNサーバーを発見する場合、TURNクライアントがTURNサーバーの選択に影響を与えるために<span data-dl-uid="602" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7982" class="xref" data-dl-uid="603" data-dl-original="true" data-dl-translated="true">RFC7982</a>]</span>で説明されているメカニズムを使用することができる。turn」と「turns」URIの構文は、<span data-dl-uid="604" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7065" class="xref" data-dl-uid="606" data-dl-original="true" data-dl-translated="true">RFC7065</a>]の<a href="https://www.rfc-editor.org/rfc/rfc7065#section-3.1" class="relref" data-dl-uid="605" data-dl-original="true" data-dl-translated="true">セクション3.</a></span>1に定義されている。TURNのトランスポートプロトコルとしてのDTLSは、<span data-dl-uid="607" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7350" class="xref" data-dl-uid="608" data-dl-original="true" data-dl-translated="true">RFC7350</a>]</span>で定義されている<a href="https://www.rfc-editor.org/rfc/rfc8656#section-4-1" class="pilcrow" data-dl-uid="609" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<section id="section-4.1">
        <h3 id="name-turn-uri-scheme-semantics" data-dl-uid="610" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-4.1" class="section-number selfRef" data-dl-uid="611" data-dl-original="true" data-dl-translated="true">4.1. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-turn-uri-scheme-semantics" class="section-name selfRef" data-dl-uid="612" data-dl-original="true" data-dl-translated="true">TURN URIスキームのセマンティクス</a>       </h3>
<p id="section-4.1-1" data-dl-uid="613" data-dl-original="true" data-dl-translated="true">turn」と「turns」のURIスキームは、TURNプロトコルでアクセスできるインターネットホスト上のTURNサーバー（「リレー」とも呼ばれる）を指定するために使用されます。TURNプロトコルは、UDP、TCP、TLS-over-TCP、またはDTLS-over-UDPでのメッセージ送信をサポートしている。TURNがTLS-over-TCPまたはDTLS-over-UDPで実行される場合、「turns」URIスキームを使用<span class="bcp14" data-dl-uid="614" data-dl-original="true" data-dl-translated="true">しなければならず(MUST)</span>、それ以外は「turn」スキームを使用しなければならない<span class="bcp14" data-dl-uid="615" data-dl-original="true" data-dl-translated="true">（MUST</span>）。turn」URIの必須の&lt;host&gt;部分は、TURNサーバーのホストを示す。&lt;port&gt; 部分は、もしあれば、TURNサーバーが接続要求を待っているポートを示す。もしそれがない場合、デフォルトのポートはUDPとTCPの両方で3478です。TURN over TLSとTURN over DTLSのデフォルトポートは5349である<a href="https://www.rfc-editor.org/rfc/rfc8656#section-4.1-1" class="pilcrow" data-dl-uid="616" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
</section>
<div id="sec-general-behavior">
<section id="section-5">
      <h2 id="name-general-behavior" data-dl-uid="617" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-5" class="section-number selfRef" data-dl-uid="618" data-dl-original="true" data-dl-translated="true">5. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-general-behavior" class="section-name selfRef" data-dl-uid="619" data-dl-original="true" data-dl-translated="true">一般的な行動</a>     </h2>
<p id="section-5-1" data-dl-uid="620" data-dl-original="true" data-dl-translated="true">このセクションでは、すべてのTURNメッセージに適用される一般的なTURN処理規則を記載しています<a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-1" class="pilcrow" data-dl-uid="621" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-5-2" data-dl-uid="622" data-dl-original="true" data-dl-translated="true">TURN は STUN の拡張である。ChannelDataメッセージを除くすべてのTURNメッセージは、STUNフォーマットのメッセージである。<span data-dl-uid="623" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="624" data-dl-original="true" data-dl-translated="true">RFC8489</a>]</span>に記述されているすべての基本処理規則は、STUNフォーマットのメッセージに適用されます。 これは、この文書のすべてのメッセージ形成とメッセージ処理の記述は、暗黙のうちに<span data-dl-uid="625" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="626" data-dl-original="true" data-dl-translated="true">RFC8489</a>]</span>の規則が前置きされていることを意味します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-2" class="pilcrow" data-dl-uid="627" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-5-3" data-dl-uid="628" data-dl-original="true" data-dl-translated="true"><span data-dl-uid="629" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="630" data-dl-original="true" data-dl-translated="true">[RFC8489</a>]</span>は、「長期的な信用証明書メカニズム」と呼ばれる認証メカニズムを規定 している。TURNサーバーとクライアントはこのメカニズムを実装<span class="bcp14" data-dl-uid="631" data-dl-original="true" data-dl-translated="true">しなければならず(MUST</span>)、認証オプションは<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-rcv-allocate" class="xref" data-dl-uid="632" data-dl-original="true" data-dl-translated="true">セクション7.2</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-3" class="pilcrow" data-dl-uid="633" data-dl-original="true" data-dl-translated="true">.¶で</a>説明する。</p>
<p id="section-5-4" data-dl-uid="634" data-dl-original="true" data-dl-translated="true">長期的な信用証明書の仕組みはリクエストにのみ適用され、インジケーションを 認証するために使用できないことに注意すること。したがって、TURNのインジケー ションは決して認証されない。サーバーがリクエストの認証を要求する場合、サーバーの管理者は、クライアントが 異なる管理下で複数のサーバーを使用する場合でも、クライアントが使用しなければ ならないユーザー名とパスワードの組み合わせを一意に特定するrealm値を選択<span class="bcp14" data-dl-uid="635" data-dl-original="true" data-dl-translated="true">しなけれ ばならない[MUST</span>]。サーバーの管理者は、各クライアントに一意のユーザー名を割り当てることを選<span class="bcp14" data-dl-uid="636" data-dl-original="true" data-dl-translated="true">んでもよいし</span>、複数のクライアントに同じユーザー名を割り当てることを<span class="bcp14" data-dl-uid="637" data-dl-original="true" data-dl-translated="true">選んでもよい(</span>例えば、同じ部署や会社のすべてのクライアントに)。各 Allocateリクエストに対して、サーバーは<span data-dl-uid="639" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC4086" class="xref" data-dl-uid="640" data-dl-original="true" data-dl-translated="true">RFC4086</a>]</span>のランダム性の推奨に従って、割り当てが最初に試みられたときに新しいランダムな nonceを生成<span class="bcp14" data-dl-uid="638" data-dl-original="true" data-dl-translated="true">するべきであり</span>、割り当ての有効期間中は少なくとも1時間に1回は nonceを失効<span class="bcp14" data-dl-uid="641" data-dl-original="true" data-dl-translated="true">するべきであります(SHOULD</span>)。サーバーは<span data-dl-uid="642" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="644" data-dl-original="true" data-dl-translated="true">RFC8489</a>]</span>の<span data-dl-uid="642" data-dl-translated="true"><a data-dl-uid="643" data-dl-translated="true">セクション9.</a></span>2に記載されているメカニズムを使用して、[<span data-dl-uid="645" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="646" data-dl-original="true" data-dl-translated="true">RFC8489</a>]</span>をサポートしていることを示す<a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-4" class="pilcrow" data-dl-uid="647" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-5-5" data-dl-uid="648" data-dl-original="true" data-dl-translated="true">最初のAllocate以降のすべてのリクエストは、攻撃者がクライアントの割り当てをハイジャックするのを防ぐために、割り当てを作成するときに使用したものと同じユーザー名を使用しなければなりません<a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-5" class="pilcrow" data-dl-uid="649" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-5-6" data-dl-uid="650" data-dl-original="true" data-dl-translated="true">具体的には、次のような場合です<a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-6" class="pilcrow" data-dl-uid="651" data-dl-original="true" data-dl-translated="true">。</a></p>
<ul>
<li id="section-5-7.1" data-dl-uid="652" data-dl-original="true" data-dl-translated="true">サーバーは、長期的なクレデンシャル機構の使用を要求している<a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-7.1" class="pilcrow" data-dl-uid="653" data-dl-original="true" data-dl-translated="true">。</a></li>
<li id="section-5-7.2" data-dl-uid="654" data-dl-original="true" data-dl-translated="true">非アロケートリクエストは、このメカニズムに基づく認証を通過し、<a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-7.2" class="pilcrow" data-dl-uid="655" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-5-7.3" data-dl-uid="656" data-dl-original="true" data-dl-translated="true">5タプルは、既存のアロケーションを識別するものであるが、<a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-7.3" class="pilcrow" data-dl-uid="657" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-5-7.4" data-dl-uid="658" data-dl-original="true" data-dl-translated="true">リクエストは、割り当てを作成するために使用されたのと同じユーザー名を使用していない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-7.4" class="pilcrow" data-dl-uid="659" data-dl-original="true" data-dl-translated="true">、¶。</a></li>
</ul>
<p id="section-5-8" data-dl-uid="660" data-dl-original="true" data-dl-translated="true">の場合、リクエストは441(Wrong Credentials)エラーで拒否さ<span class="bcp14" data-dl-uid="661" data-dl-original="true" data-dl-translated="true">れなければならない</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-8" class="pilcrow" data-dl-uid="662" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-5-9" data-dl-uid="663" data-dl-original="true" data-dl-translated="true">TURNメッセージがクライアントからサーバーに到着したとき、サーバーは関連する割り当てを識別するためにメッセージの5タプルを使用する。 Allocateリクエストを除くすべてのTURNメッセージ（ChannelDataを含む）に対して、5タプルが既存の割り当てを識別しない場合、メッセージは（リクエストであれば）437 Allocation Mismatchエラーで拒否するか（表示やChannelDataメッセージであれば）静かに無視<span class="bcp14" data-dl-uid="664" data-dl-original="true" data-dl-translated="true">しなければならない</span>。Allocate以外のリクエストに対して437エラーの応答を受け取ったクライアントは、そのアロケーションがもはや存在しないと仮定<span class="bcp14" data-dl-uid="665" data-dl-original="true" data-dl-translated="true">しなければならない</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-9" class="pilcrow" data-dl-uid="666" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-5-10" data-dl-uid="667" data-dl-original="true" data-dl-translated="true"><span data-dl-uid="668" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="669" data-dl-original="true" data-dl-translated="true">[RFC8489</a>]</span>は、SOFTWARE属性とFINGERPRINT属性を含む多くの属性を定義しています。クライアントはSOFTWARE属性をすべてのAllocateおよびRefreshリクエストに<span class="bcp14" data-dl-uid="670" data-dl-original="true" data-dl-translated="true">含めるべきであり</span>、他のリクエストや<span class="bcp14" data-dl-uid="671" data-dl-original="true" data-dl-translated="true">表示にも含めてもよい(MAY</span>)。サーバーは、すべてのAllocateおよびRefresh応答(成功または失敗)にSOFTWARE属性を<span class="bcp14" data-dl-uid="672" data-dl-original="true" data-dl-translated="true">含めるべきであり</span>、他の応答や表示に含めて<span class="bcp14" data-dl-uid="673" data-dl-original="true" data-dl-translated="true">もよい(MAY</span>)。クライアントとサーバーは、この文書で定義されたSTUN形式のメッセージにFINGERPRINT<span class="bcp14" data-dl-uid="674" data-dl-original="true" data-dl-translated="true">属性を含めてもよい</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-10" class="pilcrow" data-dl-uid="675" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-5-11" data-dl-uid="676" data-dl-original="true" data-dl-translated="true">TURNは、[<span data-dl-uid="677" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="678" data-dl-original="true" data-dl-translated="true">RFC8489</a>]</span>で説明されている後方互換性のメカニズムを使用しません<a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-11" class="pilcrow" data-dl-uid="679" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-5-12" data-dl-uid="680" data-dl-original="true" data-dl-translated="true">本仕様で定義されるTURNは、IPv4とIPv6の両方をサポートする。 TURNのIPv6サポートには、IPv4からIPv6、IPv6からIPv6、およびIPv6からIPv4への中継がある。単一のアドレスタイプのみが望まれる場合、REQUESTED-ADDRESS-FAMILY属性は、TURNサーバーが割り当てるアドレスタイプを明示的に要求するために用いられる（例えば、IPv4のみのノードはTURNサーバーにIPv6アドレスを割り当てるよう要求できる）。IPv4とIPv6の両方が必要な場合、単一のADDITIONAL-ADDRESS-FAMILY属性は、単一のAllocateリクエストでIPv4とIPv6リレーアドレスを1つずつ割り当てるサーバーへのリクエストを示します。これは、クライアントのローカルポートを節約し、クライアントとTURNサーバー間で送信されるメッセージの数を減らすことができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-12" class="pilcrow" data-dl-uid="681" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-5-13" data-dl-uid="682" data-dl-original="true" data-dl-translated="true">デフォルトでは、TURNはSTUNと同じポートで動作します：UDPとTCP上のTURNは3478、（D）TLS上のTURNは5349です。ただし、TURNは独自のサービスレコード（SRV）名のセットを持っています。UDPとTCPでは「turn」、(D)TLSでは「turns」です。<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-create-allocation" class="xref" data-dl-uid="683" data-dl-original="true" data-dl-translated="true">セクション7で</a>説明されているDNS解決手順またはALTERNATE-SERVER手順のいずれかを使用して、TURNを別のポートで実行することができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-13" class="pilcrow" data-dl-uid="684" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-5-14" data-dl-uid="685" data-dl-original="true" data-dl-translated="true">相互運用性を確保するために、TURNサーバーは、クライアントとサーバー間のUDPトランスポートの使用をサポート<span class="bcp14" data-dl-uid="686" data-dl-original="true" data-dl-translated="true">しなければならず（MUST）</span>、TCP、TLS-over-TCP、DTLS-over-UDPトランスポートの使用をサポート<span class="bcp14" data-dl-uid="687" data-dl-original="true" data-dl-translated="true">するべきである（SHOULD</span>）<a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-14" class="pilcrow" data-dl-uid="688" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-5-15" data-dl-uid="689" data-dl-original="true" data-dl-translated="true">クライアントとサーバー間でUDPまたはDTLS-over-UDPトランスポートが使用されている場合、クライアントはあるタイムアウト期間内にレスポンスを受信しない場合、リクエストを再送する。このため、サーバーは、同じ5タプルと同じトランザクションIDを持つ2つ(またはそれ以上)のリクエストを受信することがある。STUNは、サーバーがこのケースを認識し、リクエストをidempotentとして扱 うことを要求する(<span data-dl-uid="690" data-dl-original="true" data-dl-translated="true">【<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="691" data-dl-original="true" data-dl-translated="true">RFC8489</a>】</span>参照)。いくつかの実装は、受け取ったすべてのリクエストと対応する応答を40秒 間記憶することでこの要件を満たすことを選択するかもしれない<span data-dl-uid="692" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8489#section-6.3.1" class="relref" data-dl-uid="693" data-dl-original="true" data-dl-translated="true">(</a>【<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="694" data-dl-original="true" data-dl-translated="true">RFC8489</a>】の<a data-dl-uid="693" data-dl-translated="true">セク ション6.3.1</a></span>)。他の実装は、リクエストを再処理し、その再処理が本質的に同じ応答を返すよう に手配することを選ぶかもしれない。後者のアプローチ(いわゆる「ステートレススタックアプローチ」)を選択する実装者 を支援するために、この仕様には、これをどのように行うかについてのいくつかの実装上の注釈が含まれる。実装者は、どちらのアプローチを選ぶか、または同じ結果を与える他のアプロ ーチを選ぶかは自由である<a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-15" class="pilcrow" data-dl-uid="695" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-5-16" data-dl-uid="696" data-dl-original="true" data-dl-translated="true">有効なユーザー名とパスワードを持つクライアントによるサーバーへの意図的または非意図的なサービス拒否攻撃を軽減するために、サーバーは、特定のユーザー名で一度にアクティブになる割り当ての数と、それらの割り当てが使用できる帯域幅の両方に制限を課すことが<span class="bcp14" data-dl-uid="697" data-dl-original="true" data-dl-translated="true">推奨されます(RECOMMENDED</span>)。サーバーは、486 (Allocation Quota Exceeded) (<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-rcv-allocate" class="xref" data-dl-uid="698" data-dl-original="true" data-dl-translated="true">セクション7.2</a>参照)で、一度に有効な割り当ての許容数 の制限を超えるような新しい割り当てを拒否すべきである。また、UDPには輻輳 制御メカニズムがないため、帯域幅割り当てを超えるアプリケーションデータトラ フィックは破棄すべきである<a href="https://www.rfc-editor.org/rfc/rfc8656#section-5-16" class="pilcrow" data-dl-uid="699" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
</div>
<div id="sec-allocations">
<section id="section-6">
      <h2 id="name-allocations-2" data-dl-uid="700" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-6" class="section-number selfRef" data-dl-uid="701" data-dl-original="true" data-dl-translated="true">6. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-allocations-2" class="section-name selfRef" data-dl-uid="702" data-dl-original="true" data-dl-translated="true">アロケーション</a>     </h2>
<p id="section-6-1" data-dl-uid="703" data-dl-original="true" data-dl-translated="true">すべてのTURN操作はアロケーションを中心に展開され、すべてのTURNメッセージはシングルまたはデュアルアロケーションのいずれかに関連付けられる。アロケーションは概念的に以下の状態データから構成されています<a href="https://www.rfc-editor.org/rfc/rfc8656#section-6-1" class="pilcrow" data-dl-uid="704" data-dl-original="true" data-dl-translated="true">。</a></p>
<ul>
<li id="section-6-2.1" data-dl-uid="705" data-dl-original="true" data-dl-translated="true">中継されたトランスポートアドレスまたはアドレス<a href="https://www.rfc-editor.org/rfc/rfc8656#section-6-2.1" class="pilcrow" data-dl-uid="706" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-6-2.2" data-dl-uid="707" data-dl-original="true" data-dl-translated="true">クライアントのIPアドレス、クライアントのポート、サーバーのIPアドレス、サーバーのポート、トランスポートプロトコルの5タプル）<a href="https://www.rfc-editor.org/rfc/rfc8656#section-6-2.2" class="pilcrow" data-dl-uid="708" data-dl-original="true" data-dl-translated="true">;¶。</a></li>
<li id="section-6-2.3" data-dl-uid="709" data-dl-original="true" data-dl-translated="true">認証情報です<a href="https://www.rfc-editor.org/rfc/rfc8656#section-6-2.3" class="pilcrow" data-dl-uid="710" data-dl-original="true" data-dl-translated="true">。</a></li>
<li id="section-6-2.4" data-dl-uid="711" data-dl-original="true" data-dl-translated="true">各中継されたトランスポートアドレスの有効期限<a href="https://www.rfc-editor.org/rfc/rfc8656#section-6-2.4" class="pilcrow" data-dl-uid="712" data-dl-original="true" data-dl-translated="true">。</a></li>
<li id="section-6-2.5" data-dl-uid="713" data-dl-original="true" data-dl-translated="true">中継された各トランスポートアドレスの許可リスト<a href="https://www.rfc-editor.org/rfc/rfc8656#section-6-2.5" class="pilcrow" data-dl-uid="714" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-6-2.6" data-dl-uid="715" data-dl-original="true" data-dl-translated="true">各中継されたトランスポートアドレスのチャネル間バインディングのリストです<a href="https://www.rfc-editor.org/rfc/rfc8656#section-6-2.6" class="pilcrow" data-dl-uid="716" data-dl-original="true" data-dl-translated="true">。</a></li>
</ul>
<p id="section-6-3" data-dl-uid="717" data-dl-original="true" data-dl-translated="true">中継トランスポートアドレスは、サーバーがピアと通信するために割り当てたトランスポートアドレスであり、5-tupleはクライアントとサーバー間の通信経路を記述する。クライアントでは、5-tupleはクライアントのホストトランスポートアドレスを使用し、サーバーでは、5-tupleはクライアントのサーバーリフレクティブトランスポートアドレスを使用する。中継されるトランスポートアドレスは、割り当てを一意に識別するために使用でき るように、割り当て全体で一意で<span class="bcp14" data-dl-uid="718" data-dl-original="true" data-dl-translated="true">なければならず(MUST)</span>、この文脈での割り当ては、シングル またはデュアル割り当てのいずれかにすることができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-6-3" class="pilcrow" data-dl-uid="719" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-6-4" data-dl-uid="720" data-dl-original="true" data-dl-translated="true">認証情報(例えば、ユーザー名、パスワード、realm、およびnonce)は、後続のリクエストの検証および応答のメッセージ完全性の計算の両方に使用される。ユーザー名、realm、およびnonce値は、割り当てを作成する認証された Allocateリクエストで最初に使用されるものであるが、サーバーは438 (Stale Nonce) 応答を使用して割り当ての有効期間中にnonce値を変更できる。 セキュリティ上の理由から、サーバーはパスワードを明示的に保存<span class="bcp14" data-dl-uid="721" data-dl-original="true" data-dl-translated="true">してはならず (MUST NOT</span>)、キー値 (username, realm, パスワードに対する暗号ハッシュ) を保存<span class="bcp14" data-dl-uid="722" data-dl-original="true" data-dl-translated="true">しなければならない (</span> <span data-dl-uid="723" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="725" data-dl-original="true" data-dl-translated="true">RFC8489</a>] の<a href="https://www.rfc-editor.org/rfc/rfc8489#section-16.1.3" class="relref" data-dl-uid="724" data-dl-original="true" data-dl-translated="true">セクション 16.1.3</a></span> を参照) ¶<a href="https://www.rfc-editor.org/rfc/rfc8656#section-6-4" class="pilcrow" data-dl-uid="726" data-dl-original="true" data-dl-translated="true">.</a></p>
<p id="section-6-5" data-dl-uid="727" data-dl-original="true" data-dl-translated="true">レスポンスがPASSWORD-ALGORITHMS属性を含み、この属性がMD5とSHA-256アルゴリズムの両方を含み、クライアントも両方のアルゴリズムをサポートする場合、リクエストはSHA-256アルゴリズムのPASSWORD-ALGORITHM属性を<span class="bcp14" data-dl-uid="728" data-dl-original="true" data-dl-translated="true">含まなければならない¶</span>ことに注意してください<a href="https://www.rfc-editor.org/rfc/rfc8656#section-6-5" class="pilcrow" data-dl-uid="729" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-6-6" data-dl-uid="730" data-dl-original="true" data-dl-translated="true">Time-to-expiryは、割り当てが終了するまでの残り時間（秒）です。AllocateまたはRefreshの各トランザクションがこのタイマーを設定し、その後ゼロに向かって刻々と減少します。デフォルトでは、AllocateまたはRefreshトランザクションは、このタイマーをデフォルトのライフタイム値である600秒（10分）にリセットしますが、クライアントはAllocateおよびRefreshリクエストで別の値を要求することができます。アロケーションは、Refreshリクエストを使ってのみリフレッシュできます。ピアにデータを送信しても、アロケーションはリフレッシュされません。アロケーションが期限切れになると、アロケーションに関連する状態データを解放することができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-6-6" class="pilcrow" data-dl-uid="731" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-6-7" data-dl-uid="732" data-dl-original="true" data-dl-translated="true">パーミッションのリストは<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-permissions" class="xref" data-dl-uid="733" data-dl-original="true" data-dl-translated="true">セクション9に</a>、チャンネルのリストは<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-channels" class="xref" data-dl-uid="734" data-dl-original="true" data-dl-translated="true">セクション12に</a>記載されています<a href="https://www.rfc-editor.org/rfc/rfc8656#section-6-7" class="pilcrow" data-dl-uid="735" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
</div>
<div id="sec-create-allocation">
<section id="section-7">
      <h2 id="name-creating-an-allocation" data-dl-uid="736" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7" class="section-number selfRef" data-dl-uid="737" data-dl-original="true" data-dl-translated="true">7. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-creating-an-allocation" class="section-name selfRef" data-dl-uid="738" data-dl-original="true" data-dl-translated="true">アロケーションを作成する</a>     </h2>
<p id="section-7-1" data-dl-uid="739" data-dl-original="true" data-dl-translated="true">サーバー上の割り当ては、Allocate トランザクションを使用して作成されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7-1" class="pilcrow" data-dl-uid="740" data-dl-original="true" data-dl-translated="true">。</a></p>
<div id="sec-send-allocate">
<section id="section-7.1">
        <h3 id="name-sending-an-allocate-request" data-dl-uid="741" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.1" class="section-number selfRef" data-dl-uid="742" data-dl-original="true" data-dl-translated="true">7.1. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-sending-an-allocate-request" class="section-name selfRef" data-dl-uid="743" data-dl-original="true" data-dl-translated="true">アロケートリクエストを送信する</a>       </h3>
<p id="section-7.1-1" data-dl-uid="744" data-dl-original="true" data-dl-translated="true">クライアントは、以下のようにAllocateリクエストを形成する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.1-1" class="pilcrow" data-dl-uid="745" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-7.1-2" data-dl-uid="746" data-dl-original="true" data-dl-translated="true">クライアントはまず、ホストのトランスポートアドレスを選択する。クライアントは、現在使われていないトランスポートアドレスを選ぶことが<span class="bcp14" data-dl-uid="747" data-dl-original="true" data-dl-translated="true">推奨さ</span>れます（通常、基礎となるOSが現在使われていないポートを選ぶようにします<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.1-2" class="pilcrow" data-dl-uid="748" data-dl-original="true" data-dl-translated="true">）</a>。</p>
<p id="section-7.1-3" data-dl-uid="749" data-dl-original="true" data-dl-translated="true">次にクライアントは、サーバーがサポートするトランスポートプロトコルに基づき、クライアントとサーバーの間で使用するためにクライアントがサポートするトランスポートプロトコルを選択する。この仕様では、サーバとピア間でUDPしか使用できないので、クライアントは、異なるトランスポートを使用する理由がない限り、UDPを選択することが<span class="bcp14" data-dl-uid="750" data-dl-original="true" data-dl-translated="true">推奨されます（RECOMMENDED</span>）。異なるトランスポートを選択する理由の1つは、クライアントが、設定や発見、または実験によって、UDPを使用してどのTURNサーバーにも連絡できないと信じることである。 より多くの議論については、<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-transports" class="xref" data-dl-uid="751" data-dl-original="true" data-dl-translated="true">セクション3.1を</a>参照してください<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.1-3" class="pilcrow" data-dl-uid="752" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-7.1-4" data-dl-uid="753" data-dl-original="true" data-dl-translated="true">また、クライアントはサーバーのトランスポートアドレスを選ぶが、これは以下のように<span class="bcp14" data-dl-uid="754" data-dl-original="true" data-dl-translated="true">行うべきである</span>。クライアントは、<span data-dl-uid="755" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8155" class="xref" data-dl-uid="756" data-dl-original="true" data-dl-translated="true">RFC8155</a>]</span>で説明されている1つ以上の手順を使用してTURNサーバーを発見し、<span data-dl-uid="757" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC5928" class="xref" data-dl-uid="758" data-dl-original="true" data-dl-translated="true">RFC5928</a>]</span>と<span data-dl-uid="759" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7350" class="xref" data-dl-uid="760" data-dl-original="true" data-dl-translated="true">RFC7350</a>]</span>で定義されているTURNサーバー解決メカニズムを使用して、TURN割り当てを作成しようとできるサーバーのトランスポートアドレスのリストを取得します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.1-4" class="pilcrow" data-dl-uid="761" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-7.1-5" data-dl-uid="762" data-dl-original="true" data-dl-translated="true">クライアントはリクエストにREQUESTED-TRANSPORT属性を<span class="bcp14" data-dl-uid="763" data-dl-original="true" data-dl-translated="true">含めなければならない(MUST</span>)。 この属性はサーバーとピア間のトランスポートプロトコルを指定する(これは5タプルに現れるトランスポートプロトコルではない*ことに注意)。この仕様では、REQUESTED-TRANSPORTタイプは常にUDPである。この属性は、他のプロトコルを指定するための将来の拡張を可能にするために含まれている<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.1-5" class="pilcrow" data-dl-uid="764" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-7.1-6" data-dl-uid="765" data-dl-original="true" data-dl-translated="true">クライアントが特定のアドレスタイプの中継トランスポートアドレスを取得したい場合、リクエストに REQUESTED-ADDRESS-FAMILY 属性を含める。この属性は、クライアントがTURNサーバーに割り当てることを望む特定のアドレスタイプを示す。クライアントはAllocateリクエストに複数のREQUESTED-ADDRESS-FAMILY属性を含めてはならない<span class="bcp14" data-dl-uid="766" data-dl-original="true" data-dl-translated="true">(MUST NOT</span>)。クライアントは、RESERVATION-TOKEN属性を含むAllocateリクエストにREQUESTED- ADDRESS-FAMILY属性を含めてはならない<span class="bcp14" data-dl-uid="767" data-dl-original="true" data-dl-translated="true">[MUST NOT</span>]。その理由は、サーバーが含まれるトークンに対応する以前に予約したトランスポートアドレスを使用し、クライアントが特定のアドレスタイプの中継されたトランスポート アドレスを取得できないからである<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.1-6" class="pilcrow" data-dl-uid="768" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-7.1-7" data-dl-uid="769" data-dl-original="true" data-dl-translated="true">クライアントがIPv6とIPv4の中継トランスポートアドレスを1つずつ取得したい場合、リクエストにADDITIONAL-ADDRESS-FAMILY属性を含める。この属性は、サーバーが両方のアドレスタイプを割り当てる必要があることを指定する。ADDITIONAL-ADDRESS-FAMILYの属性値は、0x02(IPv6アドレスファミリー)に設定<span class="bcp14" data-dl-uid="770" data-dl-original="true" data-dl-translated="true">しなけれ ばならない[MUST</span>]。 クライアントは、同じリクエストにREQUESTED-ADDRESS-FAMILY属性とADDITIONAL- ADDRESS-FAMILY属性を含めては<span class="bcp14" data-dl-uid="771" data-dl-original="true" data-dl-translated="true">ならない</span>。クライアントは、RESERVATION-TOKEN属性を含むAllocateリクエストにADDITIONAL-ADDRESS-FAMILY属性を含めては<span class="bcp14" data-dl-uid="772" data-dl-original="true" data-dl-translated="true">ならない</span>。 クライアントは、R (Reserved) ビットが1に設定された EVEN-PORT 属性を含む Allocateリクエストに ADDITIONAL-ADDRESS-FAMILY 属性を含めてはなら<span class="bcp14" data-dl-uid="773" data-dl-original="true" data-dl-translated="true">ない</span>。

 

        この制限の背景には、Rビットが1に設定されたEVEN-PORT属性がADDITIONAL-ADDRESS-FAMILY属性と共に許可される場合、成功応答で2つのトークンを返さなければならず、RESERVATION-TOKEN属性の処理方法に変更が必要になるためである<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.1-7" class="pilcrow" data-dl-uid="774" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-7.1-8" data-dl-uid="775" data-dl-original="true" data-dl-translated="true">クライアントがサーバーに割り当ての有効期限フィールドをデフォルトの寿命以外の値に初期化することを望む場合、希望する値を指定するLIFETIME<span class="bcp14" data-dl-uid="776" data-dl-original="true" data-dl-translated="true">属性を含めてもよい（MAY</span>）。 これは単なるヒントであり、サーバーは異なる値を使うことを選択してもよい。サーバーはこのフィールドをデフォルト値より小さい値に初期化する要求を無視することに注意する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.1-8" class="pilcrow" data-dl-uid="777" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-7.1-9" data-dl-uid="778" data-dl-original="true" data-dl-translated="true">もしクライアントが後に、この割り当てに関する1つ以上の送信指示でDONT-FRAGMENT属性を使用したい場合、クライアントはAllocateリクエストにDONT-FRAGMENT属性を<span class="bcp14" data-dl-uid="779" data-dl-original="true" data-dl-translated="true">含めるべきである</span>。 これによりクライアントは、この属性がサーバーでサポートされているかどうかをテストすることができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.1-9" class="pilcrow" data-dl-uid="780" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-7.1-10" data-dl-uid="781" data-dl-original="true" data-dl-translated="true">クライアントが中継されるトランスポートアドレスのポート番号が偶数であることを要求する場合、クライアントはEVEN-PORT属性を含む。この属性が含まれていない場合、ポートは偶数でも奇数でもよい。EVEN-PORT属性のRビットを1に設定することで、クライアントは、サーバーが次の割り当てのために（同じIPアドレスの）次に高いポート番号を予約することを要求できる。Rビットが0の場合、そのような要求は行われない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.1-10" class="pilcrow" data-dl-uid="782" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-7.1-11" data-dl-uid="783" data-dl-original="true" data-dl-translated="true">クライアントは、割り当てのために以前に予約したポートを使用するようサーバー に依頼するために、リクエストにRESERVATION-TOKEN属性を含めて<span class="bcp14" data-dl-uid="784" data-dl-original="true" data-dl-translated="true">もよい[MAY</span>]。RESERVATION-TOKEN属性が含まれる場合、クライアントはEVEN-PORT属性を省略<span class="bcp14" data-dl-uid="785" data-dl-original="true" data-dl-translated="true">しなけ ればなりません</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.1-11" class="pilcrow" data-dl-uid="786" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-7.1-12" data-dl-uid="787" data-dl-original="true" data-dl-translated="true">構築された後、クライアントは5タプルのAllocateリクエストを送信する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.1-12" class="pilcrow" data-dl-uid="788" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
</div>
<div id="sec-rcv-allocate">
<section id="section-7.2">
        <h3 id="name-receiving-an-allocate-reque" data-dl-uid="789" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2" class="section-number selfRef" data-dl-uid="790" data-dl-original="true" data-dl-translated="true">7.2. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-an-allocate-reque" class="section-name selfRef" data-dl-uid="791" data-dl-original="true" data-dl-translated="true">アロケートリクエストを受信する</a>       </h3>
<p id="section-7.2-1" data-dl-uid="792" data-dl-original="true" data-dl-translated="true">サーバーはAllocateリクエストを受信すると、以下のチェックを行います<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-1" class="pilcrow" data-dl-uid="793" data-dl-original="true" data-dl-translated="true">：</a>¶。</p>
<ol start="1" type="1" class="normal type-1" id="section-7.2-2">
          <li id="section-7.2-2.1" data-dl-uid="794" data-dl-original="true" data-dl-translated="true">ローカルネットワークまたはアクセスネットワークが提供するTURNサーバーは、STUN認証のための長期的な資格情報を必ずしも持っていないネットワークの新規ユーザーやゲストユーザーからの割り当て要求を受け入れるために、認証されていない要求を<span class="bcp14" data-dl-uid="795" data-dl-original="true" data-dl-translated="true">許可してもよい[MAY</span>]。  STUNとSTUN認証をオプションにすることのセキュリティへの影響は、<span data-dl-uid="796" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8155" class="xref" data-dl-uid="797" data-dl-original="true" data-dl-translated="true">RFC8155</a>]</span>で議論されている。それ以外の場合、サーバーはリクエストが認証されることを要求<span class="bcp14" data-dl-uid="798" data-dl-original="true" data-dl-translated="true">しなければ ならない[MUST</span>]。リクエストが認証される場合、クライアントとサーバーが本文書の範囲外の 手続きで別の仕組みを使用することに合意しない限り、認証は<span data-dl-uid="800" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="801" data-dl-original="true" data-dl-translated="true">RFC8489</a>]</span>の長 期信用情報の仕組みを使用するか、STUN Extension for Third-Party Authorization<span data-dl-uid="802" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7635" class="xref" data-dl-uid="803" data-dl-original="true" data-dl-translated="true">RFC7635</a>]</span>を使用して<span class="bcp14" data-dl-uid="799" data-dl-original="true" data-dl-translated="true">行わなければならな</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-2.1" class="pilcrow" data-dl-uid="804" data-dl-original="true" data-dl-translated="true">い</a> <span data-dl-uid="799" data-dl-translated="true">[MUST</span>]。</li>
<li id="section-7.2-2.2" data-dl-uid="805" data-dl-original="true" data-dl-translated="true">サーバーは、5タプルが既存のアロケーションによって現在使用されているかどうかをチェックする。もしそうなら、サーバーは437（Allocation Mismatch）エラーでリクエストを拒否する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-2.2" class="pilcrow" data-dl-uid="806" data-dl-original="true" data-dl-translated="true">。</a></li>
<li id="section-7.2-2.3" data-dl-uid="807" data-dl-original="true" data-dl-translated="true">サーバーは、リクエストにREQUESTED-TRANSPORT属性が含まれているかどうかを確認する。REQUESTED-TRANSPORT属性が含まれていない、または不正な場合は、サーバーは400（Bad Request）エラーでリクエストを拒否する。それ以外の場合、属性が含まれていてもサーバーがサポートしていないプロトコルを指定する場合、サーバーは442（Unsupported Transport Protocol）エラーでリクエストを拒否します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-2.3" class="pilcrow" data-dl-uid="808" data-dl-original="true" data-dl-translated="true">。</a></li>
<li id="section-7.2-2.4" data-dl-uid="809" data-dl-original="true" data-dl-translated="true">リクエストはDONT-FRAGMENT属性を含むかもしれない。もしそうであっても、サーバーがDFビットを1に設定したUDPデータグラ ムの送信をサポートしていない場合(セクション<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-ip-header-fields" class="xref" data-dl-uid="810" data-dl-original="true" data-dl-translated="true">14と</a> <a href="https://www.rfc-editor.org/rfc/rfc8656#sec-ip-header-fields-tcp-udp" class="xref" data-dl-uid="811" data-dl-original="true" data-dl-translated="true">15</a>参照)、サーバーは AllocateリクエストのDONT-FRAGMENT属性を未知の理解度要求属性として扱 う<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-2.4" class="pilcrow" data-dl-uid="812" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-7.2-2.5" data-dl-uid="813" data-dl-original="true" data-dl-translated="true">サーバーは、リクエストにRESERVATION-TOKEN属性が含まれているかどうかを チェックする。もしそうなら、そしてリクエストがEVEN-PORT、REQUESTED-ADDRESS-FAMILY、 ADDITIONAL-ADDRESS-FAMILY属性も含んでいるなら、サーバーは400 (Bad Request)エラーでリクエストを拒否する。 さもなければ、トークンが有効かどうかを確認する（すなわち、トークンが範囲内で期限切れではなく、対応するリレーされるトランスポートアドレスがまだ使用できるか）。何らかの理由でトークンが有効でない場合、サーバーは508（Insufficient Capacity）エラーでリクエストを拒否します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-2.5" class="pilcrow" data-dl-uid="814" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-7.2-2.6" data-dl-uid="815" data-dl-original="true" data-dl-translated="true">サーバーは、リクエストにREQUESTED-ADDRESS-FAMILY属性とADDITIONAL-ADDRESS-FAMILY属性の両方が含まれているかどうかを確認する。 もし含まれていれば、サーバーは400（Bad Request）エラーでリクエストを拒否する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-2.6" class="pilcrow" data-dl-uid="816" data-dl-original="true" data-dl-translated="true">。</a></li>
<li id="section-7.2-2.7" data-dl-uid="817" data-dl-original="true" data-dl-translated="true">サーバーがREQUESTED-ADDRESS-FAMILYでクライアントが要求したアドレスファミリーをサポートしていない場合、または要求されたアドレスファミリーの割り当てがローカルポリシーによって無効になっている場合は、Allocateエラー応答を生成<span class="bcp14" data-dl-uid="818" data-dl-original="true" data-dl-translated="true">しなければならず</span>、ERROR-CODE属性と440 (Address Family not Supported) 応答コードを<span class="bcp14" data-dl-uid="819" data-dl-original="true" data-dl-translated="true">含めなければなりません（</span>MUST）。REQUESTED-ADDRESS-FAMILY 属性がなく、サーバーが IPv4 アドレスファミリーをサポートしていない場合、サーバーは 440 (Address Family not Supported) 応答コードとともに ERROR-CODE 属性を<span class="bcp14" data-dl-uid="820" data-dl-original="true" data-dl-translated="true">含めなければなりません (MUST</span>)。REQUESTED-ADDRESS-FAMILY属性がなく、サーバーがIPv4アドレスファミリーをサポートしている場合、サーバーはTURNクライアントのためにIPv4中継トランスポートアドレスを<span class="bcp14" data-dl-uid="821" data-dl-original="true" data-dl-translated="true">割り当てなければならない</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-2.7" class="pilcrow" data-dl-uid="822" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-7.2-2.8" data-dl-uid="823" data-dl-original="true" data-dl-translated="true">サーバーは、リクエストがRビットを1に設定したEVEN-PORT属性を含むかどうかチェックする。もしそうで、リクエストもADDITIONAL-ADDRESS-FAMILY属性を含む場合、サーバーは400（Bad Request）エラーでリクエストを拒否する。そうでない場合、サーバーはリクエストを満たすことができるかどうか（すなわち、後述するように中継トランスポートアドレスを割り当てることができるかどうか）を確認する。サーバーがリクエストを満たすことができない場合、サーバーは508(Insufficient Capacity)エラーでそのリクエストを拒否する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-2.8" class="pilcrow" data-dl-uid="824" data-dl-original="true" data-dl-translated="true">。</a></li>
<li id="section-7.2-2.9" data-dl-uid="825" data-dl-original="true" data-dl-translated="true">サーバーは、リクエストにADDITIONAL-ADDRESS-FAMILY属性が含まれているかどうかを確認する。もしそうで、属性値が0x01（IPv4アドレスファミリー）であれば、サーバーは400（Bad Request）エラーでリクエストを拒否する。そうでない場合、サーバーは両方のアドレスタイプの中継トランスポートアドレスを割り当てることができるかどうかを確認する。サーバーがリクエストを満たすことができない場合、サーバーは508（Insufficient Capacity）エラーでリクエストを拒否する。サーバーがリクエストを部分的に満たすことができる場合、すなわち、特定のアドレスタイプの1つの中継トランスポートアドレスしか割り当てることができない場合、リクエストの部分的な失敗の理由をクライアントに通知するために、成功応答にADDRESS-ERROR-CODE属性を含める。ADDRESS-ERROR-CODE属性で通知されるエラーコード値は、440（Address Family not Supported）または508（Insufficient Capacity）かもしれない。サーバーがリクエストに完全に対応できる場合、サーバーはIPv4とIPv6の中継アドレスを1つずつ割り当て、2つのXOR-RELAYED-ADDRESS属性に2つの割り当てに割り当てられた中継トランスポートアドレスを含むAllocate成功応答を返します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-2.9" class="pilcrow" data-dl-uid="826" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-7.2-2.10" data-dl-uid="827" data-dl-original="true" data-dl-translated="true">どの時点でも、サーバーは、クライアントがローカルに定義された割り当て量 を超えようとしていると感じれば、486(Allocation Quota Reached)エラーでリク エストを拒否することを<span class="bcp14" data-dl-uid="828" data-dl-original="true" data-dl-translated="true">選択してもよい[MAY</span>]。サーバーはこの割り当て枠を自由に定義できますが、クライアントのトランスポート アドレスではなく、リクエストを認証するために使われたユーザー名に基づいて定義<span class="bcp14" data-dl-uid="829" data-dl-original="true" data-dl-translated="true">するべきで</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-2.10" class="pilcrow" data-dl-uid="830" data-dl-original="true" data-dl-translated="true">す</a> <span data-dl-uid="829" data-dl-translated="true">(SHOULD</span>)。</li>
<li id="section-7.2-2.11" data-dl-uid="831" data-dl-original="true" data-dl-translated="true">また、クライアントを別のサーバーにリダイレクトしたい場合、サーバーはどの時点 でも300(Try Alternate)エラーでリクエストを拒否することを<span class="bcp14" data-dl-uid="832" data-dl-original="true" data-dl-translated="true">選択してもよい[MAY</span>]。このエラーコードと属性の使用は、<span data-dl-uid="833" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="834" data-dl-original="true" data-dl-translated="true">RFC8489</a>]</span>の仕様に従います<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-2.11" class="pilcrow" data-dl-uid="835" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ol>
<p id="section-7.2-3" data-dl-uid="836" data-dl-original="true" data-dl-translated="true">すべてのチェックが通れば、サーバーは割り当てを作成する。5タプルはAllocateリクエストの5タプルに設定され、パーミッションのリストとチャネルのリストは最初は空です<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-3" class="pilcrow" data-dl-uid="837" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-7.2-4" data-dl-uid="838" data-dl-original="true" data-dl-translated="true">サーバーは、次のように割り当てのための中継トランスポートアドレスを選択します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-4" class="pilcrow" data-dl-uid="839" data-dl-original="true" data-dl-translated="true">。</a></p>
<ul>
<li id="section-7.2-5.1" data-dl-uid="840" data-dl-original="true" data-dl-translated="true">リクエストがRESERVATION-TOKEN属性を含む場合、サーバーは含まれるトー クンに対応する以前に予約されたトランスポートアドレスを使用する(それがまだ 利用可能であれば)。 RESERVATION-TOKENを含むAllocateリクエストが予約を行った Allocateリクエストとは異なる5タプルを使用するので、予約はサーバー全体の 予約であり特定の割り当てに特化していないことに注意。RESERVATION-TOKEN属性を含むAllocateリクエストの5タプルは、許可された5タプ ルであれば何でもよい。それは、異なるクライアントIPアドレスとポート、異なるトランス ポートプロトコル、さらには異なるサーバーIPアドレスとポート(もちろん、サーバーが TURNリクエストに対してリスニングしているものであれば)を使うことができる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-5.1" class="pilcrow" data-dl-uid="841" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-7.2-5.2" data-dl-uid="842" data-dl-original="true" data-dl-translated="true">リクエストにRビットが0に設定されたEVEN-PORT属性が含まれている場合、サーバーは偶数ポート番号の中継トランスポートアドレスを割り当てる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-5.2" class="pilcrow" data-dl-uid="843" data-dl-original="true" data-dl-translated="true">。</a></li>
<li id="section-7.2-5.3" data-dl-uid="844" data-dl-original="true" data-dl-translated="true">リクエストがRビットを1に設定したEVEN-PORT属性を含む場合、サーバーは同じIPアドレス上のポート番号NとN+1のペアを探す（ここでNは偶数）。ポートNは現在の割り当てで使用され、ポートN+1を持つ中継トランスポートアドレスはトー クンを割り当てられ、将来の割り当てのために予約される。サーバーはこの予約を少なくとも30秒間保持<span class="bcp14" data-dl-uid="845" data-dl-original="true" data-dl-translated="true">しなければならず(MUST)</span>、もっと長く保持することを<span class="bcp14" data-dl-uid="846" data-dl-original="true" data-dl-translated="true">選んでもよい(MAY</span>)(例:ポートNでの割り当てが期限切れになるまで)。その後、サーバーは成功応答のRESERVATION-TOKEN属性にトークンを含める<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-5.3" class="pilcrow" data-dl-uid="847" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-7.2-5.4" data-dl-uid="848" data-dl-original="true" data-dl-translated="true">そうでなければ、サーバーは利用可能な任意の中継トランスポートアドレスを割り当てる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-5.4" class="pilcrow" data-dl-uid="849" data-dl-original="true" data-dl-translated="true">。</a></li>
</ul>
<p id="section-7.2-6" data-dl-uid="850" data-dl-original="true" data-dl-translated="true">ただし、TURNサーバーアプリケーションと同じホスト上で動作する他のアプリケーションが、この範囲外のポートを割り当てても影響を受けないことを、TURNサーバーアプリケーションがここに明記されていない何らかの手段で知っている場合はこの限りではない（<span class="bcp14" data-dl-uid="851" data-dl-original="true" data-dl-translated="true">SHOULD</span>）。この条件は、TURNサーバーアプリケーションを専用のマシンで実行すること、および/または、マシン上の他のアプリケーションがTURNサーバーアプリケーションの起動前にポートを割り当てるように手配することで満たされることが多い。 いずれにせよ、TURNサーバーは、クライアントがTURNを使って標準サービスを実行しないように0～1023（ウェルノウンポート範囲）のポートを<span class="bcp14" data-dl-uid="854" data-dl-original="true" data-dl-translated="true">割り当てるべきではありません</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-6" class="pilcrow" data-dl-uid="855" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<aside id="section-7.2-7">
          <p id="section-7.2-7.1" data-dl-uid="856" data-dl-original="true" data-dl-translated="true">注: ある種の攻撃を回避するためのランダムなポート割り当ての使用は、<span data-dl-uid="857" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC6056" class="xref" data-dl-uid="858" data-dl-original="true" data-dl-translated="true">RFC6056</a>]</span>で説明されている。 TURNサーバーは、<span data-dl-uid="860" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC6056" class="xref" data-dl-uid="861" data-dl-original="true" data-dl-translated="true">RFC6056</a>]</span>のランダムなポート割り当てアルゴリズムを実装 することが<span class="bcp14" data-dl-uid="859" data-dl-original="true" data-dl-translated="true">推奨される(RECOMMENDED</span>)。これは、基礎となるOSから多数のポートを事前に割り当て、後で割り当てに割り当てることを選択するサーバーに特に適用できます。例えば、サーバーはEVEN-PORT属性を実装するためにこの手法を選択できます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-7.1" class="pilcrow" data-dl-uid="862" data-dl-original="true" data-dl-translated="true">。</a></p>
</aside>
<p id="section-7.2-8" data-dl-uid="863" data-dl-original="true" data-dl-translated="true">サーバは，次のようにtime-to-expiryフィールドの初期値を決定する。リクエストにLIFETIME属性が含まれている場合、サーバーはクライアントが提案する寿命とサーバーが許容する最大寿命の最小値を計算する。この計算された値がデフォルトのライフタイムより大きい場合，サーバは計算されたライフタイムをtime-to-expiryフィールドの初期値として使用する。そうでない場合、サーバーはデフォルトのライフタイムを使用する。サーバーは、3600秒（1時間）以下の最大許容ライフタイム値を使用することが<span class="bcp14" data-dl-uid="864" data-dl-original="true" data-dl-translated="true">推奨されます（RECOMMENDED</span>）。割り当てのクォータを実装しているサーバーや、割り当てに対して何らかの方法でユーザーに課金しているサーバーでは、孤児となった割り当て（対応するクライアントがクラッシュしたり終了したり、何らかの理由でクライアント接続が失われた割り当て）をより迅速に削除するために、最大許容寿命を小さく（おそらくデフォルトの寿命と同じくらいに）することをお勧めします。また、有効期限は、リフレッシュ要求が成功するたびに再計算されるため、ここで計算された値は、最初のリフレッシュまでしか適用されないことに注意してください<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-8" class="pilcrow" data-dl-uid="865" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-7.2-9" data-dl-uid="866" data-dl-original="true" data-dl-translated="true">割り当てが作成されると、サーバーは成功応答を返信する。成功レスポンスには以下の内容が含まれます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-9" class="pilcrow" data-dl-uid="867" data-dl-original="true" data-dl-translated="true">。</a></p>
<ul>
<li id="section-7.2-10.1" data-dl-uid="868" data-dl-original="true" data-dl-translated="true">中継トランスポートアドレスを含む XOR-RELAYED-ADDRESS 属性、または中継トランスポートアドレスを含む 2 つの XOR-RELAYED-ADDRESS 属性<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-10.1" class="pilcrow" data-dl-uid="869" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-7.2-10.2" data-dl-uid="870" data-dl-original="true" data-dl-translated="true">期限切れタイマーの現在値を含む LIFETIME 属性<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-10.2" class="pilcrow" data-dl-uid="871" data-dl-original="true" data-dl-translated="true">。</a></li>
<li id="section-7.2-10.3" data-dl-uid="872" data-dl-original="true" data-dl-translated="true">RESERVATION-TOKEN 属性（第二の中継トランスポートアドレスが予約されていた場合）<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-10.3" class="pilcrow" data-dl-uid="873" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-7.2-10.4" data-dl-uid="874" data-dl-original="true" data-dl-translated="true">クライアントのIPアドレスとポート（5タプルから）を含むXOR-MAPPED-ADDRESS属性<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-10.4" class="pilcrow" data-dl-uid="875" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<aside id="section-7.2-11">
          <p id="section-7.2-11.1" data-dl-uid="876" data-dl-original="true" data-dl-translated="true">注：XOR-MAPPED-ADDRESS属性は、クライアントの便宜のためにレスポンスに含まれる。TURN自体はこの値を使用しませんが、ICEを実行しているクライアントはこの値を必要とすることがよくあるので、それを知るためにSTUNサーバーと余分なBindingトランザクションを行うことを避けることができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-11.1" class="pilcrow" data-dl-uid="877" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</aside>
<p id="section-7.2-12" data-dl-uid="878" data-dl-original="true" data-dl-translated="true">レスポンス（成功またはエラー）は、5-tuple<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-12" class="pilcrow" data-dl-uid="879" data-dl-original="true" data-dl-translated="true">.¶で</a>クライアントに送り返されます。</p>
<aside id="section-7.2-13">
          <p id="section-7.2-13.1" data-dl-uid="880" data-dl-original="true" data-dl-translated="true">注: AllocateリクエストがUDPで送られるとき、<span data-dl-uid="881" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="882" data-dl-original="true" data-dl-translated="true">RFC8489</a>]</span>は、再送が複数のアロケーションを作成する原因とならないように、サーバーがリクエストの可能な再送を処理することを要求する。 実装は、以下のようにいわゆる「ステートレススタック法」を使用してこれを実現することができる。元の要求が割り当ての作成に成功した場合に再送を検出するために、サーバは、要求を作成したトランザクションIDを割り当てデータとともに保存し、同じ5タプルの受信するAllocate要求と比較できる。このようなリクエストが検出されると、サーバーはリクエストの解析を中止し、直ちに成功応答を生成することができる。この応答を構築するとき、LIFETIME属性の値は、この値が最初に返されたLIFETIME値とわずかに異なるかもしれないが、allocateステートデータ内のtime-to-expiryフィールドから取得することができる。さらに、サーバーは、元の応答で返された予約トークンの表示を保存して、再送された応答でこれが返されるようにする必要があるかもしれない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-13.1" class="pilcrow" data-dl-uid="883" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-7.2-13.2" data-dl-uid="884" data-dl-original="true" data-dl-translated="true">最初のリクエストが割り当ての作成に失敗した場合、サーバーは特に何もしないことを選択することができる。しかし、稀にサーバーが元のリクエストを拒否し、再送されたリクエストを受け入れる場合があることに注意してください（その理由は、その間の短い時間で条件が変わったからです）。クライアントが最初の失敗応答を受信すると、2番目の成功応答を無視し、割り当てが作成されなかったと考える。 この方法で作成された割り当ては、クライアントが更新しないので、いずれタイムアウトする。 さらに、クライアントが後で同じ5タプルで異なるトランザクションIDで再試行すると、437（割り当てミスマッチ）エラー応答を受信するので、別の5タプルで再試行する。 この方法で「孤児」になる割り当ての寿命を最小にするには、サーバーはより小さい最大寿命値を使用できる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.2-13.2" class="pilcrow" data-dl-uid="885" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</aside>
</section>
</div>
<section id="section-7.3">
        <h3 id="name-receiving-an-allocate-succe" data-dl-uid="886" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.3" class="section-number selfRef" data-dl-uid="887" data-dl-original="true" data-dl-translated="true">7.3. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-an-allocate-succe" class="section-name selfRef" data-dl-uid="888" data-dl-original="true" data-dl-translated="true">アロケート成功レスポンスの受信</a>       </h3>
<p id="section-7.3-1" data-dl-uid="889" data-dl-original="true" data-dl-translated="true">クライアントがAllocate成功応答を受け取った場合、マッピングされたアドレ スと中継されたトランスポートアドレスが、クライアントが理解し処理する準 備ができているアドレスファミリーの一部であることを確認<span class="bcp14" data-dl-uid="890" data-dl-original="true" data-dl-translated="true">しなければならない[MUST</span>]。これらのアドレスが、クライアントが処理する準備ができ ているアドレスファミリーの一部でない場合、クライアントはそのアロケーションを 削除<span class="bcp14" data-dl-uid="891" data-dl-original="true" data-dl-translated="true">しなければならず(</span><a href="https://www.rfc-editor.org/rfc/rfc8656#sec-refreshing-allocation" class="xref" data-dl-uid="892" data-dl-original="true" data-dl-translated="true">セクション8</a>)、ミスマッチが修正されたと考えるまで、 そのサーバーで別のアロケーションを作成しようとしては<span class="bcp14" data-dl-uid="893" data-dl-original="true" data-dl-translated="true">ならない(MUST NOT</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.3-1" class="pilcrow" data-dl-uid="894" data-dl-original="true" data-dl-translated="true">)</a>¶。</p>
<p id="section-7.3-2" data-dl-uid="895" data-dl-original="true" data-dl-translated="true">そうでなければ、クライアントはサーバで何が起こっているかを追跡するために、割り当てデータ構造の独自のコピーを作成する。特に、クライアントは、リクエストでサーバに送られた値ではなく、サーバから返された実際の寿命を覚えておく必要がある。また、クライアントは、リクエストに使用された5タプルと、リクエストの認証に使用されたユーザ名とパスワードを覚えておき、以降のメッセージに再利用できるようにする必要があります。また、クライアントは、サーバー上で確立したチャネルと権限を追跡する必要があります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.3-2" class="pilcrow" data-dl-uid="896" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-7.3-3" data-dl-uid="897" data-dl-original="true" data-dl-translated="true">もしクライアントがAllocate成功応答を受け取ったが、応答にADDRESS-ERROR-CODE属性があり、ADDRESS-ERROR-CODE属性で示されるエラーコードの値が440（アドレスファミリーはサポートされていない）である場合、クライアントは拒否されたアドレスタイプに対する要求を再試行<span class="bcp14" data-dl-uid="898" data-dl-original="true" data-dl-translated="true">してはならない（MUST NOT</span>）。クライアントが応答でADDRESS-ERROR-CODE属性を受信し、ADDRESS-ERROR-CODE属性でシグナリングされたエラーコード値が508（Insufficient Capacity）の場合、クライアントはこのサーバーで拒否されたアドレスタイプの割り当てをさらに要求しようとする前に少なくとも1分<span class="bcp14" data-dl-uid="899" data-dl-original="true" data-dl-translated="true">待つべきである</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.3-3" class="pilcrow" data-dl-uid="900" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-7.3-4" data-dl-uid="901" data-dl-original="true" data-dl-translated="true">クライアントはおそらく、ピアと通信できるように、中継されたトランスポート アドレスを(ここでは指定しない何らかの方法で)ピアに送信したいと思う だろう。クライアントはまた、XOR-MAPPED-ADDRESS属性で受け取ったサーバー反射アドレスをICE処理で使いたいと思うかもしれない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.3-4" class="pilcrow" data-dl-uid="902" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
<div id="sec-allocate-error-response">
<section id="section-7.4">
        <h3 id="name-receiving-an-allocate-error" data-dl-uid="903" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.4" class="section-number selfRef" data-dl-uid="904" data-dl-original="true" data-dl-translated="true">7.4. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-an-allocate-error" class="section-name selfRef" data-dl-uid="905" data-dl-original="true" data-dl-translated="true">アロケートエラーレスポンスを受信する</a>       </h3>
<p id="section-7.4-1" data-dl-uid="906" data-dl-original="true" data-dl-translated="true">クライアントがAllocateエラーレスポンスを受け取った場合、実際に返されたエラーコードによって処理が異なります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.4-1" class="pilcrow" data-dl-uid="907" data-dl-original="true" data-dl-translated="true">。</a></p>
<dl class="dlNewline" id="section-7.4-2">
          <dt id="section-7.4-2.1" data-dl-uid="908" data-dl-original="true" data-dl-translated="true">408（リクエストタイムアウト）。</dt>
<dd id="section-7.4-2.2" data-dl-uid="909" data-dl-original="true" data-dl-translated="true">サーバーに問題があるか、選択したトランスポートでサーバーに到達すること に問題があるかのどちらかである。クライアントは現在のトランザクションを失敗したとみなすが、別のトランスポート(例えば、UDPの代わりにTCP)を使用してAllocateリクエストを再試行することを<span class="bcp14" data-dl-uid="910" data-dl-original="true" data-dl-translated="true">選択してもよい(MAY</span>)<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.4-2.2" class="pilcrow" data-dl-uid="911" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
<dt id="section-7.4-2.3" data-dl-uid="912" data-dl-original="true" data-dl-translated="true">300（トライ・オルタネート）です。</dt>
<dd id="section-7.4-2.4" data-dl-uid="913" data-dl-original="true" data-dl-translated="true">サーバはクライアントにALTERNATE-SERVER属性で指定されたサーバを代わりに使用することを望む。 クライアントは現在のトランザクションが失敗したと考えるが、他のサーバ(例えば、DNS解決手順で発見した他のサーバ)を試す前に代替サーバでAllocateリクエストを<span class="bcp14" data-dl-uid="914" data-dl-original="true" data-dl-translated="true">試すべきである[SHOULD</span>]。代替サーバーでAllocateリクエストを試すとき、クライアントは<span data-dl-uid="915" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="916" data-dl-original="true" data-dl-translated="true">RFC8489</a>]</span>で規定されているALTERNATE-SERVERの手順に従う<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.4-2.4" class="pilcrow" data-dl-uid="917" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
<dt id="section-7.4-2.5" data-dl-uid="918" data-dl-original="true" data-dl-translated="true">400（バッドリクエスト）です。</dt>
<dd id="section-7.4-2.6" data-dl-uid="919" data-dl-original="true" data-dl-translated="true">サーバーは、クライアントのリクエストが何らかの理由で不正なものであると判断した。クライアントは現在のトランザクションが失敗したと見なす。クライアントはユーザーまたはオペレータに<span class="bcp14" data-dl-uid="920" data-dl-original="true" data-dl-translated="true">通知してもよく</span>、問題が解決されたと考えるまで、このサーバーへのリクエストを再試行する<span class="bcp14" data-dl-uid="921" data-dl-original="true" data-dl-translated="true">べきではな</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.4-2.6" class="pilcrow" data-dl-uid="922" data-dl-original="true" data-dl-translated="true">い</a> <span data-dl-uid="921" data-dl-translated="true">(SHOULD NOT</span>)。</dd>
<dt id="section-7.4-2.7" data-dl-uid="923" data-dl-original="true" data-dl-translated="true">401（認証されていない）。</dt>
<dd id="section-7.4-2.8" data-dl-uid="924" data-dl-original="true" data-dl-translated="true">クライアントが長期的なクレデンシャル・メカニズムの手順に従ったにもかかわらず、このエラーが発生する場合、サーバはクライアントのクレデンシャルを受け入れていないことになる。この場合、クライアントは現在のトランザクションが失敗したとみなし、ユーザーまたはオペレータに通知<span class="bcp14" data-dl-uid="925" data-dl-original="true" data-dl-translated="true">すべきである（SHOULD</span>）。クライアントは、問題が解決したと考えるまで、このサーバーにこれ以上リクエストを送信す<span class="bcp14" data-dl-uid="926" data-dl-original="true" data-dl-translated="true">べきではない</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.4-2.8" class="pilcrow" data-dl-uid="927" data-dl-original="true" data-dl-translated="true">¶（</a> <span data-dl-uid="926" data-dl-translated="true">should not</span>）。</dd>
<dt id="section-7.4-2.9" data-dl-uid="928" data-dl-original="true" data-dl-translated="true">403 (禁則事項)です。</dt>
<dd id="section-7.4-2.10" data-dl-uid="929" data-dl-original="true" data-dl-translated="true">リクエストは有効だが、管理上の制限のためか、サーバーが実行を拒否している。 クライアントは現在のトランザクションを失敗したとみなす。クライアントはユーザーまたはオペレータに<span class="bcp14" data-dl-uid="930" data-dl-original="true" data-dl-translated="true">通知してもよい(MAY</span>)が、 問題が解決したと考えるまで、このサーバーで同じリクエストを再試行す<span class="bcp14" data-dl-uid="931" data-dl-original="true" data-dl-translated="true">べきではな</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.4-2.10" class="pilcrow" data-dl-uid="932" data-dl-original="true" data-dl-translated="true">い</a> <span data-dl-uid="931" data-dl-translated="true">(SHOULD NOT</span>)。</dd>
<dt id="section-7.4-2.11" data-dl-uid="933" data-dl-original="true" data-dl-translated="true">420（不明属性）です。</dt>
<dd id="section-7.4-2.12" data-dl-uid="934" data-dl-original="true" data-dl-translated="true">クライアントがリクエストにDONT-FRAGMENT属性を含み、サーバーが420エラーコー ドでリクエストを拒否し、エラー応答のUNKNOWN-ATTRIBUTES属性にDONT-FRAGMENT 属性をリストした場合、クライアントはサーバーがDONT-FRAGMENT属性をサポートしていな いことを知ることになる。クライアントは現在のトランザクションが失敗したと考えるが、DONT-FRAGMENT属性なしでAllocateリクエストを再試行することを<span class="bcp14" data-dl-uid="935" data-dl-original="true" data-dl-translated="true">選択してもよい</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.4-2.12" class="pilcrow" data-dl-uid="936" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
<dt id="section-7.4-2.13" data-dl-uid="937" data-dl-original="true" data-dl-translated="true">437（アロケーションミスマッチ）。</dt>
<dd id="section-7.4-2.14" data-dl-uid="938" data-dl-original="true" data-dl-translated="true">これは、クライアントが、サーバーがすでに使用されているとみなす5タプルを選択したことを示します。このようなことが起こる可能性があるのは、最近クラッシュした別のクライアントが使用していたマッピングされたトランスポートアドレスを、介在するNATが割り当てた場合である。クライアントは、現在のトランザクションが失敗したと見なす。クライアントは、別のクライアントトランスポートアドレスを選び、(別のトランザク ションIDを使用して)Allocateリクエストを再試行<span class="bcp14" data-dl-uid="939" data-dl-original="true" data-dl-translated="true">するべきである[SHOULD</span>]。 クライアントは、このサーバーをあきらめる前に3つの異なるクライアントトランス ポートアドレスを<span class="bcp14" data-dl-uid="940" data-dl-original="true" data-dl-translated="true">試すべきである［SHOULD</span>］。一度クライアントがサーバーをあきらめたら、2分間はサーバー上で別のアロケーションを作成しようとす<span class="bcp14" data-dl-uid="941" data-dl-original="true" data-dl-translated="true">べきではない</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.4-2.14" class="pilcrow" data-dl-uid="942" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
<dt id="section-7.4-2.15" data-dl-uid="943" data-dl-original="true" data-dl-translated="true">438 (Stale Nonce)。</dt>
<dd id="section-7.4-2.16" data-dl-uid="944" data-dl-original="true" data-dl-translated="true">長期的なクレデンシャル機構の手順<span data-dl-uid="945" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="946" data-dl-original="true" data-dl-translated="true">RFC8489</a></span>]を参照してください<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.4-2.16" class="pilcrow" data-dl-uid="947" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-7.4-2.17" data-dl-uid="948" data-dl-original="true" data-dl-translated="true">440（アドレスファミリーがサポートされていません）。</dt>
<dd id="section-7.4-2.18" data-dl-uid="949" data-dl-original="true" data-dl-translated="true">サーバーは、クライアントが要求したアドレスファミリーをサポートしていない。クライアントが440（Address Family not Supported）のエラーコードを含むAllocateエラー応答を受け取った場合、クライアントはリクエストを再試行<span class="bcp14" data-dl-uid="950" data-dl-original="true" data-dl-translated="true">してはならない（MUST NOT）</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.4-2.18" class="pilcrow" data-dl-uid="951" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
<dt id="section-7.4-2.19" data-dl-uid="952" data-dl-original="true" data-dl-translated="true">441 (Wrong Credentials)です。</dt>
<dd id="section-7.4-2.20" data-dl-uid="953" data-dl-original="true" data-dl-translated="true">クライアントはAllocateリクエストの応答でこのエラーを受け取ってはならない。クライアントはユーザーまたはオペレータに<span class="bcp14" data-dl-uid="954" data-dl-original="true" data-dl-translated="true">通知してもよく</span>、問題が解決されたと考えるまで、このサーバーで同じリクエストを再試行<span class="bcp14" data-dl-uid="955" data-dl-original="true" data-dl-translated="true">してはならない</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.4-2.20" class="pilcrow" data-dl-uid="956" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
<dt id="section-7.4-2.21" data-dl-uid="957" data-dl-original="true" data-dl-translated="true">442 (Unsupported Transport Address)。</dt>
<dd id="section-7.4-2.22" data-dl-uid="958" data-dl-original="true" data-dl-translated="true">クライアントは、UDP割り当てのリクエストに対してこのエラーを受け取ってはいけません。 クライアントはユーザーまたはオペレーターに<span class="bcp14" data-dl-uid="959" data-dl-original="true" data-dl-translated="true">通知してもかまいませんが</span>、問題が解決されたと考えるまで、このサーバーへのリクエストを再試行<span class="bcp14" data-dl-uid="960" data-dl-original="true" data-dl-translated="true">すべきではありません</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.4-2.22" class="pilcrow" data-dl-uid="961" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
<dt id="section-7.4-2.23" data-dl-uid="962" data-dl-original="true" data-dl-translated="true">486（割当枠に達した）。</dt>
<dd id="section-7.4-2.24" data-dl-uid="963" data-dl-original="true" data-dl-translated="true">サーバーは現在、このユーザー名でこれ以上アロケーションを作成することができません。クライアントは現在のトランザクションを失敗したと見なします。クライアントは、サーバー上でこれ以上割り当てを作成しようとする前に、少なくとも1分<span class="bcp14" data-dl-uid="964" data-dl-original="true" data-dl-translated="true">待つべきです</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.4-2.24" class="pilcrow" data-dl-uid="965" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-7.4-2.25" data-dl-uid="966" data-dl-original="true" data-dl-translated="true">508(容量不足)です。</dt>
<dd id="section-7.4-2.26" data-dl-uid="967" data-dl-original="true" data-dl-translated="true">

     サーバーに利用可能な中継トランスポートアドレスがないか、要求されたプロパティを持つものがないか、予約されていたものが利用できなくなった。  クライアントは、現在の操作が失敗したとみなす。クライアントがEVEN-PORTまたはRESERVATION-TOKEN属性を使用している場合、クライアントはこの属性を削除または修正して、すぐに再試行することを<span class="bcp14" data-dl-uid="968" data-dl-original="true" data-dl-translated="true">選択してもよい（MAY）</span>。そうでない場合、クライアントはこのサーバーでこれ以上割り当てを作ろうとする前に、少なくとも1分<span class="bcp14" data-dl-uid="969" data-dl-original="true" data-dl-translated="true">待つべきである</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.4-2.26" class="pilcrow" data-dl-uid="970" data-dl-original="true" data-dl-translated="true">。</a></dd>
</dl>
<p id="section-7.4-3" data-dl-uid="971" data-dl-original="true" data-dl-translated="true">なお、エラーコード値486と508は、HTTPエラー応答コード503と同様に、盗聴者に対して、現時点で他の複数のユーザーがサーバーを使用していることを示すが、TURNサーバーを使用しているユーザーに関する情報は一切明らかにしない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.4-3" class="pilcrow" data-dl-uid="972" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-7.4-4" data-dl-uid="973" data-dl-original="true" data-dl-translated="true">不明なエラー応答は、<span data-dl-uid="975" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="976" data-dl-original="true" data-dl-translated="true">RFC8489</a>]</span>で説明されているように処理さ<span class="bcp14" data-dl-uid="974" data-dl-original="true" data-dl-translated="true">れなければならない（MUST）</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-7.4-4" class="pilcrow" data-dl-uid="977" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
</div>
</section>
</div>
<div id="sec-refreshing-allocation">
<section id="section-8">
      <h2 id="name-refreshing-an-allocation" data-dl-uid="978" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-8" class="section-number selfRef" data-dl-uid="979" data-dl-original="true" data-dl-translated="true">8. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-refreshing-an-allocation" class="section-name selfRef" data-dl-uid="980" data-dl-original="true" data-dl-translated="true">アロケーションをリフレッシュする</a>     </h2>
<p id="section-8-1" data-dl-uid="981" data-dl-original="true" data-dl-translated="true">Refreshトランザクションは、（a）既存の割り当てを更新し、その有効期限を更新するか、（b）既存の割り当てを削除するために使用することができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-8-1" class="pilcrow" data-dl-uid="982" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-8-2" data-dl-uid="983" data-dl-original="true" data-dl-translated="true">クライアントが割り当ての使用を継続したい場合、クライアントは有効期限が切れる前にそれをリフレッシュ<span class="bcp14" data-dl-uid="984" data-dl-original="true" data-dl-translated="true">しなければなりません（MUST</span>）。クライアントは、有効期限が切れるおよそ1分前にアロケーションをリフレッシュすることが推奨されます。クライアントがアロケーションの使用を望まなくなった場合、クライアントは明示的にアロケーションを削除<span class="bcp14" data-dl-uid="985" data-dl-original="true" data-dl-translated="true">すべきです(SHOULD</span>)。クライアントは、他の理由でいつでもアロケーションを<span class="bcp14" data-dl-uid="986" data-dl-original="true" data-dl-translated="true">リフレッシュしてもよい</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-8-2" class="pilcrow" data-dl-uid="987" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<section id="section-8.1">
        <h3 id="name-sending-a-refresh-request" data-dl-uid="988" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.1" class="section-number selfRef" data-dl-uid="989" data-dl-original="true" data-dl-translated="true">8.1. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-sending-a-refresh-request" class="section-name selfRef" data-dl-uid="990" data-dl-original="true" data-dl-translated="true">リフレッシュリクエストの送信</a>       </h3>
<p id="section-8.1-1" data-dl-uid="991" data-dl-original="true" data-dl-translated="true">クライアントが既存の割り当てを直ちに削除することを望む場合、それは値ゼロのLIFETIME属性を含む。リクエストの他のすべての形式は、割り当てをリフレッシュする<a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.1-1" class="pilcrow" data-dl-uid="992" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-8.1-2" data-dl-uid="993" data-dl-original="true" data-dl-translated="true">デュアルアロケーションをリフレッシュするとき、クライアントはリフレッシュすべきアドレスファミリーのタイプを示すREQUESTED-ADDRESS-FAMILY属性を含める。REQUESTED-ADDRESS-FAMILY属性が含まれていない場合、リクエストは現在のすべての割り付けに適用されるものとして扱われるはずである。クライアントは、以前に割り当ててまだ削除していないファミリタイプだけを<span class="bcp14" data-dl-uid="994" data-dl-original="true" data-dl-translated="true">含めなければならない(MUST</span>)。この処理は、そのRefreshリクエストの寿命をゼロに設定することで、特定のアドレスタイプの割り当てを削除するためにも使用できる。一つの割り当てを削除すると、その特定の割り当てに関連するすべてのパーミッションまたはチャネルが破壊される；それは、他のアドレスファミリーの割り当てに関連するすべてのパーミッションまたはチャネルに影響しては<span class="bcp14" data-dl-uid="995" data-dl-original="true" data-dl-translated="true">ならない</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.1-2" class="pilcrow" data-dl-uid="996" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-8.1-3" data-dl-uid="997" data-dl-original="true" data-dl-translated="true">Refreshトランザクションは、アロケーションの有効期限タイマーを更新する。クライアントがサーバーに期限切れタイマーをデフォルトの寿命以外に設定することを望む場合、それは要求された値をLIFETIME属性に含める。それからサーバーは、要求された寿命がゼロであればサーバーがアロケーションを即座に削除するという例外を除いて、Allocateトランザクションに対して行うのと同じ方法で新しい期限切れ時間を計算する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.1-3" class="pilcrow" data-dl-uid="998" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<div id="sec-rcv-refresh">
<section id="section-8.2">
        <h3 id="name-receiving-a-refresh-request" data-dl-uid="999" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.2" class="section-number selfRef" data-dl-uid="1000" data-dl-original="true" data-dl-translated="true">8.2. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-refresh-request" class="section-name selfRef" data-dl-uid="1001" data-dl-original="true" data-dl-translated="true">リフレッシュ要求の受信</a>       </h3>
<p id="section-8.2-1" data-dl-uid="1002" data-dl-original="true" data-dl-translated="true">サーバーはRefreshリクエストを受信すると、<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-general-behavior" class="xref" data-dl-uid="1003" data-dl-original="true" data-dl-translated="true">セクション5と</a>ここに記載された特定のルールに従ってリクエストを処理します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.2-1" class="pilcrow" data-dl-uid="1004" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-8.2-2" data-dl-uid="1005" data-dl-original="true" data-dl-translated="true">サーバーがREQUESTED-ADDRESS-FAMILY属性を持つリフレッシュリクエストを受信し、属性値が割り当てのアドレスファミリーと一致しない場合、サーバーは443（Peer Address Family Mismatch）リフレッシュエラー応答で返答<span class="bcp14" data-dl-uid="1006" data-dl-original="true" data-dl-translated="true">しなければならない</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.2-2" class="pilcrow" data-dl-uid="1007" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-8.2-3" data-dl-uid="1008" data-dl-original="true" data-dl-translated="true">リクエストがLIFETIME属性を含み、属性値がゼロである場合、サーバーは「希望する寿命」と呼ばれる値を次のように計算する：「希望する寿命」はゼロである。そうでない場合、リクエストがLIFETIME属性を含んでいれば、サーバーはクライアントの要求したライフタイムとサーバーの最大許容ライフタイムの最小値を計算する。この計算値がデフォルトのライフタイムより大きい場合、「希望するライフタイム」は計算された値になる。 それ以外の場合、「希望するライフタイム」はデフォルトのライフタイムになる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.2-3" class="pilcrow" data-dl-uid="1009" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-8.2-4" data-dl-uid="1010" data-dl-original="true" data-dl-translated="true">その後の処理は、「希望する寿命」の値によって異なります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.2-4" class="pilcrow" data-dl-uid="1011" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<ul>
<li id="section-8.2-5.1" data-dl-uid="1012" data-dl-original="true" data-dl-translated="true">希望する寿命」が0であれば、リクエストは成功し、その割り当ては削除される<a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.2-5.1" class="pilcrow" data-dl-uid="1013" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-8.2-5.2" data-dl-uid="1014" data-dl-original="true" data-dl-translated="true">希望する寿命」が0でない場合、リクエストは成功し、割り当ての有効期限は「希望する寿命」に設定される<a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.2-5.2" class="pilcrow" data-dl-uid="1015" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-8.2-6" data-dl-uid="1016" data-dl-original="true" data-dl-translated="true">リクエストが成功した場合、サーバーは以下の内容を含む成功応答を送信します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.2-6" class="pilcrow" data-dl-uid="1017" data-dl-original="true" data-dl-translated="true">：</a>¶。</p>
<ul>
<li id="section-8.2-7.1" data-dl-uid="1018" data-dl-original="true" data-dl-translated="true">期限切れタイマーの現在値を含む LIFETIME 属性<a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.2-7.1" class="pilcrow" data-dl-uid="1019" data-dl-original="true" data-dl-translated="true">。</a></li>
</ul>
<aside id="section-8.2-8">
          <p id="section-8.2-8.1" data-dl-uid="1020" data-dl-original="true" data-dl-translated="true">注：サーバーは、「ステートレススタックアプローチ」を使用してUDP上のRefreshリクエストの冪等性を実装するために、特別なことをする必要はない。ゼロでない「希望する有効期間」を持つ再送されたRefreshリクエストは、単に割り当てを更新する。ゼロの「希望する有効期間」を持つ再送されたRefreshリクエストは、アロケーションがすでに削除されている場合、437（Allocation Mismatch）応答を引き起こすが、クライアントはこれを成功応答と同じものとして扱う（下記参照）<a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.2-8.1" class="pilcrow" data-dl-uid="1021" data-dl-original="true" data-dl-translated="true">。</a></p>
</aside>
</section>
</div>
<section id="section-8.3">
        <h3 id="name-receiving-a-refresh-respons" data-dl-uid="1022" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.3" class="section-number selfRef" data-dl-uid="1023" data-dl-original="true" data-dl-translated="true">8.3. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-refresh-respons" class="section-name selfRef" data-dl-uid="1024" data-dl-original="true" data-dl-translated="true">リフレッシュレスポンスの受信</a>       </h3>
<p id="section-8.3-1" data-dl-uid="1025" data-dl-original="true" data-dl-translated="true">クライアントがリフレッシュ要求に対して、有効期間が0でない成功応答を受信した場合、クライアントはその応答に含まれる有効期間値で割り当てデータ構造のコピーを更新する。クライアントが割り当てをリフレッシュする要求に対して437（Allocation Mismatch）エラー応答を受信した場合、クライアントはその割り当てがもはや存在しないものと考えるべきである。クライアントが割り当てをリフレッシュする要求に対して438（Stale Nonce）エラーを受信した場合、クライアントは新しいNonce値で要求を再試行する必要があります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.3-1" class="pilcrow" data-dl-uid="1026" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-8.3-2" data-dl-uid="1027" data-dl-original="true" data-dl-translated="true">クライアントが割り当ての削除要求に対して437（Allocation Mismatch）エラー応答を受け取った場合、その割り当てはもはや存在しないので、その要求は事実上成功したと考えるべきである<a href="https://www.rfc-editor.org/rfc/rfc8656#section-8.3-2" class="pilcrow" data-dl-uid="1028" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
</section>
</div>
<div id="sec-permissions">
<section id="section-9">
      <h2 id="name-permissions-2" data-dl-uid="1029" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-9" class="section-number selfRef" data-dl-uid="1030" data-dl-original="true" data-dl-translated="true">9. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-permissions-2" class="section-name selfRef" data-dl-uid="1031" data-dl-original="true" data-dl-translated="true">パーミッション</a>     </h2>
<p id="section-9-1" data-dl-uid="1032" data-dl-original="true" data-dl-translated="true">各アロケーションに対して、サーバーは0以上のパーミッションのリストを保持する。各許可は、IPアドレスと関連する有効期限から構成される。パーミッションが存在する間は、そのパーミッションのIPアドレスを使用するすべてのピアがクライアントへのデータ送信を許可される。割り当てのコンテキスト内で、パーミッションは、関連するIPアドレスによって一意に識別されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-9-1" class="pilcrow" data-dl-uid="1033" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-9-2" data-dl-uid="1034" data-dl-original="true" data-dl-translated="true">CreatePermissionリクエストまたはChannelBindリクエストのいずれかを送信することにより、クライアントは、与えられたIPアドレスのための許可をインストールまたはリフレッシュするためにサーバを引き起こすことができます。これにより、次の2つのうちの1つが起こります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-9-2" class="pilcrow" data-dl-uid="1035" data-dl-original="true" data-dl-translated="true">。</a></p>
<ul>
<li id="section-9-3.1" data-dl-uid="1036" data-dl-original="true" data-dl-translated="true">そのIPアドレスのパーミッションが存在しない場合、与えられたIPアドレスとPermission Lifetimeに等しい有効期限を持つパーミッションが作成されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-9-3.1" class="pilcrow" data-dl-uid="1037" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-9-3.2" data-dl-uid="1038" data-dl-original="true" data-dl-translated="true">そのIPアドレスに対するパーミッションがすでに存在する場合、そのパーミッションの有効期限はPermission Lifetimeにリセットされます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-9-3.2" class="pilcrow" data-dl-uid="1039" data-dl-original="true" data-dl-translated="true">。</a></li>
</ul>
<p id="section-9-4" data-dl-uid="1040" data-dl-original="true" data-dl-translated="true">Permission Lifetimeは300秒（＝5分）で<span class="bcp14" data-dl-uid="1041" data-dl-original="true" data-dl-translated="true">なければなりません</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-9-4" class="pilcrow" data-dl-uid="1042" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-9-5" data-dl-uid="1043" data-dl-original="true" data-dl-translated="true">各許可の有効期限は、ゼロになるまで1秒に1回ずつ減少し、その時点で許可が失効し、削除されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-9-5" class="pilcrow" data-dl-uid="1044" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-9-6" data-dl-uid="1045" data-dl-original="true" data-dl-translated="true">CreatePermissionリクエストとChannelBindリクエストは、一つのパーミッション上で自由に混在することができる。与えられたパーミッションは、CreatePermissionリクエストで最初にインストールおよび/またはリフレッシュされ、その後、ChannelBindリクエストでリフレッシュされるかもしれないし、その逆もあり得る<a href="https://www.rfc-editor.org/rfc/rfc8656#section-9-6" class="pilcrow" data-dl-uid="1046" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-9-7" data-dl-uid="1047" data-dl-original="true" data-dl-translated="true">UDPデータグラムが割り当てのための中継トランスポートアドレスに到着すると、サーバはIPヘッダからソースIPアドレスを抽出する。次に、サーバーはこのアドレスを、割り当てのための許可リストの各許可に関連するIPアドレスと比較する。比較されるのはアドレスのみで、ポート番号は考慮されないことに注意。一致しない場合、中継は許可されず、サーバーはUDPデータグラムを黙って破棄する。完全に一致するものが見つかった場合、許可のチェックは成功したとみなされ、サーバーは他の場所で指定されたようにUDPデータグラムを処理し続ける<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-sending-data-indication" class="xref" data-dl-uid="1048" data-dl-original="true" data-dl-translated="true">(セクション11.3</a>)<a href="https://www.rfc-editor.org/rfc/rfc8656#section-9-7" class="pilcrow" data-dl-uid="1049" data-dl-original="true" data-dl-translated="true">.¶。</a></p>
<p id="section-9-8" data-dl-uid="1050" data-dl-original="true" data-dl-translated="true">あるアロケーションのパーミッションは、別のアロケーションのパーミッションと全く関係ありません。アロケーションが期限切れになった場合、そのすべてのパーミッションも一緒に期限切れになります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-9-8" class="pilcrow" data-dl-uid="1051" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<aside id="section-9-9">
        <p id="section-9-9.1" data-dl-uid="1052" data-dl-original="true" data-dl-translated="true">注：TURNのパーミッションは5分後に期限切れとなるが、公開時に導入されている多くのNATは、UDPバインディングの期限切れをかなり早くする。ICEを使用するアプリケーションはICE<span data-dl-uid="1053" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8445" class="xref" data-dl-uid="1054" data-dl-original="true" data-dl-translated="true">RFC8445</a></span>]のキープアライブガイドラインに従うべきで、ICEを使用しないアプリケーションは同様のことをすることが推奨される<a href="https://www.rfc-editor.org/rfc/rfc8656#section-9-9.1" class="pilcrow" data-dl-uid="1055" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</aside>
</section>
</div>
<section id="section-10">
      <h2 id="name-createpermission" data-dl-uid="1056" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-10" class="section-number selfRef" data-dl-uid="1057" data-dl-original="true" data-dl-translated="true">10. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-createpermission" class="section-name selfRef" data-dl-uid="1058" data-dl-original="true" data-dl-translated="true">CreatePermission（パーミッションの作成</a>     </h2>
<p id="section-10-1" data-dl-uid="1059" data-dl-original="true" data-dl-translated="true">TURNは、クライアントがサーバーにパーミッションをインストールまたはリフレッシュするための2つの方法をサポートしています。このセクションでは、1つの方法であるCreatePermissionリクエストについて説明します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-10-1" class="pilcrow" data-dl-uid="1060" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-10-2" data-dl-uid="1061" data-dl-original="true" data-dl-translated="true">CreatePermissionリクエストは、<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-sendanddata" class="xref" data-dl-uid="1062" data-dl-original="true" data-dl-translated="true">セクション11の</a>Sendメカニズムまたは<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-channels" class="xref" data-dl-uid="1063" data-dl-original="true" data-dl-translated="true">セクション12の</a>Channelメカニズムのいずれかと組み合わせて使用することができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-10-2" class="pilcrow" data-dl-uid="1064" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<section id="section-10.1">
        <h3 id="name-forming-a-createpermission-" data-dl-uid="1065" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-10.1" class="section-number selfRef" data-dl-uid="1066" data-dl-original="true" data-dl-translated="true">10.1. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-forming-a-createpermission-" class="section-name selfRef" data-dl-uid="1067" data-dl-original="true" data-dl-translated="true">CreatePermissionリクエストの形成</a>       </h3>
<p id="section-10.1-1" data-dl-uid="1068" data-dl-original="true" data-dl-translated="true">1つ以上のパーミッションをインストールまたはリフレッシュしたいクライアントは、サーバーにCreatePermissionリクエストを送信することができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-10.1-1" class="pilcrow" data-dl-uid="1069" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-10.1-2" data-dl-uid="1070" data-dl-original="true" data-dl-translated="true">CreatePermissionリクエストを形成するとき、クライアントは少なくとも1つのXOR-PEER-ADDRESS属性を<span class="bcp14" data-dl-uid="1071" data-dl-original="true" data-dl-translated="true">含めなければならず(MUST)</span>、そのような属性を<span class="bcp14" data-dl-uid="1072" data-dl-original="true" data-dl-translated="true">複数含めてもよい(MAY</span>)。各XOR-PEER-ADDRESS属性のIPアドレス部分には、パーミッションがインストールまたはリフレッシュされるべきIPアドレスが含まれる。各XOR-PEER-ADDRESS属性のポート部分は無視され、任意の値であり得る。様々なXOR-PEER-ADDRESS属性は、どのような<span class="bcp14" data-dl-uid="1073" data-dl-original="true" data-dl-translated="true">順序で現れてもよい(MAY</span>)。クライアントは、割り当てのための中継されたトランスポートアドレスと同じアドレスファミリーのアドレスを持つXOR-PEER-ADDRESS属性のみを<span class="bcp14" data-dl-uid="1074" data-dl-original="true" data-dl-translated="true">含まなければならない(MUST</span>)。ADDITIONAL-ADDRESS-FAMILY属性を使用して取得したデュアルアロケーショ ンの場合、クライアントはIPv4とIPv6アドレスファミリーのアドレスを持つXOR-PEER-ADDRESS<span class="bcp14" data-dl-uid="1075" data-dl-original="true" data-dl-translated="true">属性を含めてもよい</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-10.1-2" class="pilcrow" data-dl-uid="1076" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
<section id="section-10.2">
        <h3 id="name-receiving-a-createpermissio" data-dl-uid="1077" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-10.2" class="section-number selfRef" data-dl-uid="1078" data-dl-original="true" data-dl-translated="true">10.2. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-createpermissio" class="section-name selfRef" data-dl-uid="1079" data-dl-original="true" data-dl-translated="true">CreatePermissionリクエストの受信</a>       </h3>
<p id="section-10.2-1" data-dl-uid="1080" data-dl-original="true" data-dl-translated="true">サーバーはCreatePermissionリクエストを受信すると、<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-general-behavior" class="xref" data-dl-uid="1081" data-dl-original="true" data-dl-translated="true">セクション5と</a>ここに記載された特定のルールに従って処理します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-10.2-1" class="pilcrow" data-dl-uid="1082" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-10.2-2" data-dl-uid="1083" data-dl-original="true" data-dl-translated="true">メッセージは有効性をチェックされる。CreatePermissionリクエストには、少なくとも1つのXOR-PEER-ADDRESS属性を<span class="bcp14" data-dl-uid="1084" data-dl-original="true" data-dl-translated="true">含めなければならず（MUST）</span>、複数のそうした<span class="bcp14" data-dl-uid="1085" data-dl-original="true" data-dl-translated="true">属性を含めてもよい（MAY</span>）。そのような属性が存在しない場合、またはこれらの属性のいずれかが無効な場合、400（Bad Request）エラーが返される。リクエストは有効だが、容量制限などのためにサーバーがリクエストを満たすことができない場合、508（Insufficient Capacity）エラーが返される<a href="https://www.rfc-editor.org/rfc/rfc8656#section-10.2-2" class="pilcrow" data-dl-uid="1086" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-10.2-3" data-dl-uid="1087" data-dl-original="true" data-dl-translated="true">XOR-PEER-ADDRESS属性に、割り当てのための中継トランスポートアドレスと同じでないアドレスファミリーのアドレスが含まれている場合、サーバーは443（Peer Address Family Mismatch）応答コードでエラー応答を生成<span class="bcp14" data-dl-uid="1088" data-dl-original="true" data-dl-translated="true">しなければならない</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-10.2-3" class="pilcrow" data-dl-uid="1089" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-10.2-4" data-dl-uid="1090" data-dl-original="true" data-dl-translated="true">サーバーは、XOR-PEER-ADDRESS属性で許可されるIPアドレスに<span class="bcp14" data-dl-uid="1091" data-dl-original="true" data-dl-translated="true">制限を設けてもよい(MAY)</span>；値が許可されない場合、サーバーは403（Forbidden）エラーでリクエストを拒否する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-10.2-4" class="pilcrow" data-dl-uid="1092" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-10.2-5" data-dl-uid="1093" data-dl-original="true" data-dl-translated="true">メッセージが有効で、サーバーが要求を実行できる場合、サーバーは<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-permissions" class="xref" data-dl-uid="1094" data-dl-original="true" data-dl-translated="true">セクション9で</a>説明するように、各XOR-PEER-ADDRESS属性に含まれるIPアドレスに対する許可をインストールまたは更新する。各属性のポート部分は無視され、任意の値であってもよい<a href="https://www.rfc-editor.org/rfc/rfc8656#section-10.2-5" class="pilcrow" data-dl-uid="1095" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-10.2-6" data-dl-uid="1096" data-dl-original="true" data-dl-translated="true">その後、サーバーはCreatePermissionの成功レスポンスを返します。 成功レスポンスには必須属性はありません<a href="https://www.rfc-editor.org/rfc/rfc8656#section-10.2-6" class="pilcrow" data-dl-uid="1097" data-dl-original="true" data-dl-translated="true">。</a></p>
<aside id="section-10.2-7">
          <p id="section-10.2-7.1" data-dl-uid="1098" data-dl-original="true" data-dl-translated="true">注：「ステートレススタックアプローチ」を使用してUDP経由のCreatePermission要求の冪等性を実装するために、サーバーが特別なことをする必要はありません。再送されたCreatePermissionリクエストは、単にパーミッションをリフレッシュするだけです<a href="https://www.rfc-editor.org/rfc/rfc8656#section-10.2-7.1" class="pilcrow" data-dl-uid="1099" data-dl-original="true" data-dl-translated="true">。</a></p>
</aside>
</section>
<section id="section-10.3">
        <h3 id="name-receiving-a-createpermission" data-dl-uid="1100" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-10.3" class="section-number selfRef" data-dl-uid="1101" data-dl-original="true" data-dl-translated="true">10.3. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-createpermission" class="section-name selfRef" data-dl-uid="1102" data-dl-original="true" data-dl-translated="true">CreatePermissionレスポンスの受信</a>       </h3>
<p id="section-10.3-1" data-dl-uid="1103" data-dl-original="true" data-dl-translated="true">クライアントが有効なCreatePermission成功応答を受信した場合、クライアントはデータ構造を更新し、パーミッションがインストールまたはリフレッシュされたことを示す<a href="https://www.rfc-editor.org/rfc/rfc8656#section-10.3-1" class="pilcrow" data-dl-uid="1104" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
</section>
<div id="sec-sendanddata">
<section id="section-11">
      <h2 id="name-send-and-data-methods" data-dl-uid="1105" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11" class="section-number selfRef" data-dl-uid="1106" data-dl-original="true" data-dl-translated="true">11. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-send-and-data-methods" class="section-name selfRef" data-dl-uid="1107" data-dl-original="true" data-dl-translated="true">送信・データメソッド</a>     </h2>
<p id="section-11-1" data-dl-uid="1108" data-dl-original="true" data-dl-translated="true">TURNは、ピアのデータを送受信するための2つのメカニズムをサポートしています。このセクションでは、SendとDataメカニズムの使用について説明し、<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-channels" class="xref" data-dl-uid="1109" data-dl-original="true" data-dl-translated="true">セクション12では</a>Channelメカニズムの使用について説明します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11-1" class="pilcrow" data-dl-uid="1110" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<div id="sec-forming-indication">
<section id="section-11.1">
        <h3 id="name-forming-a-send-indication" data-dl-uid="1111" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.1" class="section-number selfRef" data-dl-uid="1112" data-dl-original="true" data-dl-translated="true">11.1. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-forming-a-send-indication" class="section-name selfRef" data-dl-uid="1113" data-dl-original="true" data-dl-translated="true">送信指示の形成</a>       </h3>
<p id="section-11.1-1" data-dl-uid="1114" data-dl-original="true" data-dl-translated="true">クライアントは、ピアに中継するためのデータをサーバに渡すために、Send指示を使用することができる。クライアントは、チャンネルがそのピアにバインドされていても、Send指示を使用することができる。これは、第三者がTURNサーバーを使用して任意の宛先にデータを送信することを防ぐためである<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.1-1" class="pilcrow" data-dl-uid="1116" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-11.1-2" data-dl-uid="1117" data-dl-original="true" data-dl-translated="true">Send指示を形成するとき、クライアントはXOR-PEER-ADDRESS属性とDATA属性を<span class="bcp14" data-dl-uid="1118" data-dl-original="true" data-dl-translated="true">含めなければなりません（MUST</span>）。XOR-PEER-ADDRESS属性には、データを送信する相手のトランスポートアドレスが含まれ、DATA属性には、相手に送信される実際のアプリケーションデータが含まれます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.1-2" class="pilcrow" data-dl-uid="1119" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-11.1-3" data-dl-uid="1120" data-dl-original="true" data-dl-translated="true">クライアントは、サーバーがピアに送信するUDPデータグラムにDFビットを設定することを望む場合、送信指示にDONT-FRAGMENT<span class="bcp14" data-dl-uid="1121" data-dl-original="true" data-dl-translated="true">属性を含めてもよい</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.1-3" class="pilcrow" data-dl-uid="1122" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
</div>
<section id="section-11.2">
        <h3 id="name-receiving-a-send-indication" data-dl-uid="1123" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.2" class="section-number selfRef" data-dl-uid="1124" data-dl-original="true" data-dl-translated="true">11.2. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-send-indication" class="section-name selfRef" data-dl-uid="1125" data-dl-original="true" data-dl-translated="true">センドインディケーションを受信する</a>       </h3>
<p id="section-11.2-1" data-dl-uid="1126" data-dl-original="true" data-dl-translated="true">サーバーはSend指示を受け取ると、<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-general-behavior" class="xref" data-dl-uid="1127" data-dl-original="true" data-dl-translated="true">セクション5と</a>ここに記載された特定のルールに従って処理します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.2-1" class="pilcrow" data-dl-uid="1128" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-11.2-2" data-dl-uid="1129" data-dl-original="true" data-dl-translated="true">メッセージは、まず有効性がチェックされる。Send指示は、XOR-PEER-ADDRESS属性とDATA属性の両方を<span class="bcp14" data-dl-uid="1130" data-dl-original="true" data-dl-translated="true">含まなければならない (MUST</span>)。これらの属性のいずれかが欠けているか無効である場合、メッセージは破棄される。DATA属性は0バイトのデータを含むことが許されていることに注意してください<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.2-2" class="pilcrow" data-dl-uid="1131" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-11.2-3" data-dl-uid="1132" data-dl-original="true" data-dl-translated="true">送信指示は、DONT-FRAGMENT属性を含むことができる。 この属性が存在するとき、サーバーが送信UDPデータグラムにDFビットを設定できない場合、DONT-FRAGMENT属性が未知の理解要求属性であるかのように振る舞う（したがって、送信指示は破棄される）<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.2-3" class="pilcrow" data-dl-uid="1133" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-11.2-4" data-dl-uid="1134" data-dl-original="true" data-dl-translated="true">また、サーバーはXOR-PEER-ADDRESS属性に含まれるIPアドレスにインストールされたパーミッションがあるかどうかを確認する。そのようなパーミッションが存在しない場合、メッセージは破棄される。送信指示によってサーバーがパーミッションを更新することはないことに注意<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.2-4" class="pilcrow" data-dl-uid="1135" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-11.2-5" data-dl-uid="1136" data-dl-original="true" data-dl-translated="true">サーバーは、XOR-PEER-ADDRESS属性で許可されるIPアドレスとポート値に<span class="bcp14" data-dl-uid="1137" data-dl-original="true" data-dl-translated="true">制限を設けてもよい(MAY)</span>；値が許可されない場合、サーバーは送信指示を静かに破棄する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.2-5" class="pilcrow" data-dl-uid="1138" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-11.2-6" data-dl-uid="1139" data-dl-original="true" data-dl-translated="true">すべてがOKなら、サーバーは次のようにUDPデータグラムを形成します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.2-6" class="pilcrow" data-dl-uid="1140" data-dl-original="true" data-dl-translated="true">：</a>¶。</p>
<ul>
<li id="section-11.2-7.1" data-dl-uid="1141" data-dl-original="true" data-dl-translated="true">送信元トランスポートアドレスは、割り当ての中継トランスポートアドレスであり、割り当てが送信指示が到着した5タプルによって決定される<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.2-7.1" class="pilcrow" data-dl-uid="1142" data-dl-original="true" data-dl-translated="true">。</a></li>
<li id="section-11.2-7.2" data-dl-uid="1143" data-dl-original="true" data-dl-translated="true">宛先トランスポートアドレスは、XOR-PEER-ADDRESS 属性から取得される<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.2-7.2" class="pilcrow" data-dl-uid="1144" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-11.2-7.3" data-dl-uid="1145" data-dl-original="true" data-dl-translated="true">UDPヘッダに続くデータは、DATA属性の値フィールドの内容である<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.2-7.3" class="pilcrow" data-dl-uid="1146" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-11.2-8" data-dl-uid="1147" data-dl-original="true" data-dl-translated="true">DONT-FRAGMENT属性（存在する場合）の取り扱いは、セクション<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-ip-header-fields" class="xref" data-dl-uid="1148" data-dl-original="true" data-dl-translated="true">14と</a> <a href="https://www.rfc-editor.org/rfc/rfc8656#sec-ip-header-fields-tcp-udp" class="xref" data-dl-uid="1149" data-dl-original="true" data-dl-translated="true">15で</a>説明される<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.2-8" class="pilcrow" data-dl-uid="1150" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-11.2-9" data-dl-uid="1151" data-dl-original="true" data-dl-translated="true">そして、出来上がったUDPデータグラムは、ピアに送信されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.2-9" class="pilcrow" data-dl-uid="1152" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
<div id="sec-sending-data-indication">
<section id="section-11.3">
        <h3 id="name-receiving-a-udp-datagram" data-dl-uid="1153" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.3" class="section-number selfRef" data-dl-uid="1154" data-dl-original="true" data-dl-translated="true">11.3. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-udp-datagram" class="section-name selfRef" data-dl-uid="1155" data-dl-original="true" data-dl-translated="true">UDPデータグラムを受信する</a>       </h3>
<p id="section-11.3-1" data-dl-uid="1156" data-dl-original="true" data-dl-translated="true">サーバーが現在割り当てられている中継トランスポートアドレスでUDPデータグラムを受信すると、サーバーは中継トランスポートアドレスに関連する割り当てを検索する。次に、サーバーは、割り当てのための権限のセットが、<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-permissions" class="xref" data-dl-uid="1157" data-dl-original="true" data-dl-translated="true">セクション9</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.3-1" class="pilcrow" data-dl-uid="1158" data-dl-original="true" data-dl-translated="true">.¶で</a>説明されているように、UDPデータグラムの中継を許可するかどうかを確認する。</p>
<p id="section-11.3-2" data-dl-uid="1159" data-dl-original="true" data-dl-translated="true">中継が許可されている場合、サーバーはUDPデータグラムを送信したピアにバインドされたチャネルがあるかどうかをチェックする（<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-channels" class="xref" data-dl-uid="1160" data-dl-original="true" data-dl-translated="true">セクション12を</a>参照）。チャネルがバインドされている場合、処理は<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-channel-relaying" class="xref" data-dl-uid="1161" data-dl-original="true" data-dl-translated="true">セクション12.7</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.3-2" class="pilcrow" data-dl-uid="1162" data-dl-original="true" data-dl-translated="true">.¶に</a>記述されているように進行する。</p>
<p id="section-11.3-3" data-dl-uid="1163" data-dl-original="true" data-dl-translated="true">中継が許可されているが、ピアにチャンネルがバインドされていない場合、サーバーはData表示を形成して送信する。Data indicationは、XOR-PEER-ADDRESSとDATA属性の両方を<span class="bcp14" data-dl-uid="1164" data-dl-original="true" data-dl-translated="true">含まなければならない (MUST</span>)。DATA属性にはデータグラムの「data octets」フィールドの値が設定され、XOR-PEER-ADDRESS属性には受信したUDPデータグラムのソーストランスポートアドレスが設定される。そして、DATA表示は、割り当てに関連する5タプルで送信される<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.3-3" class="pilcrow" data-dl-uid="1165" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
</div>
<section id="section-11.4">
        <h3 id="name-receiving-a-data-indication" data-dl-uid="1166" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.4" class="section-number selfRef" data-dl-uid="1167" data-dl-original="true" data-dl-translated="true">11.4. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-data-indication" class="section-name selfRef" data-dl-uid="1168" data-dl-original="true" data-dl-translated="true">データインジケーションを受信する</a>       </h3>
<p id="section-11.4-1" data-dl-uid="1169" data-dl-original="true" data-dl-translated="true">クライアントはData表示を受信すると、Data表示にXOR-PEER-ADDRESS属性が含まれているかどうかを確認し、含まれていない場合は表示を破棄する。クライアントはまた、XOR-PEER-ADDRESS属性に、クライアントがアクティブな許可があると信じているIPアドレスが含まれているかどうかをチェックし、そうでなければData指示を破棄<span class="bcp14" data-dl-uid="1170" data-dl-original="true" data-dl-translated="true">すべきであ</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.4-1" class="pilcrow" data-dl-uid="1171" data-dl-original="true" data-dl-translated="true">る</a> <span data-dl-uid="1170" data-dl-translated="true">(SHOULD</span>)。</p>
<aside id="section-11.4-2">
          <p id="section-11.4-2.1" data-dl-uid="1172" data-dl-original="true" data-dl-translated="true">注：後者のチェックは、サーバーを騙してクライアントが望まないパーミッションをインストールさせる攻撃者からクライアントを保護するものです<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.4-2.1" class="pilcrow" data-dl-uid="1173" data-dl-original="true" data-dl-translated="true">。</a></p>
</aside>
<p id="section-11.4-3" data-dl-uid="1174" data-dl-original="true" data-dl-translated="true">XOR-PEER-ADDRESSが存在し有効である場合、クライアントはData表示にDATA属性またはICMP属性が含まれているかどうかをチェックし、含まれていない場合は表示を破棄する。DATA属性は0バイトのデータを含むことが許されることに注意すること。ICMP属性を持つData指示の処理については、<a href="https://www.rfc-editor.org/rfc/rfc8656#receive-senderror" class="xref" data-dl-uid="1175" data-dl-original="true" data-dl-translated="true">セクション11.6</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.4-3" class="pilcrow" data-dl-uid="1176" data-dl-original="true" data-dl-translated="true">.¶で</a>説明する。</p>
<p id="section-11.4-4" data-dl-uid="1177" data-dl-original="true" data-dl-translated="true">Data表示が上記のチェックを通過すると、クライアントはDATA属性内のデータオクテットを、XOR-PEER-ADDRESS属性で与えられるトランスポートアドレスを持つピアから受信したという表示とともにアプリケーションに配信します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.4-4" class="pilcrow" data-dl-uid="1178" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
<div id="sec-sending-senderror-indication">
<section id="section-11.5">
        <h3 id="name-receiving-an-icmp-packet" data-dl-uid="1179" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.5" class="section-number selfRef" data-dl-uid="1180" data-dl-original="true" data-dl-translated="true">11.5. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-an-icmp-packet" class="section-name selfRef" data-dl-uid="1181" data-dl-original="true" data-dl-translated="true">ICMPパケットを受信する</a>       </h3>
<p id="section-11.5-1" data-dl-uid="1182" data-dl-original="true" data-dl-translated="true">サーバーはICMPパケットを受信すると、ICMPv4<span data-dl-uid="1183" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC0792" class="xref" data-dl-uid="1184" data-dl-original="true" data-dl-translated="true">RFC0792</a>]</span>パケットの場合はタイプが3または11、ICMPv6 [<span data-dl-uid="1185" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC4443" class="xref" data-dl-uid="1186" data-dl-original="true" data-dl-translated="true">RFC4443</a>]</span>パケットの場合は1、2または3であることを確認する。また，ICMPパケットのペイロードに含まれるIPパケットにUDPヘッダが含まれていることも確認する。これらの条件のいずれかに失敗した場合、ICMPパケットは静かにドロップされます。UDPヘッダーが存在する場合、サーバーは送信元と宛先のIPアドレスとUDPポート情報を抽出します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.5-1" class="pilcrow" data-dl-uid="1187" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-11.5-2" data-dl-uid="1188" data-dl-original="true" data-dl-translated="true">サーバーは、カプセル化されたパケットのソースIPアドレスとUDPポートに対応する中継トランスポートアドレスの割り当てを検索する。そのような割り当てが存在しない場合、パケットは静かにドロップされる。 サーバーは次に、割り当ての許可のセットがICMPパケットの中継を許可するかどうかを確認する。ICMPパケットでは、UDPパケットの場合のように送信元IPアドレスを許可リストと照合しては<span class="bcp14" data-dl-uid="1189" data-dl-original="true" data-dl-translated="true">ならない(MUST NOT</span>)。その代わりに、サーバーはカプセル化されたIPヘッダーから宛先IPアドレスを抽出する。次にサーバーは、このアドレスを、割り当てのための許可リストの各許可に関連するIPアドレスと比較する。一致しない場合、中継は許可されず、サーバーはICMPパケットを黙って破棄します。なお、比較されるのはアドレスのみで、ポート番号は考慮されません<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.5-2" class="pilcrow" data-dl-uid="1190" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-11.5-3" data-dl-uid="1191" data-dl-original="true" data-dl-translated="true">中継が許可されている場合、サーバーはData表示を形成して送信する。Data indicationは、XOR-PEER-ADDRESSとICMP属性の両方を<span class="bcp14" data-dl-uid="1192" data-dl-original="true" data-dl-translated="true">含まなければならない (MUST</span>)。ICMP属性には、ICMPパケットのtypeフィールドとcodeフィールドの値が設定される。XOR-PEER-ADDRESS属性のIPアドレス部分には、カプセル化されたIPヘッダーの宛先IPアドレスが設定される。本仕様書作成時点では、一部のOSのSocket APIは、スーパーユーザ権限のないアプリケーションに対して、カプセル化されたUDPヘッダの宛先ポートを配信しない。カプセル化されたUDPヘッダーの宛先ポートがサーバで利用可能な場合、XOR-PEER-ADDRESS属性のポート部分は宛先ポートに設定され、それ以外の場合、ポート部分はゼロに設定される。その後、割り当てに関連する5タプルでData表示が送信されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.5-3" class="pilcrow" data-dl-uid="1193" data-dl-original="true" data-dl-translated="true">。</a></p>
<aside id="section-11.5-4">
          <p id="section-11.5-4.1" data-dl-uid="1194" data-dl-original="true" data-dl-translated="true">実装上の注意：新しいICMPタイプ又はコードは，将来の仕様で定義することができる。サーバーがICMPエラーパケットを受信し、新しいタイプまたはコードフィールドが、クライアントがICMPエラー通知を利用し、アプリケーション層へのフィードバックを生成するのに役立つ場合、サーバーは、新しいICMPタイプまたはコードを伝えるICMP属性とともにデータ指示を送信します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.5-4.1" class="pilcrow" data-dl-uid="1195" data-dl-original="true" data-dl-translated="true">。</a></p>
</aside>
</section>
</div>
<div id="receive-senderror">
<section id="section-11.6">
        <h3 id="name-receiving-a-data-indication-" data-dl-uid="1196" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.6" class="section-number selfRef" data-dl-uid="1197" data-dl-original="true" data-dl-translated="true">11.6. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-data-indication-" class="section-name selfRef" data-dl-uid="1198" data-dl-original="true" data-dl-translated="true">ICMP 属性付きデータ表示の受信</a>       </h3>
<p id="section-11.6-1" data-dl-uid="1199" data-dl-original="true" data-dl-translated="true">クライアントはICMP属性のData表示を受信すると、Data表示にXOR-PEER-ADDRESS属性が含まれているかどうかを確認し、含まれていない場合は表示を破棄する。クライアントはまた、XOR-PEER-ADDRESS属性の値がアクティブな許可を持つIPアドレスを含むかどうかをチェックし、そうでなければData指示を破棄<span class="bcp14" data-dl-uid="1200" data-dl-original="true" data-dl-translated="true">するべきである</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.6-1" class="pilcrow" data-dl-uid="1201" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-11.6-2" data-dl-uid="1202" data-dl-original="true" data-dl-translated="true">Data表示が上記のチェックを通過すると、クライアントはXOR-PEER-ADDRESS属性で与えられるトランスポートアドレスを持つピアから受信したことを示すとともに、エラー状態をアプリケーションに通知する。アプリケーションは、XOR-PEER-ADDRESS属性のfamilyフィールドを使用して、ICMP属性のtypeとcodeの値の意味を理解することができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-11.6-2" class="pilcrow" data-dl-uid="1203" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
</div>
</section>
</div>
<div id="sec-channels">
<section id="section-12">
      <h2 id="name-channels-2" data-dl-uid="1204" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12" class="section-number selfRef" data-dl-uid="1205" data-dl-original="true" data-dl-translated="true">12. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-channels-2" class="section-name selfRef" data-dl-uid="1206" data-dl-original="true" data-dl-translated="true">チャンネル</a>     </h2>
<p id="section-12-1" data-dl-uid="1267" data-dl-original="true" data-dl-translated="true">チャンネルは、クライアントとサーバーがアプリケーションデータを送信するために、SendやData表示よりもオーバーヘッドが少ないChannelDataメッセージを使用する方法を提供します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12-1" class="pilcrow" data-dl-uid="1268" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12-2" data-dl-uid="1269" data-dl-original="true" data-dl-translated="true">ChannelData メッセージ（<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-channeldata-msg" class="xref" data-dl-uid="1270" data-dl-original="true" data-dl-translated="true">12.4 節</a>参照）は、チャネル番号を格納する 2 バイトのフィールドで開始される。このフィールドの値は、以下のように割り当てられる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12-2" class="pilcrow" data-dl-uid="1271" data-dl-original="true" data-dl-translated="true">：¶。</a></p>
<div id="channels">
<table class="center" id="table-2">
        <caption data-dl-uid="1272" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#table-2" class="selfRef" data-dl-uid="1273" data-dl-original="true" data-dl-translated="true">表2</a></caption>
<tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1274" data-dl-original="true" data-dl-translated="true">0x0000から0x3FFFまで。</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1275" data-dl-original="true" data-dl-translated="true">これらの値をチャンネル番号に使用することはできません。</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1276" data-dl-original="true" data-dl-translated="true">0x4000から0x4FFFまで。</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1277" data-dl-original="true" data-dl-translated="true">これらの値は、許容されるチャンネル番号です（4096個の可能な値）。</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1278" data-dl-original="true" data-dl-translated="true">0x5000から0xFFFFまで。</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1279" data-dl-original="true" data-dl-translated="true">Reserved (DTLS-SRTPの多重化衝突回避については、<span data-dl-uid="1280" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7983" class="xref" data-dl-uid="1281" data-dl-original="true" data-dl-translated="true">RFC7983</a>]</span>を参照)。</td>
          </tr>
        </tbody>
      </table>
</div>
<p id="section-12-4" data-dl-uid="1282" data-dl-original="true" data-dl-translated="true">チャンネル番号の範囲は<span data-dl-uid="1283" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC5766" class="xref" data-dl-uid="1284" data-dl-original="true" data-dl-translated="true">RFC5766</a>]</span>と後方互換性がないため、RFC5766に準拠したクライアントが、本仕様に準拠したTURNサーバーとチャンネルバインディングを確立することを妨げる可能性があることに注意すること<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12-4" class="pilcrow" data-dl-uid="1285" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-12-5" data-dl-uid="1286" data-dl-original="true" data-dl-translated="true"><span data-dl-uid="1287" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7983" class="xref" data-dl-uid="1288" data-dl-original="true" data-dl-translated="true">RFC7983</a>]</span>によると、ChannelDataメッセージは、メッセージの最初のバイトを調べることによって、他の多重化されたプロトコルと区別することができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12-5" class="pilcrow" data-dl-uid="1289" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<div id="fig-demultiplexing">
<table class="center" id="table-3">
        <caption data-dl-uid="1298" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#table-3" class="selfRef" data-dl-uid="1299" data-dl-original="true" data-dl-translated="true">表3</a></caption>
<tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1290" data-dl-original="true" data-dl-translated="true">[0..3]</td>
            <td class="text-center" rowspan="1" colspan="1" data-dl-uid="1291" data-dl-original="true" data-dl-translated="true">STUN</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1292" data-dl-original="true" data-dl-translated="true">[16..19]</td>
            <td class="text-center" rowspan="1" colspan="1" data-dl-uid="1293" data-dl-original="true" data-dl-translated="true">ゼットエーピー</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1300" data-dl-original="true" data-dl-translated="true">[20..63]</td>
            <td class="text-center" rowspan="1" colspan="1" data-dl-uid="1301" data-dl-original="true" data-dl-translated="true">ディーティーエルエス</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1302" data-dl-original="true" data-dl-translated="true">[64..79]</td>
            <td class="text-center" rowspan="1" colspan="1" data-dl-uid="1303" data-dl-original="true" data-dl-translated="true">TURNチャンネル</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1304" data-dl-original="true" data-dl-translated="true">[128..191]</td>
            <td class="text-center" rowspan="1" colspan="1" data-dl-uid="1305" data-dl-original="true" data-dl-translated="true">RTP/RTCP</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1306" data-dl-original="true" data-dl-translated="true">その他</td>
            <td class="text-center" rowspan="1" colspan="1" data-dl-uid="1307" data-dl-original="true" data-dl-translated="true">予約済み。ドロップさ<span class="bcp14" data-dl-uid="1308" data-dl-original="true" data-dl-translated="true">れなければ</span>ならず、アラートは記録<span class="bcp14" data-dl-uid="1309" data-dl-original="true" data-dl-translated="true">されてもよい（MAY</span>）。</td>
          </tr>
        </tbody>
      </table>
</div>
<p id="section-12-7" data-dl-uid="1310" data-dl-original="true" data-dl-translated="true">予約された値は、将来的に他のプロトコルで使用されるかもしれない。クライアントがチャネルバインディングを使用する場合、前述したデマルチプレクス方式に<span class="bcp14" data-dl-uid="1311" data-dl-original="true" data-dl-translated="true">従わなければならない</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-12-7" class="pilcrow" data-dl-uid="1312" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12-8" data-dl-uid="1313" data-dl-original="true" data-dl-translated="true">チャネルのバインディングは常にクライアントによって開始されます。クライアントは、割り当ての有効期間中、いつでもチャネルをピアにバインドできる。クライアントは、あるピアとデータを交換する前に、または（送信とデータの指示を使用して）ある時間そのピアとデータを交換した後に、そのピアにチャネルをバインドすることができ、またはチャネルをバインドしないことを選択することができます。 また、クライアントはいくつかのピアにチャネルをバインドし、他のピアにチャネルをバインドしないことができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12-8" class="pilcrow" data-dl-uid="1314" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12-9" data-dl-uid="1315" data-dl-original="true" data-dl-translated="true">チャネルバインディングは、あるアロケーションのチャネルバインディングでチャネル番号またはピアトランスポートアドレスを使用しても、別のアロケーションでの使用に影響を与えないように、アロケーションに固有です。アロケーションが期限切れになった場合、そのすべてのチャネルバインディングも一緒に期限切れになります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12-9" class="pilcrow" data-dl-uid="1316" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12-10" data-dl-uid="1317" data-dl-original="true" data-dl-translated="true">チャンネルバインディングは、次のように構成されています<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12-10" class="pilcrow" data-dl-uid="1318" data-dl-original="true" data-dl-translated="true">。</a></p>
<ul>
<li id="section-12-11.1" data-dl-uid="1319" data-dl-original="true" data-dl-translated="true">チャンネル番号<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12-11.1" class="pilcrow" data-dl-uid="1320" data-dl-original="true" data-dl-translated="true">;¶を</a></li>
<li id="section-12-11.2" data-dl-uid="1321" data-dl-original="true" data-dl-translated="true">ピアの）トランスポートアドレス、<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12-11.2" class="pilcrow" data-dl-uid="1322" data-dl-original="true" data-dl-translated="true">および</a>¶。</li>
<li id="section-12-11.3" data-dl-uid="1323" data-dl-original="true" data-dl-translated="true">期限付きタイマー<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12-11.3" class="pilcrow" data-dl-uid="1324" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-12-12" data-dl-uid="1325" data-dl-original="true" data-dl-translated="true">割り当てのコンテキスト内で、チャネルバインディングは、チャネル番号またはピアのトランスポートアドレスのいずれかによって一意に識別されます。したがって、同じチャネルを2つの異なるトランスポートアドレスにバインドすることはできず、同じトランスポートアドレスを2つの異なるチャネルにバインドすることはできない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12-12" class="pilcrow" data-dl-uid="1326" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-12-13" data-dl-uid="1327" data-dl-original="true" data-dl-translated="true">チャネルバインディングは、リフレッシュされない限り10分間持続する。バインディングをリフレッシュする（ChannelBindリクエストを受け取ったサーバーが、同じピアにチャネルを再バインドする）と、有効期限タイマーが10分にリセットされます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12-13" class="pilcrow" data-dl-uid="1328" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12-14" data-dl-uid="1329" data-dl-original="true" data-dl-translated="true">チャネルバインディングの有効期限が切れると、チャネルはバインド解除となる。いったんバインドが解除されると、チャネル番号は別のトランスポートアドレスにバインドでき、トランスポートアドレスは別のチャネル番号にバインドすることができる。競合状態を防ぐために、クライアントはチャンネルバインディングが切れた後、 チャンネル番号を別のトランスポートアドレスに、またはトランスポートアドレスを別の チャンネル番号にバインドしようとする前に5分<span class="bcp14" data-dl-uid="1330" data-dl-original="true" data-dl-translated="true">待たなければならない</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-12-14" class="pilcrow" data-dl-uid="1331" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12-15" data-dl-uid="1332" data-dl-original="true" data-dl-translated="true">チャンネルをピアにバインドするとき、クライアントはChannelBindリクエストを送信すると同時に、サーバーからチャンネル上のChannelDataメッセージを受信する準備を<span class="bcp14" data-dl-uid="1333" data-dl-original="true" data-dl-translated="true">するべきである(SHOULD</span>)。UDP上では、クライアントがChannelBind成功応答を受け取る前に、サーバーからChannelDataメッセージを受け取ることが可能である<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12-15" class="pilcrow" data-dl-uid="1334" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-12-16" data-dl-uid="1335" data-dl-original="true" data-dl-translated="true">他の方向では、クライアントはChannelBind成功応答を受信する前にChannelDataメッセージを送信することを<span class="bcp14" data-dl-uid="1336" data-dl-original="true" data-dl-translated="true">選択してもよい(MAY</span>)。しかし、そうすることは、何らかの理由でChannelBindリクエストが成功しなかった場合、ChannelDataメッセージがサーバーによってドロップされる危険性がある(例えば、リクエストがUDPで送信された場合のパケットロスやサーバーがリクエストを満たすことができない場合など)。安全を望むクライアントは、チャネルバインディングが確認されるまで、データをキューに入れるか、Send表示を使用する必要があります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12-16" class="pilcrow" data-dl-uid="1337" data-dl-original="true" data-dl-translated="true">。</a></p>
<section id="section-12.1">
        <h3 id="name-sending-a-channelbind-reque" data-dl-uid="1338" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.1" class="section-number selfRef" data-dl-uid="1339" data-dl-original="true" data-dl-translated="true">12.1. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-sending-a-channelbind-reque" class="section-name selfRef" data-dl-uid="1340" data-dl-original="true" data-dl-translated="true">チャンネルバインドリクエストを送信</a>する        </h3>
<p id="section-12.1-1" data-dl-uid="1341" data-dl-original="true" data-dl-translated="true">チャネルバインディングは、ChannelBindトランザクションを使用して作成またはリフレッシュされる。ChannelBindトランザクションは、ピアに対するパーミッションも作成またはリフレッシュする(<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-permissions" class="xref" data-dl-uid="1342" data-dl-original="true" data-dl-translated="true">セクション9</a>参照)<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.1-1" class="pilcrow" data-dl-uid="1343" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12.1-2" data-dl-uid="1344" data-dl-original="true" data-dl-translated="true">ChannelBindトランザクションを開始するために、クライアントはChannelBind要求を形成する。バインドされるチャネルはCHANNEL-NUMBER属性で指定され、ピアのトランスポートアドレスはXOR-PEER-ADDRESS属性で指定される。<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-receiving-ChannelBind" class="xref" data-dl-uid="1345" data-dl-original="true" data-dl-translated="true">セクション12.</a>2で、これらの属性の制限を説明する。クライアントは、割り当てのための中継トランスポートアドレスと同じアドレスファミリ のアドレスを持つXOR-PEER-ADDRESS属性のみを<span class="bcp14" data-dl-uid="1346" data-dl-original="true" data-dl-translated="true">含めなければならない</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.1-2" class="pilcrow" data-dl-uid="1347" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12.1-3" data-dl-uid="1348" data-dl-original="true" data-dl-translated="true">チャネルをすでにバインドされている同じトランスポートアドレスに再バインドすることで、ピアにデータを送信することなく、チャネルバインディングと対応するパーミッションをリフレッシュする方法が提供されます。しかし、パーミッションはチャネルよりも頻繁にリフレッシュされる必要があることに注意してください<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.1-3" class="pilcrow" data-dl-uid="1349" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<div id="sec-receiving-ChannelBind">
<section id="section-12.2">
        <h3 id="name-receiving-a-channelbind-req" data-dl-uid="1350" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.2" class="section-number selfRef" data-dl-uid="1351" data-dl-original="true" data-dl-translated="true">12.2. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-channelbind-req" class="section-name selfRef" data-dl-uid="1352" data-dl-original="true" data-dl-translated="true">チャネルバインドリクエストを受信する</a>       </h3>
<p id="section-12.2-1" data-dl-uid="1353" data-dl-original="true" data-dl-translated="true">サーバーはChannelBindリクエストを受信すると、<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-general-behavior" class="xref" data-dl-uid="1354" data-dl-original="true" data-dl-translated="true">セクション5と</a>ここに記載された特定のルールに従って処理します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.2-1" class="pilcrow" data-dl-uid="1355" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-12.2-2" data-dl-uid="1356" data-dl-original="true" data-dl-translated="true">サーバーは以下のことを確認します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.2-2" class="pilcrow" data-dl-uid="1357" data-dl-original="true" data-dl-translated="true">：</a>¶。</p>
<ul>
<li id="section-12.2-3.1" data-dl-uid="1358" data-dl-original="true" data-dl-translated="true">リクエストは、CHANNEL-NUMBERとXOR-PEER-ADDRESSの両方の属性を含む<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.2-3.1" class="pilcrow" data-dl-uid="1359" data-dl-original="true" data-dl-translated="true">。</a></li>
<li id="section-12.2-3.2" data-dl-uid="1360" data-dl-original="true" data-dl-translated="true">チャンネル番号は、0x4000～0x4FFFの範囲（インクルーシブ）である<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.2-3.2" class="pilcrow" data-dl-uid="1361" data-dl-original="true" data-dl-translated="true">。</a></li>
<li id="section-12.2-3.3" data-dl-uid="1362" data-dl-original="true" data-dl-translated="true">チャンネル番号が現在別のトランスポートアドレスにバインドされていない（同じトランスポートアドレスでもOK）<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.2-3.3" class="pilcrow" data-dl-uid="1363" data-dl-original="true" data-dl-translated="true">;¶。</a></li>
<li id="section-12.2-3.4" data-dl-uid="1364" data-dl-original="true" data-dl-translated="true">トランスポートアドレスは、現在、別のチャンネル番号にバインドされていません<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.2-3.4" class="pilcrow" data-dl-uid="1365" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-12.2-4" data-dl-uid="1366" data-dl-original="true" data-dl-translated="true">これらのテストのいずれかが失敗した場合、サーバーは400(Bad Request)エラーで返信する。XOR-PEER-ADDRESS属性が、割り当てのための中継トランスポートアドレスと同じでないアドレスファミリーのアドレスを含む場合、サーバーは443（Peer Address Family Mismatch）応答コードでエラー応答を生成<span class="bcp14" data-dl-uid="1367" data-dl-original="true" data-dl-translated="true">しなければならない</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.2-4" class="pilcrow" data-dl-uid="1368" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12.2-5" data-dl-uid="1369" data-dl-original="true" data-dl-translated="true">サーバーは、XOR-PEER-ADDRESS属性で許可されるIPアドレスとポート値に<span class="bcp14" data-dl-uid="1370" data-dl-original="true" data-dl-translated="true">制限を設けてもよい(MAY)</span>；値が許可されない場合、サーバーは403（Forbidden）エラーでリクエストを拒否します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.2-5" class="pilcrow" data-dl-uid="1371" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12.2-6" data-dl-uid="1372" data-dl-original="true" data-dl-translated="true">リクエストは有効だが、サーバーの容量制限などによりリクエストを満たすことができない場合、サーバーは508（Insufficient Capacity）エラーで返信する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.2-6" class="pilcrow" data-dl-uid="1373" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12.2-7" data-dl-uid="1374" data-dl-original="true" data-dl-translated="true">それ以外の場合は、ChannelBind成功レスポンスで応答する。 ChannelBind成功レスポンスには、必須属性はない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.2-7" class="pilcrow" data-dl-uid="1375" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-12.2-8" data-dl-uid="1376" data-dl-original="true" data-dl-translated="true">サーバーが要求を満たすことができる場合、サーバーはCHANNEL-NUMBER属性のチャンネル番号とXOR-PEER-ADDRESS属性のトランスポートアドレスを使用してチャンネル結合を作成またはリフレッシュする。また、サーバーは、<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-permissions" class="xref" data-dl-uid="1377" data-dl-original="true" data-dl-translated="true">セクション9</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.2-8" class="pilcrow" data-dl-uid="1378" data-dl-original="true" data-dl-translated="true">.¶で</a>説明されているように、XOR-PEER-ADDRESS属性のIPアドレスに対する許可をインストールまたはリフレッシュする。</p>
<aside id="section-12.2-9">
          <p id="section-12.2-9.1" data-dl-uid="1379" data-dl-original="true" data-dl-translated="true">注：サーバーは、「ステートレススタックアプローチ」を使用してUDP上のChannelBindリクエストの冪等性を実装するために特別なことをする必要はありません。再送されたChannelBindリクエストは、単にチャネルバインディングと対応するパーミッションをリフレッシュします。 さらに、クライアントは、以前にバインドしたチャネル番号またはピアアドレスを別のチャネルにバインドする前に5分待たなければならず、トランザクションが最初に失敗しても再送で成功する可能性を排除しています<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.2-9.1" class="pilcrow" data-dl-uid="1380" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</aside>
</section>
</div>
<section id="section-12.3">
        <h3 id="name-receiving-a-channelbind-res" data-dl-uid="1381" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.3" class="section-number selfRef" data-dl-uid="1382" data-dl-original="true" data-dl-translated="true">12.3. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-channelbind-res" class="section-name selfRef" data-dl-uid="1383" data-dl-original="true" data-dl-translated="true">ChannelBind レスポンスを受信する</a>       </h3>
<p id="section-12.3-1" data-dl-uid="1384" data-dl-original="true" data-dl-translated="true">クライアントは、ChannelBindの成功応答を受信すると、データ構造を更新して、チャネルバインディングがアクティブになったことを記録します。 また、データ構造を更新して、対応する許可がインストールまたは更新されたことを記録します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.3-1" class="pilcrow" data-dl-uid="1385" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12.3-2" data-dl-uid="1386" data-dl-original="true" data-dl-translated="true">クライアントとサーバー間でチャンネル情報が同期していないことを示すChannelBindの失敗応答（例：予期せぬ400の「Bad Request」応答）を受け取った場合、クライアントは直ちに割り当てを削除し、新しい割り当てで再スタートすることが<span class="bcp14" data-dl-uid="1387" data-dl-original="true" data-dl-translated="true">推奨さ</span>れます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.3-2" class="pilcrow" data-dl-uid="1388" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
<div id="sec-channeldata-msg">
<section id="section-12.4">
        <h3 id="name-the-channeldata-message" data-dl-uid="1389" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.4" class="section-number selfRef" data-dl-uid="1390" data-dl-original="true" data-dl-translated="true">12.4. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-the-channeldata-message" class="section-name selfRef" data-dl-uid="1391" data-dl-original="true" data-dl-translated="true">ChannelData メッセージ</a>       </h3>
<p id="section-12.4-1" data-dl-uid="1392" data-dl-original="true" data-dl-translated="true">ChannelDataメッセージは、クライアントとサーバーの間でアプリケーションデータを伝送するために使用されます。次のような形式になっています<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.4-1" class="pilcrow" data-dl-uid="1393" data-dl-original="true" data-dl-translated="true">。</a></p>
<figure id="figure-5">
          <div class="artwork art-text alignLeft" id="section-12.4-2.1">
<pre data-dl-uid="1394" data-dl-original="true" data-dl-translated="true">0 1 2 3 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|         Channel Number        |            Length             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
/                       Application Data                        /
/                                                               /
|                                                               |
|                               +-------------------------------+
|                               |
+-------------------------------+</pre>
</div>
<figcaption data-dl-uid="1395" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-5" class="selfRef" data-dl-uid="1396" data-dl-original="true" data-dl-translated="true">図5</a></figcaption></figure>
<p id="section-12.4-3" data-dl-uid="1397" data-dl-original="true" data-dl-translated="true">チャネル番号フィールドは、データが移動するチャネルの番号を指定し、したがって、データを送信または受信するピアのアドレスを指定します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.4-3" class="pilcrow" data-dl-uid="1398" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12.4-4" data-dl-uid="1399" data-dl-original="true" data-dl-translated="true">Lengthフィールドは、アプリケーションデータフィールドの長さをバイト単位で指定する（すなわち、ChannelDataヘッダのサイズを含まない）。0は有効な長さであることに注意すること<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.4-4" class="pilcrow" data-dl-uid="1400" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-12.4-5" data-dl-uid="1401" data-dl-original="true" data-dl-translated="true">アプリケーションデータフィールドは、クライアントが相手に送信しようとしているデータ、または相手がクライアントに送信しているデータを運びます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.4-5" class="pilcrow" data-dl-uid="1402" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
</div>
<div id="sec-sending-channeldata-msg">
<section id="section-12.5">
        <h3 id="name-sending-a-channeldata-messa" data-dl-uid="1403" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.5" class="section-number selfRef" data-dl-uid="1404" data-dl-original="true" data-dl-translated="true">12.5. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-sending-a-channeldata-messa" class="section-name selfRef" data-dl-uid="1405" data-dl-original="true" data-dl-translated="true">ChannelDataメッセージの送信</a>       </h3>
<p id="section-12.5-1" data-dl-uid="1406" data-dl-original="true" data-dl-translated="true">クライアントがピアにチャネルをバインドしたら、クライアントがそのピアに送信するデータを持つとき、ChannelDataメッセージまたはSend指示のいずれかを使用することができます。つまり、クライアントはチャネルが存在するときにそれを使用する義務はなく、ピアにデータを送信するときに2つのメッセージタイプを自由に混在することができます。一方、サーバーは、ピアにチャネルがバインドされている場合、ChannelDataメッセージを使用<span class="bcp14" data-dl-uid="1407" data-dl-original="true" data-dl-translated="true">しなければならない（MUST</span>）。サーバーは、ピアにチャネルがバインドされていても、クライアントにXOR-PEER-ADDRESSとICMP属性を通知するためにData表示を使用します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.5-1" class="pilcrow" data-dl-uid="1408" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12.5-2" data-dl-uid="1409" data-dl-original="true" data-dl-translated="true">ChannelData メッセージのフィールドは、<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-channeldata-msg" class="xref" data-dl-uid="1410" data-dl-original="true" data-dl-translated="true">12.4</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.5-2" class="pilcrow" data-dl-uid="1411" data-dl-original="true" data-dl-translated="true">.¶</a> <a data-dl-uid="1410" data-dl-translated="true">節で</a>説明したように記入される。</p>
<p id="section-12.5-3" data-dl-uid="1412" data-dl-original="true" data-dl-translated="true">TCPおよびTLS-over-TCPでは、ChannelDataメッセージは、後続のメッセージのアライメントを確実にするために、4バイトの倍数にパディングさ<span class="bcp14" data-dl-uid="1413" data-dl-original="true" data-dl-translated="true">れなければならない(MUST</span>)。パディングは ChannelData メッセージの Length フィールドには反映されないので、ChannelData メッセージの実際のサイズ (パディングを含む) は (4 + Length) で、最も近い4の倍数に切り上げられる (<span data-dl-uid="1414" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="1416" data-dl-original="true" data-dl-translated="true">RFC8489</a>] の<a href="https://www.rfc-editor.org/rfc/rfc8489#section-14" class="relref" data-dl-uid="1415" data-dl-original="true" data-dl-translated="true">セクション 14</a></span> を参照)。UDP上では、パディングは必須ではないが、含まれても<span class="bcp14" data-dl-uid="1417" data-dl-original="true" data-dl-translated="true">よい</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.5-3" class="pilcrow" data-dl-uid="1418" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12.5-4" data-dl-uid="1419" data-dl-original="true" data-dl-translated="true">その後、ChannelDataメッセージは、割り当てに関連する5タプルで送信されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.5-4" class="pilcrow" data-dl-uid="1420" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
</div>
<section id="section-12.6">
        <h3 id="name-receiving-a-channeldata-mes" data-dl-uid="1421" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.6" class="section-number selfRef" data-dl-uid="1422" data-dl-original="true" data-dl-translated="true">12.6. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-receiving-a-channeldata-mes" class="section-name selfRef" data-dl-uid="1423" data-dl-original="true" data-dl-translated="true">ChannelDataメッセージの受信</a>       </h3>
<p id="section-12.6-1" data-dl-uid="1424" data-dl-original="true" data-dl-translated="true">ChannelData メッセージの受信者は、<a href="https://www.rfc-editor.org/rfc/rfc8656#fig-demultiplexing" class="xref" data-dl-uid="1425" data-dl-original="true" data-dl-translated="true">表 3</a> に示すように、他の多重化プロトコルと区別するために最初のバイトを使用します。メッセージが予約範囲（0x5000～0xFFFF）の値を使用している場合、そのメッセージは静かに破棄されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.6-1" class="pilcrow" data-dl-uid="1426" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12.6-2" data-dl-uid="1427" data-dl-original="true" data-dl-translated="true">ChannelData メッセージが UDP データグラムで受信され、UDP データグラムが短すぎて ChannelData メッセージの要求長を含むことができない場合（すなわち、UDP ヘッダー長フィールド値が ChannelData ヘッダー長フィールド値 + 4 + 8 より小さい）、そのメッセージは静かに破棄される<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.6-2" class="pilcrow" data-dl-uid="1428" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12.6-3" data-dl-uid="1429" data-dl-original="true" data-dl-translated="true">ChannelData メッセージが TCP または TLS-over-TCP で受信される場合、ChannelData メッセージの実際の長さは、<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-sending-channeldata-msg" class="xref" data-dl-uid="1430" data-dl-original="true" data-dl-translated="true">12.5</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.6-3" class="pilcrow" data-dl-uid="1431" data-dl-original="true" data-dl-translated="true">.</a>項¶のとおりである。</p>
<p id="section-12.6-4" data-dl-uid="1432" data-dl-original="true" data-dl-translated="true">ChannelData メッセージが、どのピアにもバインドされていないチャネルで受信された場合、メッセージは静かに破棄される<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.6-4" class="pilcrow" data-dl-uid="1433" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12.6-5" data-dl-uid="1434" data-dl-original="true" data-dl-translated="true">クライアントでは、クライアントが相手に対するアクティブなパーミッションがないと考える場合、ChannelDataメッセージを破棄することが<span class="bcp14" data-dl-uid="1435" data-dl-original="true" data-dl-translated="true">推奨される(RECOMMENDED</span>)。サーバーでは、ChannelDataメッセージの受信は、チャンネルバインディングと相手に対する許可のいずれかをリフレッシュ<span class="bcp14" data-dl-uid="1436" data-dl-original="true" data-dl-translated="true">してはならない(MUST NOT</span>)<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.6-5" class="pilcrow" data-dl-uid="1437" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-12.6-6" data-dl-uid="1438" data-dl-original="true" data-dl-translated="true">サーバーでは、エラーが検出されなければ、以下のようにUDPデータグラムを形成してアプリケーションデータをピアに中継します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.6-6" class="pilcrow" data-dl-uid="1439" data-dl-original="true" data-dl-translated="true">。</a></p>
<ul>
<li id="section-12.6-7.1" data-dl-uid="1440" data-dl-original="true" data-dl-translated="true">送信元トランスポートアドレスは、割り当ての中継トランスポートアドレスであり、ここで、割り当ては、ChannelDataメッセージが到着した5タプルによって決定される<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.6-7.1" class="pilcrow" data-dl-uid="1441" data-dl-original="true" data-dl-translated="true">;</a>¶。</li>
<li id="section-12.6-7.2" data-dl-uid="1442" data-dl-original="true" data-dl-translated="true">宛先トランスポートアドレスは、チャネルがバインドされているトランスポートアドレスである<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.6-7.2" class="pilcrow" data-dl-uid="1443" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-12.6-7.3" data-dl-uid="1444" data-dl-original="true" data-dl-translated="true">UDPヘッダに続くデータは、ChannelDataメッセージのデータフィールドの内容である<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.6-7.3" class="pilcrow" data-dl-uid="1445" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-12.6-8" data-dl-uid="1446" data-dl-original="true" data-dl-translated="true">そして、出来上がったUDPデータグラムは、ピアに送信される。ChannelDataメッセージのLengthフィールドが0である場合、UDPデータグラムにはデータが存在しないが、UDPデータグラムは依然として形成されて送信されることに注意すること<span data-dl-uid="1447" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc6263#section-4.1" class="relref" data-dl-uid="1448" data-dl-original="true" data-dl-translated="true">（</a>[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC6263" class="xref" data-dl-uid="1449" data-dl-original="true" data-dl-translated="true">RFC6263</a>]の<a data-dl-uid="1448" data-dl-translated="true">セクション4.1</a></span>）<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.6-8" class="pilcrow" data-dl-uid="1450" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<div id="sec-channel-relaying">
<section id="section-12.7">
        <h3 id="name-relaying-data-from-the-peer" data-dl-uid="1451" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.7" class="section-number selfRef" data-dl-uid="1452" data-dl-original="true" data-dl-translated="true">12.7. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-relaying-data-from-the-peer" class="section-name selfRef" data-dl-uid="1453" data-dl-original="true" data-dl-translated="true">ピアからデータを中継する</a>       </h3>
<p id="section-12.7-1" data-dl-uid="1454" data-dl-original="true" data-dl-translated="true">サーバーが割り当てに関連付けられた中継トランスポートアドレス上でUDPデータグラムを受信すると、サーバーは<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-sending-data-indication" class="xref" data-dl-uid="1455" data-dl-original="true" data-dl-translated="true">セクション11.</a>3に記述されているようにそれを処理する。そのセクションが、（UDPデータグラムに送信したピアにバインドされたチャネルがあるため）ChannelDataメッセージが送信されるべきであると示す場合、サーバは<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-sending-channeldata-msg" class="xref" data-dl-uid="1456" data-dl-original="true" data-dl-translated="true">セクション12.5</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.7-1" class="pilcrow" data-dl-uid="1457" data-dl-original="true" data-dl-translated="true">¶に</a>記述されるようにChannelDataメッセージを形成し送信する。</p>
<p id="section-12.7-2" data-dl-uid="1458" data-dl-original="true" data-dl-translated="true">サーバーはICMPパケットを受信すると、「<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-sending-senderror-indication" class="xref" data-dl-uid="1459" data-dl-original="true" data-dl-translated="true">11.5</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-12.7-2" class="pilcrow" data-dl-uid="1460" data-dl-original="true" data-dl-translated="true">.</a>¶」に記載された処理を行います。</p>
</section>
</div>
</section>
</div>
<section id="section-13">
      <h2 id="name-packet-translations" data-dl-uid="1461" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13" class="section-number selfRef" data-dl-uid="1462" data-dl-original="true" data-dl-translated="true">13. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-packet-translations" class="section-name selfRef" data-dl-uid="1463" data-dl-original="true" data-dl-translated="true">パケットトランスレーション</a>     </h2>
<p id="section-13-1" data-dl-uid="1464" data-dl-original="true" data-dl-translated="true">このセクションでは、IPv4からIPv6、IPv6からIPv4、およびIPv6からIPv6への変換について説明します。パケットのIPアドレスとポート番号の変換に関する要件は、上記で説明したとおりです。次のセクションでは、他のヘッダーフィールドの変換方法について説明します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13-1" class="pilcrow" data-dl-uid="1465" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-13-2" data-dl-uid="1466" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#unpriv" class="xref" data-dl-uid="1467" data-dl-original="true" data-dl-translated="true">セクション3.6で</a>説明したように、TURNの翻訳は、TURNサーバーが一般的に利用できるオペレーティングシステムのユーザー空間で動作し、特別な特権を必要としないアプリケーションとして実装できるように設計されています。以下のセクションで指定される翻訳は、この原則に従っています<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13-2" class="pilcrow" data-dl-uid="1468" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-13-3" data-dl-uid="1469" data-dl-original="true" data-dl-translated="true">以下の説明には、好ましい動作と代替動作の2つの部分がある。サーバーは好ましい動作を実装<span class="bcp14" data-dl-uid="1470" data-dl-original="true" data-dl-translated="true">するべきである[SHOULD</span>]が、特定の フィールドでそれが不可能な場合、サーバーは代替動作を実装<span class="bcp14" data-dl-uid="1471" data-dl-original="true" data-dl-translated="true">しなければ ならず</span>、<span data-dl-uid="1473" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7915" class="xref" data-dl-uid="1474" data-dl-original="true" data-dl-translated="true">RFC7915</a>]</span>に詳述されている理由により、他のことはしては な<span class="bcp14" data-dl-uid="1472" data-dl-original="true" data-dl-translated="true">らない[M</span> <span data-dl-uid="1471" data-dl-translated="true">UST</span> <span data-dl-uid="1472" data-dl-translated="true">NOT</span>]。TURNサーバーは、IPv4ヘッダーのDFビットとIPv6ヘッダーのFragmentヘッ ダーにのみ依存して、<span data-dl-uid="1475" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7915" class="xref" data-dl-uid="1476" data-dl-original="true" data-dl-translated="true">RFC7915</a>]</span>で説明されている方法で断片化を処理し、 DONT-FRAGMENT属性には依存しない。DONT-FRAGMENT属性を無視することはUDPからUDPへのリレー にのみ適用され、TCPからUDPへのリレーには適用できない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13-3" class="pilcrow" data-dl-uid="1477" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<section id="section-13.1">
        <h3 id="name-ipv4-to-ipv6-translations" data-dl-uid="1478" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1" class="section-number selfRef" data-dl-uid="1479" data-dl-original="true" data-dl-translated="true">13.1. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-ipv4-to-ipv6-translations" class="section-name selfRef" data-dl-uid="1480" data-dl-original="true" data-dl-translated="true">IPv4からIPv6への変換</a>       </h3>
<p id="section-13.1-1" data-dl-uid="1481" data-dl-original="true" data-dl-translated="true">タイムトゥライブ（TTL）フィールド<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-1" class="pilcrow" data-dl-uid="1482" data-dl-original="true" data-dl-translated="true">¶の</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-13.1-2.1" data-dl-uid="1483" data-dl-original="true" data-dl-translated="true">好ましい動作<span data-dl-uid="1484" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7915" class="xref" data-dl-uid="1486" data-dl-original="true" data-dl-translated="true">RFC7915</a>]の<a href="https://www.rfc-editor.org/rfc/rfc7915#section-4" class="relref" data-dl-uid="1485" data-dl-original="true" data-dl-translated="true">セクション4で</a></span>規定されている通りです<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-2.1" class="pilcrow" data-dl-uid="1487" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-13.1-2.2" data-dl-uid="1488" data-dl-original="true" data-dl-translated="true">代替の動作です。発信パケットの値をデフォルトに設定する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-2.2" class="pilcrow" data-dl-uid="1489" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-13.1-3" data-dl-uid="1490" data-dl-original="true" data-dl-translated="true">トラフィッククラス<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-3" class="pilcrow" data-dl-uid="1491" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-13.1-4.1" data-dl-uid="1492" data-dl-original="true" data-dl-translated="true">望ましい動作です。<span data-dl-uid="1493" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7915" class="xref" data-dl-uid="1495" data-dl-original="true" data-dl-translated="true">RFC7915</a>]の<a href="https://www.rfc-editor.org/rfc/rfc7915#section-4" class="relref" data-dl-uid="1494" data-dl-original="true" data-dl-translated="true">セクション4で</a></span>規定されている通りです<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-4.1" class="pilcrow" data-dl-uid="1496" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-13.1-4.2" data-dl-uid="1497" data-dl-original="true" data-dl-translated="true">代替の動作です。TURNサーバーは、送信パケットのトラフィッククラスをデフォルト値に設定します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-4.2" class="pilcrow" data-dl-uid="1498" data-dl-original="true" data-dl-translated="true">。</a></li>
</ul>
<p id="section-13.1-5" data-dl-uid="1499" data-dl-original="true" data-dl-translated="true">フローラベル<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-5" class="pilcrow" data-dl-uid="1500" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-13.1-6.1" data-dl-uid="1501" data-dl-original="true" data-dl-translated="true">好ましい動作です。TURNサーバーは、<span data-dl-uid="1502" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC6437" class="xref" data-dl-uid="1504" data-dl-original="true" data-dl-translated="true">RFC6437</a>]の<a href="https://www.rfc-editor.org/rfc/rfc6437#section-3" class="relref" data-dl-uid="1503" data-dl-original="true" data-dl-translated="true">セクション</a></span>3で議論されているように、各フローを識別し、IPv6パケットのフローラベル値を生成して設定するために、中継トランスポートアドレス、ピアトランスポートアドレス、およびUDPプロトコル番号の5タプルを使用できる。TURNサーバーがIPv6パケットの5タプルからフローラベル値を生成できない場合、フローラベルをゼロに設定する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-6.1" class="pilcrow" data-dl-uid="1505" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-13.1-6.2" data-dl-uid="1506" data-dl-original="true" data-dl-translated="true">代替動作です。代替動作：代替動作は、フローラベルをサポートしないTURNサーバーの好ましい動作と同じである<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-6.2" class="pilcrow" data-dl-uid="1507" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-13.1-7" data-dl-uid="1508" data-dl-original="true" data-dl-translated="true">ホップリミット<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-7" class="pilcrow" data-dl-uid="1509" data-dl-original="true" data-dl-translated="true">¶を</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-13.1-8.1" data-dl-uid="1510" data-dl-original="true" data-dl-translated="true">望ましい動作です。<span data-dl-uid="1511" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7915" class="xref" data-dl-uid="1513" data-dl-original="true" data-dl-translated="true">RFC7915</a>]の<a href="https://www.rfc-editor.org/rfc/rfc7915#section-4" class="relref" data-dl-uid="1512" data-dl-original="true" data-dl-translated="true">セクション4で</a></span>規定されている通りである<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-8.1" class="pilcrow" data-dl-uid="1514" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-13.1-8.2" data-dl-uid="1515" data-dl-original="true" data-dl-translated="true">代替の動作です。TURNサーバーは、送信パケットのHop Limitをデフォルト値に設定します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-8.2" class="pilcrow" data-dl-uid="1516" data-dl-original="true" data-dl-translated="true">。</a></li>
</ul>
<p id="section-13.1-9" data-dl-uid="1517" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-9" class="pilcrow" data-dl-uid="1518" data-dl-original="true" data-dl-translated="true">フラグメンテーション</a>¶を</p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-13.1-10.1" data-dl-uid="1519" data-dl-original="true" data-dl-translated="true">望ましい動作です。<span data-dl-uid="1520" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7915" class="xref" data-dl-uid="1522" data-dl-original="true" data-dl-translated="true">RFC7915</a>]の<a href="https://www.rfc-editor.org/rfc/rfc7915#section-4" class="relref" data-dl-uid="1521" data-dl-original="true" data-dl-translated="true">セクション4で</a></span>規定されている通りである<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-10.1" class="pilcrow" data-dl-uid="1523" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-13.1-10.2" data-dl-uid="1524" data-dl-original="true" data-dl-translated="true">代替の動作です。TURN サーバーは、受信フラグメントを組み立てる。TURNサーバーはデフォルトの動作に従い、送信パケットを送信する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-10.2" class="pilcrow" data-dl-uid="1525" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li class="ulEmpty" id="section-13.1-10.3" data-dl-uid="1526" data-dl-original="true" data-dl-translated="true">好ましい動作と代替動作の両方について、DONT-FRAGMENT属性はサーバーによって無視さ<span class="bcp14" data-dl-uid="1527" data-dl-original="true" data-dl-translated="true">れなければならない（MUST）</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-10.3" class="pilcrow" data-dl-uid="1528" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-13.1-11" data-dl-uid="1529" data-dl-original="true" data-dl-translated="true">拡張<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-11" class="pilcrow" data-dl-uid="1530" data-dl-original="true" data-dl-translated="true">ヘッダー</a>¶を</p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-13.1-12.1" data-dl-uid="1531" data-dl-original="true" data-dl-translated="true">好ましい動作です。送信パケットは、上記のFragmentヘッダーを除いて、IPv6拡張ヘッダーのシステムデフォルトを使用します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-12.1" class="pilcrow" data-dl-uid="1532" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-13.1-12.2" data-dl-uid="1533" data-dl-original="true" data-dl-translated="true">代替の行動。優先と同じ<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.1-12.2" class="pilcrow" data-dl-uid="1534" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
</section>
<section id="section-13.2">
        <h3 id="name-ipv6-to-ipv6-translations" data-dl-uid="1535" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2" class="section-number selfRef" data-dl-uid="1536" data-dl-original="true" data-dl-translated="true">13.2. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-ipv6-to-ipv6-translations" class="section-name selfRef" data-dl-uid="1537" data-dl-original="true" data-dl-translated="true">IPv6からIPv6への変換</a>       </h3>
<p id="section-13.2-1" data-dl-uid="1538" data-dl-original="true" data-dl-translated="true">フローラベル<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2-1" class="pilcrow" data-dl-uid="1539" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-13.2-2" data-dl-uid="1540" data-dl-original="true" data-dl-translated="true">注：TURNサーバーは、2つの異なるIPv6フローを処理することを考慮すべきである。したがって、フローラベル<span data-dl-uid="1541" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC6437" class="xref" data-dl-uid="1542" data-dl-original="true" data-dl-translated="true">RFC6437</a>]</span>は、変換の一部としてコピーされる<span class="bcp14" data-dl-uid="1543" data-dl-original="true" data-dl-translated="true">べきではない</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2-2" class="pilcrow" data-dl-uid="1544" data-dl-original="true" data-dl-translated="true">。</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-13.2-3.1" data-dl-uid="1545" data-dl-original="true" data-dl-translated="true">好ましい動作です。望ましい動作：TURNサーバーは、<span data-dl-uid="1546" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC6437" class="xref" data-dl-uid="1548" data-dl-original="true" data-dl-translated="true">RFC6437</a>]の<a href="https://www.rfc-editor.org/rfc/rfc6437#section-3" class="relref" data-dl-uid="1547" data-dl-original="true" data-dl-translated="true">セクション</a></span>3で議論されているように、各フローを識別し、IPv6パケットのフローラベル値を生成し設定するために、中継トランスポートアドレス、ピアトランスポートアドレス、およびUDPプロトコル番号の5タプルを使用できる。TURNサーバーがIPv6パケットの5タプルからフローラベル値を生成できない場合、フローラベルをゼロに設定する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2-3.1" class="pilcrow" data-dl-uid="1549" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-13.2-3.2" data-dl-uid="1550" data-dl-original="true" data-dl-translated="true">代替動作です。代替動作：代替動作は、フローラベルをサポートしないTURNサーバーの好ましい動作と同じである<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2-3.2" class="pilcrow" data-dl-uid="1551" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-13.2-4" data-dl-uid="1552" data-dl-original="true" data-dl-translated="true">ホップリミット<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2-4" class="pilcrow" data-dl-uid="1553" data-dl-original="true" data-dl-translated="true">¶を</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-13.2-5.1" data-dl-uid="1554" data-dl-original="true" data-dl-translated="true">好ましい動作です。TURNサーバーは、ホップリミットをデクリメントし、ゼロになるとICMPv6エラーを発生させることに関して、通常のルーターとして動作します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2-5.1" class="pilcrow" data-dl-uid="1555" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-13.2-5.2" data-dl-uid="1556" data-dl-original="true" data-dl-translated="true">代替の動作です。TURNサーバーは、送信パケットのHop Limitをデフォルト値に設定します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2-5.2" class="pilcrow" data-dl-uid="1557" data-dl-original="true" data-dl-translated="true">。</a></li>
</ul>
<p id="section-13.2-6" data-dl-uid="1558" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2-6" class="pilcrow" data-dl-uid="1559" data-dl-original="true" data-dl-translated="true">フラグメンテーション</a>¶を</p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-13.2-7.1" data-dl-uid="1560" data-dl-original="true" data-dl-translated="true">好ましい動作受信パケットにFragmentヘッダーが含まれておらず、送信パケットサイズが送信リンクのMTUを超えない場合、TURNサーバーはFragmentヘッダーなしで送信パケットを送信します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2-7.1" class="pilcrow" data-dl-uid="1561" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li class="ulEmpty" id="section-13.2-7.2" data-dl-uid="1562" data-dl-original="true" data-dl-translated="true">受信パケットがFragmentヘッダーを含まず、送信パケットサイズが送信リンクのMTUを超える場合、TURNサーバーは送信パケットをドロップし、受信パケットの送信者にタイプ2コード0のICMPメッセージ（「Packet too big」）を送る。 ICMPv6パケット（「Packet too big」）がピアに送られる場合、TURNサーバーはデータ表示のオーバーヘッドに余裕があるようにICMPメッセージで報告されるMTUを48バイト<span class="bcp14" data-dl-uid="1563" data-dl-original="true" data-dl-translated="true">減らすべきであ</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2-7.2" class="pilcrow" data-dl-uid="1564" data-dl-original="true" data-dl-translated="true">る</a>(^^)</li>
<li class="ulEmpty" id="section-13.2-7.3" data-dl-uid="1565" data-dl-original="true" data-dl-translated="true">受信パケットにFragmentヘッダが含まれ、送信パケットサイズ（Fragmentヘッダを含む）が送信リンクのMTUを超えない場合、TURNサーバーは送信パケットをFragmentヘッダで送信する。TURNサーバーは、サーバーから発信されるパケットに適したFragmentヘッダーのフィールドを設定します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2-7.3" class="pilcrow" data-dl-uid="1566" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li class="ulEmpty" id="section-13.2-7.4" data-dl-uid="1567" data-dl-original="true" data-dl-translated="true">受信パケットがFragmentヘッダーを含み、送信パケットサイズが送信リンクのMTUを超える場合、TURNサーバーは送信パケットを1280バイト以下のフラグメントに分割<span class="bcp14" data-dl-uid="1568" data-dl-original="true" data-dl-translated="true">しなければならない（MUST</span>）。TURNサーバーは、サーバーから発信されるパケットに適したようにFragmentヘッダーのフィールドを設定します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2-7.4" class="pilcrow" data-dl-uid="1569" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li class="ulEmpty" id="section-13.2-7.5" data-dl-uid="1570" data-dl-original="true" data-dl-translated="true">代替の動作です。TURN サーバーは、受信フラグメントを組み立てる。TURNサーバーはデフォルトの動作に従い、送信パケットを送信する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2-7.5" class="pilcrow" data-dl-uid="1571" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li class="ulEmpty" id="section-13.2-7.6" data-dl-uid="1572" data-dl-original="true" data-dl-translated="true">好ましい動作と代替動作の両方について、DONT-FRAGMENT属性はサーバーによって無視さ<span class="bcp14" data-dl-uid="1573" data-dl-original="true" data-dl-translated="true">れなければならない（MUST）</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2-7.6" class="pilcrow" data-dl-uid="1574" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-13.2-8" data-dl-uid="1575" data-dl-original="true" data-dl-translated="true">拡張<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2-8" class="pilcrow" data-dl-uid="1576" data-dl-original="true" data-dl-translated="true">ヘッダー</a>¶を</p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-13.2-9.1" data-dl-uid="1577" data-dl-original="true" data-dl-translated="true">好ましい動作です。送信パケットは、上記のFragmentヘッダーを除いて、IPv6拡張ヘッダーのシステムデフォルトを使用します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2-9.1" class="pilcrow" data-dl-uid="1578" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-13.2-9.2" data-dl-uid="1579" data-dl-original="true" data-dl-translated="true">代替の行動。優先と同じ<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.2-9.2" class="pilcrow" data-dl-uid="1580" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
</section>
<section id="section-13.3">
        <h3 id="name-ipv6-to-ipv4-translations" data-dl-uid="1581" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.3" class="section-number selfRef" data-dl-uid="1582" data-dl-original="true" data-dl-translated="true">13.3. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-ipv6-to-ipv4-translations" class="section-name selfRef" data-dl-uid="1583" data-dl-original="true" data-dl-translated="true">IPv6からIPv4への変換</a>       </h3>
<p id="section-13.3-1" data-dl-uid="1584" data-dl-original="true" data-dl-translated="true">サービスの種類と<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.3-1" class="pilcrow" data-dl-uid="1585" data-dl-original="true" data-dl-translated="true">優先</a>順位¶。</p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-13.3-2.1" data-dl-uid="1586" data-dl-original="true" data-dl-translated="true">望ましい動作です。<span data-dl-uid="1587" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7915" class="xref" data-dl-uid="1589" data-dl-original="true" data-dl-translated="true">RFC7915</a>]の<a href="https://www.rfc-editor.org/rfc/rfc7915#section-5" class="relref" data-dl-uid="1588" data-dl-original="true" data-dl-translated="true">セクション5で</a></span>規定されている通り<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.3-2.1" class="pilcrow" data-dl-uid="1590" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-13.3-2.2" data-dl-uid="1591" data-dl-original="true" data-dl-translated="true">代替の動作です。TURNサーバーは、発信パケットのType of ServiceとPrecedenceをデフォルト値に設定します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.3-2.2" class="pilcrow" data-dl-uid="1592" data-dl-original="true" data-dl-translated="true">。</a></li>
</ul>
<p id="section-13.3-3" data-dl-uid="1593" data-dl-original="true" data-dl-translated="true">生きるための時間<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.3-3" class="pilcrow" data-dl-uid="1594" data-dl-original="true" data-dl-translated="true">¶を</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-13.3-4.1" data-dl-uid="1595" data-dl-original="true" data-dl-translated="true">望ましい動作です。<span data-dl-uid="1596" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7915" class="xref" data-dl-uid="1598" data-dl-original="true" data-dl-translated="true">RFC7915</a>]の<a href="https://www.rfc-editor.org/rfc/rfc7915#section-5" class="relref" data-dl-uid="1597" data-dl-original="true" data-dl-translated="true">セクション5で</a></span>規定されている通り<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.3-4.1" class="pilcrow" data-dl-uid="1599" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-13.3-4.2" data-dl-uid="1600" data-dl-original="true" data-dl-translated="true">代替の動作です。TURNサーバーは、送信パケットのTime to Liveをデフォルト値に設定します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.3-4.2" class="pilcrow" data-dl-uid="1601" data-dl-original="true" data-dl-translated="true">。</a></li>
</ul>
<p id="section-13.3-5" data-dl-uid="1602" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.3-5" class="pilcrow" data-dl-uid="1603" data-dl-original="true" data-dl-translated="true">フラグメンテーション</a>¶を</p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-13.3-6.1" data-dl-uid="1604" data-dl-original="true" data-dl-translated="true">望ましい動作。<span data-dl-uid="1605" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7915" class="xref" data-dl-uid="1607" data-dl-original="true" data-dl-translated="true">RFC7915</a>]の<a href="https://www.rfc-editor.org/rfc/rfc7915#section-5" class="relref" data-dl-uid="1606" data-dl-original="true" data-dl-translated="true">セクション5で</a></span>規定されている通り。さらに、送信パケットのサイズが送信リンクのMTUを超える場合、TURNサーバーはMTUサイズを報告するICMPエラー（ICMPv6 "Packet too big"）を生成する必要がある。ICMPv4パケット（Destination Unreachable (Type 3) with Code 4）がピアに送信される場合、TURNサーバーはICMPメッセージで報告されるMTUを48バイト減らし、データ指示のオーバーヘッド分のスペースを確保<span class="bcp14" data-dl-uid="1608" data-dl-original="true" data-dl-translated="true">すべきである（SHOULD</span>）<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.3-6.1" class="pilcrow" data-dl-uid="1609" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li class="ulEmpty" id="section-13.3-6.2" data-dl-uid="1610" data-dl-original="true" data-dl-translated="true">代替の動作です。TURN サーバーは、受信フラグメントを組み立てる。TURNサーバーはデフォルトの動作に従い、送信パケットを送信する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.3-6.2" class="pilcrow" data-dl-uid="1611" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li class="ulEmpty" id="section-13.3-6.3" data-dl-uid="1612" data-dl-original="true" data-dl-translated="true">好ましい動作と代替動作の両方について、DONT-FRAGMENT属性はサーバーによって無視さ<span class="bcp14" data-dl-uid="1613" data-dl-original="true" data-dl-translated="true">れなければならない（MUST）</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-13.3-6.3" class="pilcrow" data-dl-uid="1614" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
</section>
</section>
<div id="sec-ip-header-fields">
<section id="section-14">
      <h2 id="name-udp-to-udp-relay" data-dl-uid="1615" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-14" class="section-number selfRef" data-dl-uid="1616" data-dl-original="true" data-dl-translated="true">14. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-udp-to-udp-relay" class="section-name selfRef" data-dl-uid="1617" data-dl-original="true" data-dl-translated="true">UDP間リレー</a>     </h2>
<p id="section-14-1" data-dl-uid="1618" data-dl-original="true" data-dl-translated="true">本節では、クライアントからピアへのUDP-to-UDPリレー、またはその逆のために、サーバーがIPヘッダーの各種フィールドを設定する方法を説明する。 本節の説明は、（a）サーバーがピアにUDPデータグラムを送信する場合、（b）サーバーがUDP伝送でクライアントにデータ表示またはChannelDataメッセージを送信する場合、に当てはまる。本節の記述は、サーバーからクライアントへTCPまたはTLSトランスポートで送信されるTURNメッセージには適用されない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-14-1" class="pilcrow" data-dl-uid="1619" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-14-2" data-dl-uid="1620" data-dl-original="true" data-dl-translated="true">以下の記述には、好ましい動作と代替動作の2つの部分がある。サーバーは好ましい動作を実装<span class="bcp14" data-dl-uid="1621" data-dl-original="true" data-dl-translated="true">すべきですが</span>、特定のフィールドでそれが不可能な場合は、代替動作を実装<span class="bcp14" data-dl-uid="1622" data-dl-original="true" data-dl-translated="true">すべきで</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-14-2" class="pilcrow" data-dl-uid="1623" data-dl-original="true" data-dl-translated="true">す</a>(<span data-dl-uid="1622" data-dl-translated="true">SHOULD</span>)。</p>
<p id="section-14-3" data-dl-uid="1624" data-dl-original="true" data-dl-translated="true">DSCP（Differentiated Services Code Point）フィールド<span data-dl-uid="1625" data-dl-original="true" data-dl-translated="true">［<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC2474" class="xref" data-dl-uid="1626" data-dl-original="true" data-dl-translated="true">RFC2474</a></span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-14-3" class="pilcrow" data-dl-uid="1627" data-dl-original="true" data-dl-translated="true">］¶。</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-14-4.1" data-dl-uid="1628" data-dl-original="true" data-dl-translated="true">好ましい動作望ましい動作：サーバーにDifferentiated Services Classifier and Marker<span data-dl-uid="1629" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC2474" class="xref" data-dl-uid="1630" data-dl-original="true" data-dl-translated="true">RFC2474</a></span>]が含まれていない限り、発信値を受信値に設定する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-14-4.1" class="pilcrow" data-dl-uid="1631" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li class="ulEmpty" id="section-14-4.2" data-dl-uid="1632" data-dl-original="true" data-dl-translated="true">代替の動作です。発信値を固定値に設定する。デフォルトでは、特に設定しない限り、ベストエフォートとなる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-14-4.2" class="pilcrow" data-dl-uid="1633" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-14-4.3" data-dl-uid="1634" data-dl-original="true" data-dl-translated="true">いずれの場合も、サーバーが差別化サービス分類器とマーカーにすぐ隣接している場合、DSCPは分類器に向かう方向に任意の値を<span class="bcp14" data-dl-uid="1635" data-dl-original="true" data-dl-translated="true">設定してもよい（MAY）</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-14-4.3" class="pilcrow" data-dl-uid="1636" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-14-5" data-dl-uid="1637" data-dl-original="true" data-dl-translated="true">ECN（Explicit Congestion Notification）フィールド<span data-dl-uid="1638" data-dl-original="true" data-dl-translated="true">［<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC3168" class="xref" data-dl-uid="1639" data-dl-original="true" data-dl-translated="true">RFC3168</a></span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-14-5" class="pilcrow" data-dl-uid="1640" data-dl-original="true" data-dl-translated="true">］¶。</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-14-6.1" data-dl-uid="1641" data-dl-original="true" data-dl-translated="true">好ましい動作。サーバーはアクティブキュー管理を行うかもしれない。 その場合、ECNを意識したルーター<span data-dl-uid="1643" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC3168" class="xref" data-dl-uid="1644" data-dl-original="true" data-dl-translated="true">RFC3168</a></span>]として動作<span class="bcp14" data-dl-uid="1642" data-dl-original="true" data-dl-translated="true">すべきであり</span>、パケットをドロップする代わりにトラフィックを輻輳経験あり(CE)とマークできる。ECT(1)の使用は、実験的な使用法<span data-dl-uid="1645" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8311" class="xref" data-dl-uid="1646" data-dl-original="true" data-dl-translated="true">RFC8311</a></span>]に従うものとする<a href="https://www.rfc-editor.org/rfc/rfc8656#section-14-6.1" class="pilcrow" data-dl-uid="1647" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-14-6.2" data-dl-uid="1648" data-dl-original="true" data-dl-translated="true">代替の動作です。発信値をNot-ECT（=0b00）に設定する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-14-6.2" class="pilcrow" data-dl-uid="1649" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-14-7" data-dl-uid="1650" data-dl-original="true" data-dl-translated="true">IPv4フラグメンテーションフィールド（IPv4-to-IPv4リレーの場合のみ適用<a href="https://www.rfc-editor.org/rfc/rfc8656#section-14-7" class="pilcrow" data-dl-uid="1651" data-dl-original="true" data-dl-translated="true">）¶。</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-14-8.1" data-dl-uid="1652" data-dl-original="true" data-dl-translated="true">好ましい動作サーバーがDONT-FRAGMENT属性を含むSend指示に応答してパケットをピアに送信する場合、送信UDPパケットをフラグメントしないように設定する。他のすべてのケースでは、アプリケーションデータを含む送信パケット（例えば、Data指示、ChannelDataメッセージ、またはSend指示に含まれないDONT-FRAGMENT属性）を送信するとき、アプリケーションデータを含む受信パケットのDFビットからDFビットをコピーします<a href="https://www.rfc-editor.org/rfc/rfc8656#section-14-8.1" class="pilcrow" data-dl-uid="1653" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li class="ulEmpty" id="section-14-8.2" data-dl-uid="1654" data-dl-original="true" data-dl-translated="true">その他のフラグメントフィールド（Identification、More Fragments、Fragment Offset）は、サーバーから発信されるパケットに合わせて適宜設定します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-14-8.2" class="pilcrow" data-dl-uid="1655" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-14-8.3" data-dl-uid="1656" data-dl-original="true" data-dl-translated="true">代替の動作です。好ましい動作に記載されている通り、ただし、常に着信DFビットが0であると仮定する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-14-8.3" class="pilcrow" data-dl-uid="1657" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-14-8.4" data-dl-uid="1658" data-dl-original="true" data-dl-translated="true">Preferred BehaviorとAlternate Behaviorの両方において、結果のパケットは送信リンクに対して大きすぎるかもしれない。その場合は、通常のフラグメント規則が適用される<span data-dl-uid="1659" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC1122" class="xref" data-dl-uid="1660" data-dl-original="true" data-dl-translated="true">RFC1122</a>]</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-14-8.4" class="pilcrow" data-dl-uid="1661" data-dl-original="true" data-dl-translated="true">.¶。</a></li>
</ul>
<p id="section-14-9" data-dl-uid="1662" data-dl-original="true" data-dl-translated="true">IPv4オプション<a href="https://www.rfc-editor.org/rfc/rfc8656#section-14-9" class="pilcrow" data-dl-uid="1663" data-dl-original="true" data-dl-translated="true">¶の</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-14-10.1" data-dl-uid="1664" data-dl-original="true" data-dl-translated="true">好ましい動作。送信パケットは、IPv4オプションのシステムデフォルトを使用します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-14-10.1" class="pilcrow" data-dl-uid="1665" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li class="ulEmpty" id="section-14-10.2" data-dl-uid="1666" data-dl-original="true" data-dl-translated="true">代替の行動。優先と同じ<a href="https://www.rfc-editor.org/rfc/rfc8656#section-14-10.2" class="pilcrow" data-dl-uid="1667" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
</section>
</div>
<div id="sec-ip-header-fields-tcp-udp">
<section id="section-15">
      <h2 id="name-tcp-to-udp-relay" data-dl-uid="1668" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-15" class="section-number selfRef" data-dl-uid="1669" data-dl-original="true" data-dl-translated="true">15. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-tcp-to-udp-relay" class="section-name selfRef" data-dl-uid="1670" data-dl-original="true" data-dl-translated="true">TCP-UDPリレー</a>     </h2>
<p id="section-15-1" data-dl-uid="1671" data-dl-original="true" data-dl-translated="true">本節では、クライアントからピアへのTCP-to-UDP中継において、サーバーがIPヘッダーの各種フィールドを設定する方法について説明します。本節の説明は、サーバーがピアにUDPデータグラムを送信するときに適用されます。なお、サーバーはTCP-to-UDPリレーのパケット単位での変換は行いません<a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-1" class="pilcrow" data-dl-uid="1672" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-15-2" data-dl-uid="1673" data-dl-original="true" data-dl-translated="true">マルチパスTCP<span data-dl-uid="1674" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#I-D.ietf-mptcp-rfc6824bis" class="xref" data-dl-uid="1675" data-dl-original="true" data-dl-translated="true">TCP-EXT</a>]</span>は、このバージョンのTURNではサポートされていない。なぜなら、TCPマルチパスは、メディアと非メディアデータのためのSIPまたはWebRTCプロトコル<span data-dl-uid="1676" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7478" class="xref" data-dl-uid="1677" data-dl-original="true" data-dl-translated="true">RFC7478</a>]</span>のいずれでも使用されないからである。TURNクライアントとサーバー間のTCP接続は、TCP認証オプション（TCP-AO）<span data-dl-uid="1678" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC5925" class="xref" data-dl-uid="1679" data-dl-original="true" data-dl-translated="true">RFC5925</a>]</span>を使用できるが、UDPは将来的に追加されるかもしれないが、同様のタイプの認証を提供しない<span data-dl-uid="1680" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#I-D.ietf-tsvwg-udp-options" class="xref" data-dl-uid="1681" data-dl-original="true" data-dl-translated="true">UDP-OPT</a>]</span>。TURNクライアントとサーバー間でTCP-AOとUDPの両方の認証が使用されるとしても、中継されるアプリケーションペイロードのエンドツーエンドのセキュリティ特性を変更することはないだろう。したがって、TURNを使用するアプリケーションは、RTPアプリケーションのSRTP (Secure Real-time Transport Protocol)など、アプリケーションデータのエンドツーエンドを適切に保護する必要がある。TCP-AOオプションは、TCP MD5オプションを廃止したことに注意すること<a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-2" class="pilcrow" data-dl-uid="1682" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-15-3" data-dl-uid="1683" data-dl-original="true" data-dl-translated="true">UDPとは異なり、TCP Fast Open拡張<span data-dl-uid="1684" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7413" class="xref" data-dl-uid="1685" data-dl-original="true" data-dl-translated="true">RFC7413</a>]</span>のないTCPは、0-RTTセッション再開をサポートしない。TURNによってリレーされるアプリケーションデータのTCPユーザータイムアウト<span data-dl-uid="1686" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC5482" class="xref" data-dl-uid="1687" data-dl-original="true" data-dl-translated="true">RFC5482</a>]</span>に相当するのは、RTP制御プロトコル(RTCP)を使用することである。注意点として、RTCPはRTPの基本的かつ不可欠な部分である<a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-3" class="pilcrow" data-dl-uid="1688" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-15-4" data-dl-uid="1689" data-dl-original="true" data-dl-translated="true">以下の記述には、好ましい動作と代替動作の2つの部分がある。サーバーは好ましい動作を実装<span class="bcp14" data-dl-uid="1690" data-dl-original="true" data-dl-translated="true">すべきですが</span>、特定のフィールドでそれが不可能な場合は、代替動作を実装<span class="bcp14" data-dl-uid="1691" data-dl-original="true" data-dl-translated="true">すべきで</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-4" class="pilcrow" data-dl-uid="1692" data-dl-original="true" data-dl-translated="true">す</a>(<span data-dl-uid="1691" data-dl-translated="true">SHOULD</span>)。</p>
<p id="section-15-5" data-dl-uid="1693" data-dl-original="true" data-dl-translated="true">TCPトランスポートでTURNサーバーに到着したSend IndicationまたはChannelDataメッセージに基づいてピアに送信されるUDPデータグラムについて、サーバーはIPヘッダーの様々なフィールドを以下のように設定する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-5" class="pilcrow" data-dl-uid="1694" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-15-6" data-dl-uid="1695" data-dl-original="true" data-dl-translated="true">DSCP（Differentiated Services Code Point）フィールド<span data-dl-uid="1696" data-dl-original="true" data-dl-translated="true">［<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC2474" class="xref" data-dl-uid="1697" data-dl-original="true" data-dl-translated="true">RFC2474</a></span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-6" class="pilcrow" data-dl-uid="1698" data-dl-original="true" data-dl-translated="true">］¶。</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-15-7.1" data-dl-uid="1699" data-dl-original="true" data-dl-translated="true">好ましい動作。TCP接続は単一のDSCPしか使用できないため、フロー間の差別化は不可能である<span data-dl-uid="1700" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7657" class="xref" data-dl-uid="1702" data-dl-original="true" data-dl-translated="true">RFC7657</a>]の<a href="https://www.rfc-editor.org/rfc/rfc7657#section-5.1" class="relref" data-dl-uid="1701" data-dl-original="true" data-dl-translated="true">セクション5.1</a></span>参照。サーバーが差別化サービス分類器とマーカー<span data-dl-uid="1703" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC2474" class="xref" data-dl-uid="1704" data-dl-original="true" data-dl-translated="true">RFC2474</a>]</span>を含まない限り、サーバーは発信値をTCP接続で使用されるDSCPに設定する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-7.1" class="pilcrow" data-dl-uid="1705" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li class="ulEmpty" id="section-15-7.2" data-dl-uid="1706" data-dl-original="true" data-dl-translated="true">代替の動作です。発信値を固定値に設定する。デフォルトでは、特に設定しない限り、ベストエフォートとなる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-7.2" class="pilcrow" data-dl-uid="1707" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-15-7.3" data-dl-uid="1708" data-dl-original="true" data-dl-translated="true">いずれの場合も、サーバーが差別化サービス分類器とマーカーにすぐ隣接している場合、DSCPは分類器に向かう方向に任意の値を<span class="bcp14" data-dl-uid="1709" data-dl-original="true" data-dl-translated="true">設定してもよい（MAY）</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-7.3" class="pilcrow" data-dl-uid="1710" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-15-8" data-dl-uid="1711" data-dl-original="true" data-dl-translated="true">ECN（Explicit Congestion Notification）フィールド<span data-dl-uid="1712" data-dl-original="true" data-dl-translated="true">［<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC3168" class="xref" data-dl-uid="1713" data-dl-original="true" data-dl-translated="true">RFC3168</a></span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-8" class="pilcrow" data-dl-uid="1714" data-dl-original="true" data-dl-translated="true">］¶。</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-15-9.1" data-dl-uid="1715" data-dl-original="true" data-dl-translated="true">好ましい動作。望ましい動作：割り当ての送信UDPデータグラムにどのようなECN値を使用すべきかを示すメカニズムは定義されていないため、送信値をNot-ECT（=0b00）に設定します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-9.1" class="pilcrow" data-dl-uid="1716" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-15-9.2" data-dl-uid="1717" data-dl-original="true" data-dl-translated="true">代替の行動。優先と同じ<a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-9.2" class="pilcrow" data-dl-uid="1718" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-15-10" data-dl-uid="1719" data-dl-original="true" data-dl-translated="true">IPv4フラグメンテーションフィールド（IPv4-to-IPv4リレーの場合のみ適用<a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-10" class="pilcrow" data-dl-uid="1720" data-dl-original="true" data-dl-translated="true">）¶。</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-15-11.1" data-dl-uid="1721" data-dl-original="true" data-dl-translated="true">好ましい動作DONT-FRAGMENT属性を含むSend指示に応答してサーバーがピアにパケットを送信する場合、送信UDPパケットをフラグメントしないように設定する。それ以外の場合、アプリケーションデータ（Data指示、ChannelDataメッセージ、Send指示に含まれないDONT-FRAGMENT属性など）を含む送信UDPパケットを送信するときは、送信IPヘッダーのDFビットを0に設定します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-11.1" class="pilcrow" data-dl-uid="1722" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-15-11.2" data-dl-uid="1723" data-dl-original="true" data-dl-translated="true">代替の行動。優先と同じ<a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-11.2" class="pilcrow" data-dl-uid="1724" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-15-12" data-dl-uid="1725" data-dl-original="true" data-dl-translated="true">IPv6フラグメンテーションのフィールド<a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-12" class="pilcrow" data-dl-uid="1726" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-15-13.1" data-dl-uid="1727" data-dl-original="true" data-dl-translated="true">好ましい動作。TCPトラフィックがIPv6で到着した場合、サーバーは送信指示のDONT-FRAGMENT属性の存在に依存して、送信UDPパケットをフラグメントしないように設定します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-13.1" class="pilcrow" data-dl-uid="1728" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li class="ulEmpty" id="section-15-13.2" data-dl-uid="1729" data-dl-original="true" data-dl-translated="true">代替の行動。優先と同じ<a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-13.2" class="pilcrow" data-dl-uid="1730" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-15-14" data-dl-uid="1731" data-dl-original="true" data-dl-translated="true">IPv4オプション<a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-14" class="pilcrow" data-dl-uid="1732" data-dl-original="true" data-dl-translated="true">¶の</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-15-15.1" data-dl-uid="1733" data-dl-original="true" data-dl-translated="true">好ましい動作です。送信パケットは、IPv4オプションのシステムデフォルトを使用します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-15.1" class="pilcrow" data-dl-uid="1734" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li class="ulEmpty" id="section-15-15.2" data-dl-uid="1735" data-dl-original="true" data-dl-translated="true">代替の行動。優先と同じ<a href="https://www.rfc-editor.org/rfc/rfc8656#section-15-15.2" class="pilcrow" data-dl-uid="1736" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
</section>
</div>
<div id="UDP-to-TCP">
<section id="section-16">
      <h2 id="name-udp-to-tcp-relay" data-dl-uid="1737" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-16" class="section-number selfRef" data-dl-uid="1738" data-dl-original="true" data-dl-translated="true">16. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-udp-to-tcp-relay" class="section-name selfRef" data-dl-uid="1739" data-dl-original="true" data-dl-translated="true">UDP-to-TCP リレー</a>     </h2>
<p id="section-16-1" data-dl-uid="1740" data-dl-original="true" data-dl-translated="true">このセクションでは、サーバーがピアからクライアントへのUDP-to-TCPリレーのために、IPヘッダーの様々なフィールドを設定する方法について説明します。このセクションの説明は、サーバーがTCPまたはTLSトランスポートでクライアントにData指示またはChannelDataメッセージを送信するときに適用されます。サーバーはUDP-to-TCP中継のためにパケット単位の変換を行わないことに注意してください<a href="https://www.rfc-editor.org/rfc/rfc8656#section-16-1" class="pilcrow" data-dl-uid="1741" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-16-2" data-dl-uid="1742" data-dl-original="true" data-dl-translated="true">以下の記述には、好ましい動作と代替動作の2つの部分がある。サーバーは好ましい動作を実装<span class="bcp14" data-dl-uid="1743" data-dl-original="true" data-dl-translated="true">すべきですが</span>、特定のフィールドでそれが不可能な場合は、代替動作を実装<span class="bcp14" data-dl-uid="1744" data-dl-original="true" data-dl-translated="true">すべきで</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-16-2" class="pilcrow" data-dl-uid="1745" data-dl-original="true" data-dl-translated="true">す</a>(<span data-dl-uid="1744" data-dl-translated="true">SHOULD</span>)。</p>
<p id="section-16-3" data-dl-uid="1746" data-dl-original="true" data-dl-translated="true">TURNサーバーは、TCPパケット内のIPヘッダーフィールドを、TCP接続ごとに以下のように設定します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-16-3" class="pilcrow" data-dl-uid="1747" data-dl-original="true" data-dl-translated="true">：</a>¶。</p>
<p id="section-16-4" data-dl-uid="1748" data-dl-original="true" data-dl-translated="true">DSCP（Differentiated Services Code Point）フィールド<span data-dl-uid="1749" data-dl-original="true" data-dl-translated="true">［<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC2474" class="xref" data-dl-uid="1750" data-dl-original="true" data-dl-translated="true">RFC2474</a></span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-16-4" class="pilcrow" data-dl-uid="1751" data-dl-original="true" data-dl-translated="true">］¶。</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-16-5.1" data-dl-uid="1752" data-dl-original="true" data-dl-translated="true">好ましい動作です。受信するDSCP値を無視する。クライアントとサーバー間でTCPが使用されている場合、そのTCP接続上のすべてのトラフィックに単一のDSCPを使用する必要があります。注意：TURN/ICEは、アプリケーションデータが交換される前に発生します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-16-5.1" class="pilcrow" data-dl-uid="1753" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-16-5.2" data-dl-uid="1754" data-dl-original="true" data-dl-translated="true">代替の行動。優先と同じ<a href="https://www.rfc-editor.org/rfc/rfc8656#section-16-5.2" class="pilcrow" data-dl-uid="1755" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-16-6" data-dl-uid="1756" data-dl-original="true" data-dl-translated="true">ECN（Explicit Congestion Notification）フィールド<span data-dl-uid="1757" data-dl-original="true" data-dl-translated="true">［<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC3168" class="xref" data-dl-uid="1758" data-dl-original="true" data-dl-translated="true">RFC3168</a></span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-16-6" class="pilcrow" data-dl-uid="1759" data-dl-original="true" data-dl-translated="true">］¶。</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-16-7.1" data-dl-uid="1760" data-dl-original="true" data-dl-translated="true">好ましい動作無視する。TURNサーバーでは、ピアからの着信UDPデータグラムに対して、ECNシグナルがドロップされる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-16-7.1" class="pilcrow" data-dl-uid="1761" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li class="ulEmpty" id="section-16-7.2" data-dl-uid="1762" data-dl-original="true" data-dl-translated="true">代替の行動。優先と同じ<a href="https://www.rfc-editor.org/rfc/rfc8656#section-16-7.2" class="pilcrow" data-dl-uid="1763" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-16-8" data-dl-uid="1764" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#section-16-8" class="pilcrow" data-dl-uid="1765" data-dl-original="true" data-dl-translated="true">フラグメンテーション</a>¶を</p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-16-9.1" data-dl-uid="1766" data-dl-original="true" data-dl-translated="true">好ましい動作です。ピアに送信されたUDPデータグラムに起因するICMPメッセージは、<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-sending-senderror-indication" class="xref" data-dl-uid="1767" data-dl-original="true" data-dl-translated="true">セクション11.5の</a>説明に従ってサーバーで処理され、関連するICMPタイプおよびコードに対するTURNのメカニズムを使用してクライアントに転送されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-16-9.1" class="pilcrow" data-dl-uid="1768" data-dl-original="true" data-dl-translated="true">。</a></li>
<li class="ulEmpty" id="section-16-9.2" data-dl-uid="1769" data-dl-original="true" data-dl-translated="true">代替の行動。優先と同じ<a href="https://www.rfc-editor.org/rfc/rfc8656#section-16-9.2" class="pilcrow" data-dl-uid="1770" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-16-10" data-dl-uid="1771" data-dl-original="true" data-dl-translated="true">拡張<a href="https://www.rfc-editor.org/rfc/rfc8656#section-16-10" class="pilcrow" data-dl-uid="1772" data-dl-original="true" data-dl-translated="true">ヘッダー</a>¶を</p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-16-11.1" data-dl-uid="1773" data-dl-original="true" data-dl-translated="true">好ましい動作です。送信パケットは、IPv6拡張ヘッダーのシステムデフォルトを使用します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-16-11.1" class="pilcrow" data-dl-uid="1774" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li class="ulEmpty" id="section-16-11.2" data-dl-uid="1775" data-dl-original="true" data-dl-translated="true">代替の行動。優先と同じ<a href="https://www.rfc-editor.org/rfc/rfc8656#section-16-11.2" class="pilcrow" data-dl-uid="1776" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
<p id="section-16-12" data-dl-uid="1777" data-dl-original="true" data-dl-translated="true">IPv4オプション<a href="https://www.rfc-editor.org/rfc/rfc8656#section-16-12" class="pilcrow" data-dl-uid="1778" data-dl-original="true" data-dl-translated="true">¶の</a></p>
<ul class="ulEmpty">
<li class="ulEmpty" id="section-16-13.1" data-dl-uid="1779" data-dl-original="true" data-dl-translated="true">好ましい動作です。送信パケットは、IPv4オプションのシステムデフォルトを使用します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-16-13.1" class="pilcrow" data-dl-uid="1780" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li class="ulEmpty" id="section-16-13.2" data-dl-uid="1781" data-dl-original="true" data-dl-translated="true">代替の行動。優先と同じ<a href="https://www.rfc-editor.org/rfc/rfc8656#section-16-13.2" class="pilcrow" data-dl-uid="1782" data-dl-original="true" data-dl-translated="true">¶。</a></li>
</ul>
</section>
</div>
<div id="sec-stun-methods">
<section id="section-17">
      <h2 id="name-stun-methods" data-dl-uid="1783" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-17" class="section-number selfRef" data-dl-uid="1784" data-dl-original="true" data-dl-translated="true">17. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-stun-methods" class="section-name selfRef" data-dl-uid="1785" data-dl-original="true" data-dl-translated="true">STUNメソッド</a>     </h2>
<p id="section-17-1" data-dl-uid="1786" data-dl-original="true" data-dl-translated="true">本節では、本仕様で定義されたSTUNメソッドのコードポイントを列挙する。これらのメソッドのセマンティクスについては、本書の他の箇所を参照してください<a href="https://www.rfc-editor.org/rfc/rfc8656#section-17-1" class="pilcrow" data-dl-uid="1787" data-dl-original="true" data-dl-translated="true">。</a></p>
<div id="stun-methods">
<table class="center" id="table-4">
        <caption data-dl-uid="1788" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#table-4" class="selfRef" data-dl-uid="1789" data-dl-original="true" data-dl-translated="true">表4</a></caption>
<tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1790" data-dl-original="true" data-dl-translated="true">0x003</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1791" data-dl-original="true" data-dl-translated="true">アロケート</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1792" data-dl-original="true" data-dl-translated="true">(リクエスト/レスポンスセマンティクスのみ定義)</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1793" data-dl-original="true" data-dl-translated="true">0x004</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1794" data-dl-original="true" data-dl-translated="true">リフレッシュ</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1795" data-dl-original="true" data-dl-translated="true">(リクエスト/レスポンスセマンティクスのみ定義)</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1796" data-dl-original="true" data-dl-translated="true">0x006</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1797" data-dl-original="true" data-dl-translated="true">送信</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1798" data-dl-original="true" data-dl-translated="true">(表示セマンティクスのみ定義)</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1799" data-dl-original="true" data-dl-translated="true">0x007</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1800" data-dl-original="true" data-dl-translated="true">データ</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1801" data-dl-original="true" data-dl-translated="true">(表示セマンティクスのみ定義)</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1802" data-dl-original="true" data-dl-translated="true">0x008</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1803" data-dl-original="true" data-dl-translated="true">CreatePermission（クリエイトパーミッション</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1804" data-dl-original="true" data-dl-translated="true">(リクエスト/レスポンスセマンティクスのみ定義)</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1805" data-dl-original="true" data-dl-translated="true">0x009</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1806" data-dl-original="true" data-dl-translated="true">チャネルバインド</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1807" data-dl-original="true" data-dl-translated="true">(リクエスト/レスポンスセマンティクスのみ定義)</td>
          </tr>
        </tbody>
      </table>
</div>
</section>
</div>
<div id="sec-stun-attributes">
<section id="section-18">
      <h2 id="name-stun-attributes" data-dl-uid="1808" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18" class="section-number selfRef" data-dl-uid="1809" data-dl-original="true" data-dl-translated="true">18. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-stun-attributes" class="section-name selfRef" data-dl-uid="1810" data-dl-original="true" data-dl-translated="true">STUN 属性</a>     </h2>
<p id="section-18-1" data-dl-uid="1811" data-dl-original="true" data-dl-translated="true">このSTUN拡張は、以下の属性を定義します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18-1" class="pilcrow" data-dl-uid="1812" data-dl-original="true" data-dl-translated="true">。</a></p>
<div id="stun-attributes">
<table class="center" id="table-5">
        <caption data-dl-uid="1813" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#table-5" class="selfRef" data-dl-uid="1814" data-dl-original="true" data-dl-translated="true">表5</a></caption>
<tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1815" data-dl-original="true" data-dl-translated="true">0x000C</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1816" data-dl-original="true" data-dl-translated="true">チャンネル・ナンバ</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1817" data-dl-original="true" data-dl-translated="true">0x000D</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1818" data-dl-original="true" data-dl-translated="true">ライフタイム</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1819" data-dl-original="true" data-dl-translated="true">0x0010</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1820" data-dl-original="true" data-dl-translated="true">予約（BANDWIDTHでした）</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1821" data-dl-original="true" data-dl-translated="true">0x0012</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1822" data-dl-original="true" data-dl-translated="true">エックスオアピアアドレス</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1823" data-dl-original="true" data-dl-translated="true">0x0013</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1824" data-dl-original="true" data-dl-translated="true">DATA</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1825" data-dl-original="true" data-dl-translated="true">0x0016</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1826" data-dl-original="true" data-dl-translated="true">xor-relayed-address</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1827" data-dl-original="true" data-dl-translated="true">0x0017</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1828" data-dl-original="true" data-dl-translated="true">要求アドレス-ファミリ</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1829" data-dl-original="true" data-dl-translated="true">0x0018</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1830" data-dl-original="true" data-dl-translated="true">イーブンポート</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1831" data-dl-original="true" data-dl-translated="true">0x0019</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1832" data-dl-original="true" data-dl-translated="true">要求されたトランスポート</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1833" data-dl-original="true" data-dl-translated="true">0x001A</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1834" data-dl-original="true" data-dl-translated="true">DONT-FRAGMENT</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1835" data-dl-original="true" data-dl-translated="true">0x0021</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1836" data-dl-original="true" data-dl-translated="true">予約（TIMER-VALでした。）</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1837" data-dl-original="true" data-dl-translated="true">0x0022</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1838" data-dl-original="true" data-dl-translated="true">予約トークン</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1839" data-dl-original="true" data-dl-translated="true">0x8000</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1840" data-dl-original="true" data-dl-translated="true">アドバンストアドレスファミリー</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1841" data-dl-original="true" data-dl-translated="true">0x8001</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1842" data-dl-original="true" data-dl-translated="true">アドレスエラーコード</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1843" data-dl-original="true" data-dl-translated="true">0x8004</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="1844" data-dl-original="true" data-dl-translated="true">アイシーエムピー</td>
          </tr>
        </tbody>
      </table>
</div>
<p id="section-18-3" data-dl-uid="1845" data-dl-original="true" data-dl-translated="true">STUNのルールでは、長さが4の倍数でない属性は、次の属性（もしあれば）が4バイトの境界で始まるように、すぐに1～3パディングバイトが<span class="bcp14" data-dl-uid="1846" data-dl-original="true" data-dl-translated="true">続かなければなりません（</span> <span data-dl-uid="1847" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="1848" data-dl-original="true" data-dl-translated="true">RFC8489</a>]</span>を参照<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18-3" class="pilcrow" data-dl-uid="1849" data-dl-original="true" data-dl-translated="true">）。¶。</a></p>
<div id="channelnums">
<section id="section-18.1">
        <h3 id="name-channel-number" data-dl-uid="1850" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.1" class="section-number selfRef" data-dl-uid="1851" data-dl-original="true" data-dl-translated="true">18.1. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-channel-number" class="section-name selfRef" data-dl-uid="1852" data-dl-original="true" data-dl-translated="true">CHANNEL-NUMBER</a>       </h3>
<p id="section-18.1-1" data-dl-uid="1853" data-dl-original="true" data-dl-translated="true">CHANNEL-NUMBER属性は、チャンネルの番号を含んでいます。 この属性の値部分は4バイト長で、16ビット符号なし整数の後に2オクテットのRFFU（将来使用のための予約）フィールドで構成され、送信時には0に設定<span class="bcp14" data-dl-uid="1854" data-dl-original="true" data-dl-translated="true">しなければならず</span>、受信時には無視<span class="bcp14" data-dl-uid="1855" data-dl-original="true" data-dl-translated="true">しなければなりません</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.1-1" class="pilcrow" data-dl-uid="1856" data-dl-original="true" data-dl-translated="true">。</a></p>
<figure id="figure-6">
          <div class="artwork art-text alignLeft" id="section-18.1-2.1">
<pre data-dl-uid="1857" data-dl-original="true" data-dl-translated="true">0 1 2 3 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        Channel Number         |         RFFU = 0              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption data-dl-uid="1858" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-6" class="selfRef" data-dl-uid="1859" data-dl-original="true" data-dl-translated="true">図6</a></figcaption></figure>
</section>
</div>
<section id="section-18.2">
        <h3 id="name-lifetime" data-dl-uid="1860" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.2" class="section-number selfRef" data-dl-uid="1861" data-dl-original="true" data-dl-translated="true">18.2. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-lifetime" class="section-name selfRef" data-dl-uid="1862" data-dl-original="true" data-dl-translated="true">ライフタイム</a>       </h3>
<p id="section-18.2-1" data-dl-uid="1863" data-dl-original="true" data-dl-translated="true">LIFETIME属性は、リフレッシュがない場合にサーバーが割り当てを維持する期間を表します。TURNクライアントは、AllocateとRefreshリクエストに、希望するライフタイムを持つLIFETIME属性を含めることができる。この属性の値部分は4バイトで、期限切れまでの残り秒数を表す32ビットの符号なし整数値で構成されています<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.2-1" class="pilcrow" data-dl-uid="1864" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<section id="section-18.3">
        <h3 id="name-xor-peer-address" data-dl-uid="1865" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.3" class="section-number selfRef" data-dl-uid="1866" data-dl-original="true" data-dl-translated="true">18.3. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-xor-peer-address" class="section-name selfRef" data-dl-uid="1867" data-dl-original="true" data-dl-translated="true">xor-ピア-アドレス</a>       </h3>
<p id="section-18.3-1" data-dl-uid="1868" data-dl-original="true" data-dl-translated="true">XOR-PEER-ADDRESS属性は、TURNサーバーから見たピアのアドレスとポートを指定します。(例えば、ピアがNATの後ろにいる場合は、ピアのサーバー反射型トランスポートアドレス)。これは、XOR-MAPPED-ADDRESS属性<span data-dl-uid="1869" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="1870" data-dl-original="true" data-dl-translated="true">RFC8489</a></span>]と同じ方法で符号化されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.3-1" class="pilcrow" data-dl-uid="1871" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<section id="section-18.4">
        <h3 id="name-data" data-dl-uid="1872" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.4" class="section-number selfRef" data-dl-uid="1873" data-dl-original="true" data-dl-translated="true">18.4. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-data" class="section-name selfRef" data-dl-uid="1874" data-dl-original="true" data-dl-translated="true">DATA</a>   </h3>
<p id="section-18.4-1" data-dl-uid="1875" data-dl-original="true" data-dl-translated="true">DATA属性は、すべてのSend指示において存在する。DATA表示にICMP属性が存在しない場合、DATA属性が含まれる。この属性の値部分は可変長で，アプリケーションデータ（すなわち，データがクライアントと相手との間で直接送信された場合に，UDPヘッダの直後に続くデータ）からなる。アプリケーションデータは "UDPユーザデータ "に相当し，<span data-dl-uid="1876" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#I-D.ietf-tsvwg-udp-options" class="xref" data-dl-uid="1878" data-dl-original="true" data-dl-translated="true">UDP-OPT</a>]</span>の<span data-dl-uid="1876" data-dl-translated="true"><a data-dl-uid="1877" data-dl-translated="true">セクション4で</a></span>定義される "剰余領域 "は含まれない。この属性の長さが4の倍数でない場合は、この属性の後にパディングを追加する必要があります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.4-1" class="pilcrow" data-dl-uid="1879" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
<section id="section-18.5">
        <h3 id="name-xor-relayed-address" data-dl-uid="1880" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.5" class="section-number selfRef" data-dl-uid="1881" data-dl-original="true" data-dl-translated="true">18.5. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-xor-relayed-address" class="section-name selfRef" data-dl-uid="1882" data-dl-original="true" data-dl-translated="true">xor-relayed-address（エックスオーリレイドアドレス</a>       </h3>
<p id="section-18.5-1" data-dl-uid="1883" data-dl-original="true" data-dl-translated="true">XOR-RELAYED-ADDRESS属性は、Allocateレスポンスに存在する。これは、サーバーがクライアントに割り当てたアドレスとポートを指定します。XOR-MAPPED-ADDRESS属性<span data-dl-uid="1884" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="1885" data-dl-original="true" data-dl-translated="true">RFC8489</a></span>]と同じ方法で符号化されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.5-1" class="pilcrow" data-dl-uid="1886" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<div id="sec-requested-address-family">
<section id="section-18.6">
        <h3 id="name-requested-address-family" data-dl-uid="1887" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.6" class="section-number selfRef" data-dl-uid="1888" data-dl-original="true" data-dl-translated="true">18.6. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-requested-address-family" class="section-name selfRef" data-dl-uid="1889" data-dl-original="true" data-dl-translated="true">リクエストアドレスファミリ</a>       </h3>
<p id="section-18.6-1" data-dl-uid="1890" data-dl-original="true" data-dl-translated="true">この属性は、Allocate および Refresh 要求で、クライアントが要求するアドレスタイプを指定するために使用される。この属性の値は4バイトであり、以下のフォーマットで<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.6-1" class="pilcrow" data-dl-uid="1891" data-dl-original="true" data-dl-translated="true">ある。</a></p>
<figure id="figure-7">
          <div class="artwork art-text alignLeft" id="section-18.6-2.1">
<pre data-dl-uid="1892" data-dl-original="true" data-dl-translated="true">0 1 2 3 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Family    |            Reserved                           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption data-dl-uid="1893" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-7" class="selfRef" data-dl-uid="1894" data-dl-original="true" data-dl-translated="true">図7</a></figcaption></figure>
<dl class="dlParallel" id="section-18.6-3">
          <dt id="section-18.6-3.1" data-dl-uid="1895" data-dl-original="true" data-dl-translated="true">家族です。</dt>
<dd id="section-18.6-3.2" data-dl-uid="1896" data-dl-original="true" data-dl-translated="true">このフィールドには2つの値が定義されており、<span data-dl-uid="1897" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="1899" data-dl-original="true" data-dl-translated="true">RFC8489</a>]の<a href="https://www.rfc-editor.org/rfc/rfc8489#section-14.1" class="relref" data-dl-uid="1898" data-dl-original="true" data-dl-translated="true">14.1節で</a></span>規定されている。IPv4アドレスの場合は0x01、IPv6アドレスの場合は0x02である<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.6-3.2" class="pilcrow" data-dl-uid="1900" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-18.6-3.3" data-dl-uid="1901" data-dl-original="true" data-dl-translated="true">予約済みです。</dt>
<dd id="section-18.6-3.4" data-dl-uid="1902" data-dl-original="true" data-dl-translated="true">この時点で、Reservedフィールドの24ビットは、クライアントによってゼロに設定さ<span class="bcp14" data-dl-uid="1903" data-dl-original="true" data-dl-translated="true">れなければならず</span>、サーバーによって無視さ<span class="bcp14" data-dl-uid="1904" data-dl-original="true" data-dl-translated="true">れなければならない（MUST</span>）<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.6-3.4" class="pilcrow" data-dl-uid="1905" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
</dl>
</section>
</div>
<section id="section-18.7">
        <h3 id="name-even-port" data-dl-uid="1906" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.7" class="section-number selfRef" data-dl-uid="1907" data-dl-original="true" data-dl-translated="true">18.7. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-even-port" class="section-name selfRef" data-dl-uid="1908" data-dl-original="true" data-dl-translated="true">イーブンポート</a>       </h3>
<p id="section-18.7-1" data-dl-uid="1909" data-dl-original="true" data-dl-translated="true">この属性により，クライアントは，中継トランスポートアドレスのポートが偶数であることを要求し，（オプションとして）サーバは次の上位のポート番号を予約することができる。この属性の値部分は1バイト長である。そのフォーマットは次の通りである<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.7-1" class="pilcrow" data-dl-uid="1910" data-dl-original="true" data-dl-translated="true">：</a>¶。</p>
<figure id="figure-8">
          <div class="artwork art-text alignLeft" id="section-18.7-2.1">
<pre data-dl-uid="1911" data-dl-original="true" data-dl-translated="true">   0 0 1 2 3 4 5 6 7 +-+-+-+-+-+-+-+-+-｜r| rffu｜+-+-+-+-+-+-+-+-+-+-+-+-</pre>
</div>
<figcaption data-dl-uid="1912" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-8" class="selfRef" data-dl-uid="1913" data-dl-original="true" data-dl-translated="true">図8</a></figcaption></figure>
<p id="section-18.7-3" data-dl-uid="1914" data-dl-original="true" data-dl-translated="true">値には1ビットのフラグが1つ含まれます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.7-3" class="pilcrow" data-dl-uid="1915" data-dl-original="true" data-dl-translated="true">：</a>¶。</p>
<dl class="dlParallel" id="section-18.7-4">
          <dt id="section-18.7-4.1" data-dl-uid="1916" data-dl-original="true" data-dl-translated="true">R:</dt>
<dd id="section-18.7-4.2" data-dl-uid="1917" data-dl-original="true" data-dl-translated="true">1 の場合、サーバーは次の割り当てのために、（同じ IP アドレスの）次の上位のポート番号を予約するよう要求されます。0 の場合、そのような予約は要求されません<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.7-4.2" class="pilcrow" data-dl-uid="1918" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-18.7-4.3" data-dl-uid="1919" data-dl-original="true" data-dl-translated="true">RFFUです。</dt>
<dd id="section-18.7-4.4" data-dl-uid="1920" data-dl-original="true" data-dl-translated="true">将来の使用のために予約する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.7-4.4" class="pilcrow" data-dl-uid="1921" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
</dl>
<p id="section-18.7-5" data-dl-uid="1922" data-dl-original="true" data-dl-translated="true">RFFUフィールドは、送信時にゼロに設定され、受信時には無視されなければならない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.7-5" class="pilcrow" data-dl-uid="1923" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-18.7-6" data-dl-uid="1924" data-dl-original="true" data-dl-translated="true">この属性の長さは4の倍数ではないので、パディングはこの属性のすぐ後にしなければなりません<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.7-6" class="pilcrow" data-dl-uid="1925" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<div id="sec-requested-transport">
<section id="section-18.8">
        <h3 id="name-requested-transport" data-dl-uid="1926" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.8" class="section-number selfRef" data-dl-uid="1927" data-dl-original="true" data-dl-translated="true">18.8. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-requested-transport" class="section-name selfRef" data-dl-uid="1928" data-dl-original="true" data-dl-translated="true">リクエストトランスポート</a>       </h3>
<p id="section-18.8-1" data-dl-uid="1929" data-dl-original="true" data-dl-translated="true">この属性は、クライアントが割り当てられたトランスポートアドレスに特定のトランスポートプロトコルを要求するために使用される。この属性の値は4バイトであり、以下のフォーマットで<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.8-1" class="pilcrow" data-dl-uid="1930" data-dl-original="true" data-dl-translated="true">ある。</a></p>
<figure id="figure-9">
          <div class="artwork art-text alignLeft" id="section-18.8-2.1">
<pre data-dl-uid="1931" data-dl-original="true" data-dl-translated="true">0 1 2 3 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    Protocol   |                    RFFU                       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption data-dl-uid="1932" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-9" class="selfRef" data-dl-uid="1933" data-dl-original="true" data-dl-translated="true">図9</a></figcaption></figure>
<p id="section-18.8-3" data-dl-uid="1934" data-dl-original="true" data-dl-translated="true">Protocolフィールドは、希望するプロトコルを指定する。このフィールドで使用されるコードポイントは、IPv4ヘッダーのProtocolフィールドとIPv6ヘッダーのNextHeaderフィールドで許可されているもの<span data-dl-uid="1935" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#PROTOCOL-NUMBERS" class="xref" data-dl-uid="1936" data-dl-original="true" data-dl-translated="true">PROTOCOL-NUMBERS</a></span>]を使用している。本仕様では、コードポイント17（User Datagram Protocol）のみを使用することができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.8-3" class="pilcrow" data-dl-uid="1937" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-18.8-4" data-dl-uid="1938" data-dl-original="true" data-dl-translated="true">RFFUフィールドは、送信時にはゼロに設定さ<span class="bcp14" data-dl-uid="1939" data-dl-original="true" data-dl-translated="true">れなければならず（MUST）</span>、受信時には無視さ<span class="bcp14" data-dl-uid="1940" data-dl-original="true" data-dl-translated="true">れなければならない（MUST</span>）。これは将来の使用のために予約されている<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.8-4" class="pilcrow" data-dl-uid="1941" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
</div>
<section id="section-18.9">
        <h3 id="name-dont-fragment" data-dl-uid="1942" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.9" class="section-number selfRef" data-dl-uid="1943" data-dl-original="true" data-dl-translated="true">18.9. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-dont-fragment" class="section-name selfRef" data-dl-uid="1944" data-dl-original="true" data-dl-translated="true">DONT-FRAGMENT</a>       </h3>
<p id="section-18.9-1" data-dl-uid="1945" data-dl-original="true" data-dl-translated="true">この属性は、クライアントがサーバーに対して、アプリケーションデータを相手に中継する際にIPヘッダーにDF（Don't Fragment）ビットを設定するよう要求したり、Allocateリクエストでサーバーの能力を決定するために使用される。この属性には値部がないため、属性長フィールドは0<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.9-1" class="pilcrow" data-dl-uid="1946" data-dl-original="true" data-dl-translated="true">.¶と</a>なる。</p>
</section>
<section id="section-18.10">
        <h3 id="name-reservation-token" data-dl-uid="1947" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.10" class="section-number selfRef" data-dl-uid="1948" data-dl-original="true" data-dl-translated="true">18.10. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-reservation-token" class="section-name selfRef" data-dl-uid="1949" data-dl-original="true" data-dl-translated="true">リザベーショントークン</a>       </h3>
<p id="section-18.10-1" data-dl-uid="1950" data-dl-original="true" data-dl-translated="true">RESERVATION-TOKEN属性は、サーバーが予約している中継トランスポートアドレスを一意に識別するトークンを含む。サーバーは成功応答でこの属性を含んでクライアントにトークンを伝え、クライアントはその後のAllocateリクエストでこの属性を含んでサーバーに割り当てにその中継トランスポートアドレスを使うよう要求する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.10-1" class="pilcrow" data-dl-uid="1951" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-18.10-2" data-dl-uid="1952" data-dl-original="true" data-dl-translated="true">属性値は8バイトで、トークン値を含む<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.10-2" class="pilcrow" data-dl-uid="1953" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<div id="sec-additional-address-family">
<section id="section-18.11">
        <h3 id="name-additional-address-family" data-dl-uid="1954" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.11" class="section-number selfRef" data-dl-uid="1955" data-dl-original="true" data-dl-translated="true">18.11. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-additional-address-family" class="section-name selfRef" data-dl-uid="1956" data-dl-original="true" data-dl-translated="true">アドバンストアドレスファミリ</a>       </h3>
<p id="section-18.11-1" data-dl-uid="1957" data-dl-original="true" data-dl-translated="true">この属性は、クライアントがサーバーにIPv4及びIPv6アドレスタイプの割り当てを要求するために使用される。REQUESTED-ADDRESS-FAMILY属性と同じように符号化されます。<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-requested-address-family" class="xref" data-dl-uid="1958" data-dl-original="true" data-dl-translated="true">18.6項</a>を参照してください。ADDITIONAL-ADDRESS-FAMILY属性は、Allocateリクエストに存在<span class="bcp14" data-dl-uid="1959" data-dl-original="true" data-dl-translated="true">してもよい（MAY</span>）。属性値0x02（IPv6アドレス）は、Allocateリクエストで唯一有効な値です<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.11-1" class="pilcrow" data-dl-uid="1960" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
</div>
<div id="sec-address-error-code">
<section id="section-18.12">
        <h3 id="name-address-error-code" data-dl-uid="1961" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.12" class="section-number selfRef" data-dl-uid="1962" data-dl-original="true" data-dl-translated="true">18.12. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-address-error-code" class="section-name selfRef" data-dl-uid="1963" data-dl-original="true" data-dl-translated="true">アドレスエラーコード</a>       </h3>
<p id="section-18.12-1" data-dl-uid="1964" data-dl-original="true" data-dl-translated="true">この属性は、要求されたアドレスファミリーを割り当てられなかった理由を知らせるために、サーバーが使用します。この属性の値部分は可変長であり、以下のフォーマットで記述します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.12-1" class="pilcrow" data-dl-uid="1965" data-dl-original="true" data-dl-translated="true">：</a>¶。</p>
<figure id="figure-10">
          <div class="artwork art-text alignLeft" id="section-18.12-2.1">
<pre data-dl-uid="1966" data-dl-original="true" data-dl-translated="true">    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Family       |    Reserved             |Class|     Number    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      Reason Phrase (variable)                                ..
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption data-dl-uid="1967" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-10" class="selfRef" data-dl-uid="1968" data-dl-original="true" data-dl-translated="true">図10</a></figcaption></figure>
<dl class="dlParallel" id="section-18.12-3">
          <dt id="section-18.12-3.1" data-dl-uid="1969" data-dl-original="true" data-dl-translated="true">家族です。</dt>
<dd id="section-18.12-3.2" data-dl-uid="1970" data-dl-original="true" data-dl-translated="true">このフィールドには2つの値が定義されており、<span data-dl-uid="1971" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="1973" data-dl-original="true" data-dl-translated="true">RFC8489</a>]の<a href="https://www.rfc-editor.org/rfc/rfc8489#section-14.1" class="relref" data-dl-uid="1972" data-dl-original="true" data-dl-translated="true">14.1節で</a></span>規定されている。IPv4アドレスの場合は0x01、IPv6アドレスの場合は0x02である<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.12-3.2" class="pilcrow" data-dl-uid="1974" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-18.12-3.3" data-dl-uid="1975" data-dl-original="true" data-dl-translated="true">予約済みです。</dt>
<dd id="section-18.12-3.4" data-dl-uid="1976" data-dl-original="true" data-dl-translated="true">この時点で、Reservedフィールドの13ビットは、サーバーによってゼロに設定さ<span class="bcp14" data-dl-uid="1977" data-dl-original="true" data-dl-translated="true">れなければならず</span>、クライアントによって無視さ<span class="bcp14" data-dl-uid="1978" data-dl-original="true" data-dl-translated="true">れなければならない（MUST</span>）<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.12-3.4" class="pilcrow" data-dl-uid="1979" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-18.12-3.5" data-dl-uid="1980" data-dl-original="true" data-dl-translated="true">クラスです。</dt>
<dd id="section-18.12-3.6" data-dl-uid="1981" data-dl-original="true" data-dl-translated="true">Classはエラーコードの百の位を表し、<span data-dl-uid="1982" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="1984" data-dl-original="true" data-dl-translated="true">RFC8489</a>]の<a href="https://www.rfc-editor.org/rfc/rfc8489#section-14.8" class="relref" data-dl-uid="1983" data-dl-original="true" data-dl-translated="true">14.8節で</a></span>定義されています<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.12-3.6" class="pilcrow" data-dl-uid="1985" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-18.12-3.7" data-dl-uid="1986" data-dl-original="true" data-dl-translated="true">番号です。</dt>
<dd id="section-18.12-3.8" data-dl-uid="1987" data-dl-original="true" data-dl-translated="true">この8ビットフィールドには、サーバーが要求されたアドレスタイプの1つを割り当てることができない理由が含まれています。エラーコードの値は、440（Address Family not Supported）または508（Insufficient Capacity）のいずれかである可能性がある。数値表現は<span data-dl-uid="1988" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="1990" data-dl-original="true" data-dl-translated="true">RFC8489</a>]</span>の<span data-dl-uid="1988" data-dl-translated="true"><a data-dl-uid="1989" data-dl-translated="true">セクション14.8で</a></span>定義されている<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.12-3.8" class="pilcrow" data-dl-uid="1991" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
<dt id="section-18.12-3.9" data-dl-uid="1992" data-dl-original="true" data-dl-translated="true">理由フレーズ。</dt>
<dd id="section-18.12-3.10" data-dl-uid="1993" data-dl-original="true" data-dl-translated="true">エラーコード440と508に対して推奨される理由フレーズは、<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-stun-errors" class="xref" data-dl-uid="1994" data-dl-original="true" data-dl-translated="true">セクション19で</a>説明されている。理由フレーズは、UTF-8<span data-dl-uid="1996" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC3629" class="xref" data-dl-uid="1997" data-dl-original="true" data-dl-translated="true">RFC3629</a>]</span>でエンコードされた128文字未満のシーケンス（エンコードする場合は509バイト、デコードする場合は763バイトまで可能）で<span class="bcp14" data-dl-uid="1995" data-dl-original="true" data-dl-translated="true">なければなりません（MUST</span>）<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.12-3.10" class="pilcrow" data-dl-uid="1998" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
</dl>
</section>
</div>
<div id="icmp">
<section id="section-18.13">
        <h3 id="name-icmp" data-dl-uid="1999" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.13" class="section-number selfRef" data-dl-uid="2000" data-dl-original="true" data-dl-translated="true">18.13. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-icmp" class="section-name selfRef" data-dl-uid="2001" data-dl-original="true" data-dl-translated="true">アイシーエムピー</a>       </h3>
<p id="section-18.13-1" data-dl-uid="2002" data-dl-original="true" data-dl-translated="true">この属性は、サーバーがUDPパケットがドロップされた理由を知らせるために使用されます。以下は、ICMP属性のフォーマットです<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.13-1" class="pilcrow" data-dl-uid="2003" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<figure id="figure-11">
          <div class="artwork art-text alignLeft" id="section-18.13-2.1">
<pre data-dl-uid="2004" data-dl-original="true" data-dl-translated="true">    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+- +- 予約｜ICMP タイプ｜ICMP コード｜ +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          Error Data                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption data-dl-uid="2005" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-11" class="selfRef" data-dl-uid="2006" data-dl-original="true" data-dl-translated="true">図11</a></figcaption></figure>
<dl class="dlParallel" id="section-18.13-3">
          <dt id="section-18.13-3.1" data-dl-uid="2007" data-dl-original="true" data-dl-translated="true">予約済みです。</dt>
<dd id="section-18.13-3.2" data-dl-uid="2008" data-dl-original="true" data-dl-translated="true">このフィールドは、送信時には0を設定<span class="bcp14" data-dl-uid="2009" data-dl-original="true" data-dl-translated="true">しなければならず</span>、受信時には無視さ<span class="bcp14" data-dl-uid="2010" data-dl-original="true" data-dl-translated="true">れなければならない（MUST</span>）<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.13-3.2" class="pilcrow" data-dl-uid="2011" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
<dt id="section-18.13-3.3" data-dl-uid="2012" data-dl-original="true" data-dl-translated="true">ICMPタイプです。</dt>
<dd id="section-18.13-3.4" data-dl-uid="2013" data-dl-original="true" data-dl-translated="true">このフィールドには、ICMP タイプの値が含まれる。その解釈は、ICMP が IPv4 と IPv6 のどちらで受信されたかに依存する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.13-3.4" class="pilcrow" data-dl-uid="2014" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
<dt id="section-18.13-3.5" data-dl-uid="2015" data-dl-original="true" data-dl-translated="true">ICMPコードです。</dt>
<dd id="section-18.13-3.6" data-dl-uid="2016" data-dl-original="true" data-dl-translated="true">このフィールドには、ICMP コードの値が含まれる。その解釈は、ICMP が IPv4 と IPv6 のどちらで受信されたかに依存します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.13-3.6" class="pilcrow" data-dl-uid="2017" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
<dt id="section-18.13-3.7" data-dl-uid="2018" data-dl-original="true" data-dl-translated="true">エラーデータです。</dt>
<dd id="section-18.13-3.8" data-dl-uid="2019" data-dl-original="true" data-dl-translated="true">このフィールドサイズは4バイト長である。ICMPv6タイプが2（「Packet too big」メッセージ）、ICMPv4タイプが3（Destination Unreachable）、Codeが4（fragmentation needed and DF set）の場合、Error Dataフィールドにはネクストホップリンクの最大伝送単位<span data-dl-uid="2020" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc4443#section-3.2" class="relref" data-dl-uid="2021" data-dl-original="true" data-dl-translated="true">（</a>[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC4443" class="xref" data-dl-uid="2022" data-dl-original="true" data-dl-translated="true">RFC443</a>]の<a data-dl-uid="2021" data-dl-translated="true">3.2項</a></span>、<span data-dl-uid="2023" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC1191" class="xref" data-dl-uid="2025" data-dl-original="true" data-dl-translated="true">RFC1191</a>]の<a href="https://www.rfc-editor.org/rfc/rfc1191#section-4" class="relref" data-dl-uid="2024" data-dl-original="true" data-dl-translated="true">4項</a></span>）を設定することになる。その他のICMPv6タイプやICMPv4タイプやコードでは、Error Dataフィールドはゼロに設定さ<span class="bcp14" data-dl-uid="2026" data-dl-original="true" data-dl-translated="true">れなければならない</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-18.13-3.8" class="pilcrow" data-dl-uid="2027" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="sec-stun-errors">
<section id="section-19">
      <h2 id="name-stun-error-response-codes" data-dl-uid="2028" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-19" class="section-number selfRef" data-dl-uid="2029" data-dl-original="true" data-dl-translated="true">19. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-stun-error-response-codes" class="section-name selfRef" data-dl-uid="2030" data-dl-original="true" data-dl-translated="true">STUNエラーの応答コード</a>     </h2>
<p id="section-19-1" data-dl-uid="2031" data-dl-original="true" data-dl-translated="true">本書では、以下のエラー応答コードを定義しています<a href="https://www.rfc-editor.org/rfc/rfc8656#section-19-1" class="pilcrow" data-dl-uid="2032" data-dl-original="true" data-dl-translated="true">。</a></p>
<dl class="dlNewline" id="section-19-2">
        <dt id="section-19-2.1" data-dl-uid="2033" data-dl-original="true" data-dl-translated="true">403 (禁則事項)です。</dt>
<dd id="section-19-2.2" data-dl-uid="2034" data-dl-original="true" data-dl-translated="true">リクエストは有効であったが、管理上または類似の制限のために実行できない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-19-2.2" class="pilcrow" data-dl-uid="2035" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-19-2.3" data-dl-uid="2036" data-dl-original="true" data-dl-translated="true">437（アロケーションミスマッチ）。</dt>
<dd id="section-19-2.4" data-dl-uid="2037" data-dl-original="true" data-dl-translated="true">サーバーが、割り当てを必要とするリクエストを受信したが、割り当てが存在しない、または、割り当てを必要としないリクエストを受信したが、割り当てが存在する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-19-2.4" class="pilcrow" data-dl-uid="2038" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
<dt id="section-19-2.5" data-dl-uid="2039" data-dl-original="true" data-dl-translated="true">440（アドレスファミリーがサポートされていません）。</dt>
<dd id="section-19-2.6" data-dl-uid="2040" data-dl-original="true" data-dl-translated="true">サーバーは、クライアントが要求したアドレスファミリーをサポートしていません<a href="https://www.rfc-editor.org/rfc/rfc8656#section-19-2.6" class="pilcrow" data-dl-uid="2041" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
<dt id="section-19-2.7" data-dl-uid="2042" data-dl-original="true" data-dl-translated="true">441 (Wrong Credentials)です。</dt>
<dd id="section-19-2.8" data-dl-uid="2043" data-dl-original="true" data-dl-translated="true">(間違った資格情報)。(間違った認証情報)：(非アロケーション)リクエストの認証情報が、アロケーションの作成に使用された認証情報と一致しない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-19-2.8" class="pilcrow" data-dl-uid="2044" data-dl-original="true" data-dl-translated="true">。</a></dd>
<dt id="section-19-2.9" data-dl-uid="2045" data-dl-original="true" data-dl-translated="true">442 (Unsupported Transport Protocol)。</dt>
<dd id="section-19-2.10" data-dl-uid="2046" data-dl-original="true" data-dl-translated="true">Allocateリクエストは、サーバーがサポートしていないサーバーとピアの間のトランスポートプロトコルを使用するようにサーバーに要求した。注：これは5-tuple<a href="https://www.rfc-editor.org/rfc/rfc8656#section-19-2.10" class="pilcrow" data-dl-uid="2047" data-dl-original="true" data-dl-translated="true">.¶で</a>使用されるトランスポートプロトコルを指すのではありません。</dd>
<dt id="section-19-2.11" data-dl-uid="2048" data-dl-original="true" data-dl-translated="true">443（ピアアドレスファミリーの不一致）。</dt>
<dd id="section-19-2.12" data-dl-uid="2049" data-dl-original="true" data-dl-translated="true">ピアアドレスは、割り当ての中継トランスポートアドレスとは異なるアドレスファミリーに属します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-19-2.12" class="pilcrow" data-dl-uid="2050" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
<dt id="section-19-2.13" data-dl-uid="2051" data-dl-original="true" data-dl-translated="true">486（割当枠に達した）。</dt>
<dd id="section-19-2.14" data-dl-uid="2052" data-dl-original="true" data-dl-translated="true">このユーザーネームを使った割り当ては、現時点ではもう作れない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-19-2.14" class="pilcrow" data-dl-uid="2053" data-dl-original="true" data-dl-translated="true">¶。</a></dd>
<dt id="section-19-2.15" data-dl-uid="2054" data-dl-original="true" data-dl-translated="true">508(容量不足)です。</dt>
<dd id="section-19-2.16" data-dl-uid="2055" data-dl-original="true" data-dl-translated="true">サーバーは、何らかの容量制限に達したため、リクエストを実行できない。Allocate応答では、サーバーにその時点で利用可能な中継トランスポートアドレスがない、要求されたプロパティを持つものがない、または指定された予約トークンに対応するものが利用できないことが原因である可能性がある<a href="https://www.rfc-editor.org/rfc/rfc8656#section-19-2.16" class="pilcrow" data-dl-uid="2056" data-dl-original="true" data-dl-translated="true">。</a></dd>
</dl>
</section>
</div>
<section id="section-20">
      <h2 id="name-detailed-example" data-dl-uid="2057" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-20" class="section-number selfRef" data-dl-uid="2058" data-dl-original="true" data-dl-translated="true">20. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-detailed-example" class="section-name selfRef" data-dl-uid="2059" data-dl-original="true" data-dl-translated="true">詳細な実施例</a>     </h2>
<p id="section-20-1" data-dl-uid="2060" data-dl-original="true" data-dl-translated="true">ここでは、TURNの使用例として、交換されるメッセージの内容を詳細に示します。この例では、「概要」<a href="https://www.rfc-editor.org/rfc/rfc8656#fig-turn-model" class="xref" data-dl-uid="2061" data-dl-original="true" data-dl-translated="true">（図1</a>）に示したネットワーク図を使用します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-20-1" class="pilcrow" data-dl-uid="2062" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-20-2" data-dl-uid="2063" data-dl-original="true" data-dl-translated="true">各メッセージについて、そのメッセージに含まれる属性とその値が示されている。例えば、"XOR-RELAYED-ADDRESS=192.0.2.15:9000 "は、XOR-RELAYED-ADDRESS属性が、192.0.2.15のアドレスと9000のポートで含まれていることを示し、ここでは、アドレスとポートはxorが行われる前に表示されています。文字列のような値を持つ属性（例えば、SOFTWARE="Example client, version 1.03 "やNONCE="obMatJos2gAAAadl7W7PeDU4hKE72jda"）については、読みやすくするために属性値を引用文で表示しますが、実際の値には引用文を表示しないようにします<a href="https://www.rfc-editor.org/rfc/rfc8656#section-20-2" class="pilcrow" data-dl-uid="2064" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<figure id="figure-12">
        <div class="artwork art-text alignLeft" id="section-20-3.1">
<pre data-dl-uid="2065" data-dl-original="true" data-dl-translated="true">TURN TURN Peer Peer client server A B｜｜｜｜｜｜ Allocate request --------------&gt;｜｜｜｜ Transaction-Id=0xA56250D3F17ABE679422DE85｜｜｜SOFTWARE="Example client, version 1.03" | | LIFETIME=3600 (1時間) | | REQUESTED-TRANSPORT=17 (UDP) | | | DONT-FRAGMENT | | | | &lt;-- Allocate error response --------| | | Transaction-Id=0xA56250D3F17ABE679422DE85 | | ソフトウェア= "Exam Server, version 1.17"      | | ERROR-CODE=401 (Unauthorized) | | REALM="example.com"             | | NONCE="obMatJos2gAAAadl7W7PeDU4hKE72jda" | | PASSWORD-ALGORITHMS=MD5 and SHA256 | | | | Allocate request --------------&gt;| | | Transaction-Id=0xC271E932AD7446A32C234492 | | SOFTWARE="Example client 1.03" | | | LIFETIME=3600 (1時間) | | REQUESTED-TRANSPORT=17 (UDP) | | | DONT-FRAGMENT | | | USERNAME="George"               | | REALM="example.com"             | | NONCE="obMatJos2gAAAadl7W7PeDU4hKE72jda" | | PASSWORD-ALGORITHMS=MD5 and SHA256 | | PASSWORD-ALGORITHM=SHA256 | | | MESSAGE-INTEGRITY=...           | | | メッセージインテグリティ-SHA256=...    |｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜│SOFTWARE="●○サーバー、バージョン 1.17      | | | LIFETIME=1200 (20分) | | XOR-RELAYED-ADDRESS=192.0.2.15:50000 | | XOR-MAPPED-ADDRESS=192.0.2.1:7000 | | | MESSAGE-INTEGRITY-SHA256=...。    |            |            |</pre>
</div>
<figcaption data-dl-uid="2066" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-12" class="selfRef" data-dl-uid="2067" data-dl-original="true" data-dl-translated="true">図12</a></figcaption></figure>
<p id="section-20-4" data-dl-uid="2068" data-dl-original="true" data-dl-translated="true">この例では、<a href="https://www.rfc-editor.org/rfc/rfc8656#fig-turn-model" class="xref" data-dl-uid="2069" data-dl-original="true" data-dl-translated="true">図1に</a>示すように、クライアントは198.51.100.2:49721を選択した。次にクライアントは、サーバー トランスポートアドレスでサーバーにAllocateリクエストを送信する。クライアントは、このトランザクションのために、0xA56250D3F17ABE679422DE85という96ビットのトランザクションIDをランダムに選択する。これは、固定ヘッダーのトランザクションIDフィールドにエンコードされる。クライアントは、クライアントのソフトウェアに関する情報を与えるSOFTWARE属性を含む。ここでは、この値が「Example client, version 1.03」であり、「Example client」と呼ばれるもののversion 1.03であることを示す。クライアントがLIFETIME属性を含むのは、割り当てがデフォルトの10分より長い寿命を持つことを望むからです。この属性の値は3600秒で、これは1時間に相当します。クライアントは常にAllocateリクエストにREQUESTED-TRANSPORT属性を含める必要があり、この仕様で許される唯一の値は17で、これはサーバーとピアの間のUDPトランスポートを示す。クライアントはまた、DONT-FRAGMENT属性をSend indicationsで後で使いたいので、DONT-FRAGMENT属性を含む。この属性は属性ヘッダーのみからなり、値の部分はない。この属性は属性ヘッダーのみで構成され、値の部分はない。クライアントは最近サーバーとやりとりしていないと仮定する。最後に、メッセージ内の属性の順序は任意であり（MESSAGE-INTEGRITY、MESSAGE-INTEGRITY-SHA256、FINGERPRINT属性を除く）、クライアントは異なる順序を使用できたことに注意してください<a href="https://www.rfc-editor.org/rfc/rfc8656#section-20-4" class="pilcrow" data-dl-uid="2070" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-20-5" data-dl-uid="2071" data-dl-original="true" data-dl-translated="true">サーバーはいかなるリクエストも認証されることを要求する。したがって、サーバーは最初のAllocateリクエストを受信すると、リクエストに認証属性が含まれていないため、リクエストを拒否する。 STUNの長期信用メカニズム<span data-dl-uid="2072" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="2073" data-dl-original="true" data-dl-translated="true">RFC8489</a></span>]の手順に従って、サーバーは401（Unauthorized）の値を持つERROR-CODE属性、サーバーが使用する認証領域（この場合、サーバーのドメイン「example.com」）を特定するREALM属性、Nonce属性にノンス値 を含める。NONCE属性はSTUN Security Feature "Password algorithm "ビットを1に設定した "nonce cookie "で始まり、サーバーは長期パスワードを導き出すために使用できるアルゴリズムのリストを指定するPASSWORD-ALGORITHMS属性を含む。サーバーがSTUN Security Feature "Username anonymity "ビットを1に設定した場合、クライアントはAllocateリクエストでUSERNAME属性の代わりにUSERHASH属性を使用し、ユーザー名を匿名化する。また、サーバーは、サーバーのソフトウェアに関する情報を与えるSOFTWARE属性を含む<a href="https://www.rfc-editor.org/rfc/rfc8656#section-20-5" class="pilcrow" data-dl-uid="2074" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-20-6" data-dl-uid="2075" data-dl-original="true" data-dl-translated="true">401エラーを受け取ったクライアントは、今度は認証属性を含むAllocateリクエストを再試行する。クライアントは新しいトランザクションIDを選択し、新しいAllocateリクエストに以前と同じ属性を入力する。クライアントはUSERNAME属性を含み、サーバから受け取ったrealmの値を使用して、どの値を使用するかを決定する。ここでは、クライアントはrealm「example.com」に対してユーザ名「George」を使用するように構成されている。クライアントはPASSWORD-ALGORITHM属性を含み、サーバーが長期パスワードを導出するために使用しなければならないアルゴリズムを示す。クライアントはまた、REALM、PASSWORD-ALGORITHMS、NONCE属性を含み、これらは401エラー応答から単にコピーされたものである。最後に、クライアントはメッセージの最後の属性としてMESSAGE-INTEGRITY-SHA256属性を含み、その値はメッセージの内容（上記では単に「...」として示されている）に対するHashed Message Authentication Code - Secure Hash Algorithm 2 (HMAC-SHA2) ハッシュであり、この HMAC-SHA2 計算はパスワード値を含む。 したがって、攻撃者は秘密のパスワードを何とか知るまではメッセージ完全性値を計算できない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-20-6" class="pilcrow" data-dl-uid="2076" data-dl-original="true" data-dl-translated="true">¶</a>。</p>
<p id="section-20-7" data-dl-uid="2077" data-dl-original="true" data-dl-translated="true">サーバーは、認証されたAllocateリクエストを受信すると、すべてがOKであることを確認し、アロケーションを作成します。サーバーはAllocate成功応答で返信します。サーバーは、割り当ての寿命を示すLIFETIME属性を含みます。ここでは、この特定のサーバーが20分以上の寿命を許可しないため、サーバーはクライアントの要求した1時間の寿命を20分だけに減らしました。サーバーはXOR-RELAYED-ADDRESS属性を含み、その値は割り当ての中継されたトランスポートアドレスである。サーバーはXOR-MAPPED-ADDRESS属性を含み、その値はクライアントのサーバー反射アドレスである。この値はTURNで他に使われないが、クライアントの便宜のために返されるものだ。サーバーは応答を認証し、その完全性を保証するためにMESSAGE-INTEGRITY-SHA256属性を 含む；応答はUSERNAME、REALM、NONCE属性を含まないことに注意。また、サーバーはSOFTWARE属性も含む<a href="https://www.rfc-editor.org/rfc/rfc8656#section-20-7" class="pilcrow" data-dl-uid="2078" data-dl-original="true" data-dl-translated="true">。</a></p>
<figure id="figure-13">
        <div class="artwork art-text alignLeft" id="section-20-8.1">
<pre data-dl-uid="2079" data-dl-original="true" data-dl-translated="true">TURN TURN Peer Peer client server A B |--- CreatePermission request ------&gt;| | | Transaction-Id=0xE5913A8F460956CA277D3319 | | XOR-PEER-ADDRESS=192.0.2.150:0 | | | USERNAME="George"               | | REALM="example.com"             | | | NONCE="obMatJos2gAAAadl7W7PeDU4hKE72jda" | | PASSWORD-ALGORITHMS=MD5 and SHA256 | | PASSWORD-ALGORITHM=SHA256 | | | MESSAGE-INTEGRITY-SHA256=...    |｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜│CreatePermission success resp.--| |｜｜｜｜｜｜｜｜｜｜｜｜{Transaction-Id=0xE5913A8F460956CA277D3319    |            |            |</pre>
</div>
<figcaption data-dl-uid="2080" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-13" class="selfRef" data-dl-uid="2081" data-dl-original="true" data-dl-translated="true">図13</a></figcaption></figure>
<p id="section-20-9" data-dl-uid="2082" data-dl-original="true" data-dl-translated="true">次にクライアントは、Peer Aにアプリケーションデータを送信する準備として、Peer Aに対するパーミッションを作成する。これは、CreatePermissionリクエストによって行われる。XOR-PEER-ADDRESS属性には、パーミッションが確立されるIPアドレス(ピアAのIPアドレス)が含まれる。属性内のポート番号は、CreatePermissionリクエストで使用すると無視され、ここでは0に設定されていることに注意。また、クライアントがピアAのサーバー反射IPアドレスを使用して、その（プライベート）ホストアドレスではないことに注意。クライアントは、割り当ての前のリクエストと同じユーザー名、realm、および nonce値を使用する。そうすることが許されているが、クライアントはこのリクエストにSOFTWARE 属性を含めないことを選択した<a href="https://www.rfc-editor.org/rfc/rfc8656#section-20-9" class="pilcrow" data-dl-uid="2083" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-20-10" data-dl-uid="2084" data-dl-original="true" data-dl-translated="true">サーバはCreatePermissionリクエストを受信し、対応するパーミッションを作成し、CreatePermission成功応答で返信する。クライアントと同様に、サーバーはその応答にSOFTWARE属性を含めないことを選択する。成功応答には、MESSAGE-INTEGRITY-SHA256属性(サーバーが長期的な信用証明書の仕組みを使用していると仮定)が含まれるが、USERNAME、REALM、NONCE属性は含まれないことに注意すること<a href="https://www.rfc-editor.org/rfc/rfc8656#section-20-10" class="pilcrow" data-dl-uid="2085" data-dl-original="true" data-dl-translated="true">。</a></p>
<figure id="figure-14">
        <div class="artwork art-text alignLeft" id="section-20-11.1">
<pre data-dl-uid="2086" data-dl-original="true" data-dl-translated="true">TURN TURN Peer Peer client server A B |--- Send indication ---------------&gt;| | | Transaction-Id=0x1278E9ACA2711637EF7D3328 | | XOR-PEER-ADDRESS=192.0.2.150:32102 | | DONT-FRAGMENT || DATA=...                        | | |- UDP dgm -&gt;| | | data=...   | UDP dgm -| | | | data=...  | | |&lt;&lt; データ表示 ---------------- | | | Transaction-Id=0x8231AE8F9242DA9FF287FEFF | | XOR-PEER-ADDRESS=192.0.2.150:32102 | | DATA=...。                        | | |</pre>
</div>
<figcaption data-dl-uid="2087" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-14" class="selfRef" data-dl-uid="2088" data-dl-original="true" data-dl-translated="true">図14</a></figcaption></figure>
<p id="section-20-12" data-dl-uid="2089" data-dl-original="true" data-dl-translated="true">次にクライアントは、Send指示を使ってアプリケーションデータをPeer Aに送信します。Peer Aのサーバー反射型トランスポートアドレスはXOR-PEER-ADDRESS属性で指定され、アプリケーションデータ（ここでは単に「...」として示されている）はDATA属性で指定される。クライアントはアプリケーション層でパスMTUの発見を行い、従って、サーバーがピアに送るUDPデータグラムでDFビットを設定すべきことを（DONT-FRAGMENT属性を含めて）指定する。指示はSTUNの長期信用メカニズムを使用して認証することができないので、MESSAGE-INTEGRITYまたはMESSAGE-INTEGRITY-SHA256属性はメッセージに含まれない。データが改ざんされたり偽造されたりしないことを保証したいアプリケーションは、アプリケーションレベルでそのデータを完全性保護しなければならない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-20-12" class="pilcrow" data-dl-uid="2090" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-20-13" data-dl-uid="2091" data-dl-original="true" data-dl-translated="true">送信指示を受信すると、サーバーはアプリケーションデータを抽出し、UDPデータグラムでピアAに送信する。データグラムのソーストランスポートアドレスとして中継されたトランスポートアドレスを使用し、要求に応じてDFビットを設定した。クライアントが以前にピアAのサーバー反射IPアドレスに対する許可を確立していなければ、サーバーは代わりに送信指示を黙って破棄していただろう、ということに注意してください<a href="https://www.rfc-editor.org/rfc/rfc8656#section-20-13" class="pilcrow" data-dl-uid="2092" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-20-14" data-dl-uid="2093" data-dl-original="true" data-dl-translated="true">その後、ピアAはアプリケーションデータを含む自身のUDPデータグラムで返信する。このデータグラムは、サーバーの中継トランスポートアドレスに送信される。これが到着すると、サーバーはXOR-PEER-ADDRESS属性にUDPデータグラムのソースを、DATA属性にUDPデータグラムのデータを含むData indicationを作成する。そして、出来上がったData表示はクライアントに送信される<a href="https://www.rfc-editor.org/rfc/rfc8656#section-20-14" class="pilcrow" data-dl-uid="2094" data-dl-original="true" data-dl-translated="true">。</a></p>
<figure id="figure-15">
        <div class="artwork art-text alignLeft" id="section-20-15.1">
<pre data-dl-uid="2095" data-dl-original="true" data-dl-translated="true">TURN TURN Peer Peer client server A B |--- ChannelBind request -----------&gt;| | | Transaction-Id=0x6490D3BC175AFF3D84513212 | | CHANNEL-NUMBER=0x4000 | | XOR-PEER-ADDRESS=192.0.2.210:49191 | | USERNAME="George"               | | REALM="example.com"             | | NONCE="obMatJos2gAAAadl7W7PeDU4hKE72jda" | | PASSWORD-ALGORITHMS=MD5 and SHA256 | | PASSWORD-ALGORITHM=SHA256 | | | MESSAGE-INTEGRITY-SHA256=...    |            |             |
  |                                    |            |             |
  |&lt;-- ChannelBind success response ---|            |             |
  |    Transaction-Id=0x6490D3BC175AFF3D84513212    |             |
  |    MESSAGE-INTEGRITY-SHA256=...    | | |</pre>
</div>
<figcaption data-dl-uid="2096" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-15" class="selfRef" data-dl-uid="2097" data-dl-original="true" data-dl-translated="true">図15</a></figcaption></figure>
<p id="section-20-16" data-dl-uid="2098" data-dl-original="true" data-dl-translated="true">CHANNEL-NUMBER属性に空きチャンネル番号(0x4000)を指定し、XOR-PEER-ADDRESS属性にPeer Bのトランスポートアドレスを指定し、クライアントはPeer Bにチャンネルをバインドします。前回と同様に、クライアントはメッセージの中で、前回のリクエストのユーザー名、レルム、およびnonceを再利用する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-20-16" class="pilcrow" data-dl-uid="2099" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-20-17" data-dl-uid="2100" data-dl-original="true" data-dl-translated="true">リクエストを受けたサーバーは、チャンネル番号をピアにバインドし、ピアBのIPアドレスのパーミッションをインストールし、ChannelBindの成功レスポンスを返信する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-20-17" class="pilcrow" data-dl-uid="2101" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<figure id="figure-16">
        <div class="artwork art-text alignLeft" id="section-20-18.1">
<pre data-dl-uid="2102" data-dl-original="true" data-dl-translated="true">TURN TURN Peer Peer client server A B |--- ChannelData ------------------&gt;| | | Channel-number=0x4000 |--- UDP datagram ---------&gt;|| Data=....                       | Data=...               |｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜｜│UDPデータグラム ----------｜｜｜Data=....| | |｜ Data=...                       | | |</pre>
</div>
<figcaption data-dl-uid="2103" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-16" class="selfRef" data-dl-uid="2104" data-dl-original="true" data-dl-translated="true">図16</a></figcaption></figure>
<p id="section-20-19" data-dl-uid="2105" data-dl-original="true" data-dl-translated="true">ChannelDataメッセージはSTUNメッセージではないので、トランザクションIDはない。その代わり、チャネル番号、データ、データ長の3つのフィールドのみを持ち、ここでは、チャネル番号フィールドは0x4000（クライアントがPeer Bにバインドしたチャネル）である。サーバーはChannelDataメッセージを受信すると、チャンネルが現在バインドされていることをチェックし(バインドされている)、次に、中継されたトランスポートアドレスをソーストランスポートアドレスとして、192.0.2.210：49191 (ChannelBind 要求の XOR-PEER-ADDRESS 属性の値)を宛先トランスポートアドレスとしてUDPデータグラムでピアBにデータを送信します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-20-19" class="pilcrow" data-dl-uid="2106" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-20-20" data-dl-uid="2107" data-dl-original="true" data-dl-translated="true">その後、ピアBは中継されたトランスポートアドレスにUDPデータグラムを送り返す。これにより、サーバはUDPデータグラムのデータを含むChannelDataメッセージをクライアントに送信する。サーバーは、UDPデータグラムが到着した中継トランスポートアドレスから、ChannelDataメッセージを送信するクライアントを知っている。また、チャンネル0x4000を使用することを知っている。もし、そのアドレスにチャンネル番号が割り当てられていなければ、サーバーは代わりにデータ表示を使用しただろう<a href="https://www.rfc-editor.org/rfc/rfc8656#section-20-20" class="pilcrow" data-dl-uid="2108" data-dl-original="true" data-dl-translated="true">。</a></p>
<figure id="figure-17">
        <div class="artwork art-text alignLeft" id="section-20-21.1">
<pre data-dl-uid="2109" data-dl-original="true" data-dl-translated="true">TURN TURN Peer Peer client server A B |--- ChannelBind request -----------&gt;| | | Transaction-Id=0xE5913A8F46091637EF7D3328 | | CHANNEL-NUMBER=0x4000 | | XOR-PEER-ADDRESS=192.0.2.210:49191 | | USERNAME="George"               | | REALM="example.com"             | | NONCE="obMatJos2gAAAadl7W7PeDU4hKE72jda" | | PASSWORD-ALGORITHMS=MD5 and SHA256 | | PASSWORD-ALGORITHM=SHA256 | | | MESSAGE-INTEGRITY-SHA256=....    |            |            |
  |                                    |            |            |
  |&lt;-- ChannelBind success response ---|            |            |
  |    Transaction-Id=0xE5913A8F46091637EF7D3328    |            |
  |    MESSAGE-INTEGRITY-SHA256=...    |            |            |</pre>
</div>
<figcaption data-dl-uid="2110" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-17" class="selfRef" data-dl-uid="2111" data-dl-original="true" data-dl-translated="true">図17</a></figcaption></figure>
<p id="section-20-22" data-dl-uid="2112" data-dl-original="true" data-dl-translated="true">チャネルバインディングはリフレッシュされない限り10分間持続する。TURNクライアントは、チャネルを同じピア（ピアBのIPアドレス）に再バインドするChannelBindリクエストを送信することで、バインドをリフレッシュする。サーバーはChannelBindリクエストを処理し、チャネルを同じピアに再バインドし、有効期限タイマーを10分にリセットします<a href="https://www.rfc-editor.org/rfc/rfc8656#section-20-22" class="pilcrow" data-dl-uid="2113" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<figure id="figure-18">
        <div class="artwork art-text alignLeft" id="section-20-23.1">
<pre data-dl-uid="2114" data-dl-original="true" data-dl-translated="true">TURN TURN Peer Peer client server A B |--- Refresh request ---------------&gt;| | | Transaction-Id=0x0864B3C27ADE9354B4312414 | | SOFTWARE="Example client 1.03" | | | USERNAME="George"               | | REALM="example.com"             | | NONCE="oobMatJos2gAAAadl7W7PeDU4hKE72jda" | | PASSWORD-ALGORITHMS=MD5 and SHA256 | | PASSWORD-ALGORITHM=SHA256 | | | MESSAGE-INTEGRITY-SHA256=...    | | | | | リフレッシュエラー応答 ---------| | | Transaction-Id=0x0864B3C27ADE9354B4312414 | | SOFTWARE="Example server, version 1.17"      | | ERROR-CODE=438 (Stale Nonce) | | | REALM="example.com"             | | | NONCE="obMatJos2gAAAadl7W7PeDU4hKE72jda" | | PASSWORD-ALGORITHMS=MD5 and SHA256 | | | | リフレッシュリクエスト ---------------&gt;| | | Transaction-Id=0x427BD3E625A85FC731DC4191 | | SOFTWARE="Example client 1.03" | | | USERNAME="George"               | | REALM="example.com"             | | | NONCE="obMatJos2gAAAadl7W7PeDU4hKE72jda" | | PASSWORD-ALGORITHMS=MD5 and SHA256 | | PASSWORD-ALGORITHM=SHA256 | | | MESSAGE-INTEGRITY-SHA256=...    | | | | | |&lt;&lt; リフレッシュ成功レスポンス ------- | | | Transaction-Id=0x427BD3E625A85FC731DC4191 | | SOFTWARE="Example server, version 1.17"      | | | LIFETIME=600 (10分) | | | MESSAGE-INTEGRITY=...           | | |</pre>
</div>
<figcaption data-dl-uid="2115" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-18" class="selfRef" data-dl-uid="2116" data-dl-original="true" data-dl-translated="true">図18</a></figcaption></figure>
<p id="section-20-24" data-dl-uid="2117" data-dl-original="true" data-dl-translated="true">20分の有効期限が切れる前に、クライアントは割り当てをリフレッシュする。これは、Refreshリクエストを使用して行われる。前回と同様に、クライアントは最新のユーザ名、レルム、およびnonceの値をリクエストに含めます。また、クライアントはSOFTWARE属性も含め、AllocateおよびRefreshメッセージに常にこの属性を含めるという推奨事項に従って、この属性を含める。サーバはRefresh要求を受け取ると、nonce値が期限切れであることに気づき、新しいnonce値を与えて438（Stale Nonce）エラーで返信する。次に、クライアントは、今度は新しいnonce値でリクエストを再試行する。この2回目の試みは受け入れられ、サーバーは成功応答で返信する。クライアントはリクエストにLIFETIME属性を含まなかったので、サーバーはデフォルトの寿命である10分間、割り当てをリフレッシュする(成功レスポンスのLIFETIME属性でわかる)ことに注意する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-20-24" class="pilcrow" data-dl-uid="2118" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<div id="sec-security">
<section id="section-21">
      <h2 id="name-security-considerations" data-dl-uid="2119" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21" class="section-number selfRef" data-dl-uid="2120" data-dl-original="true" data-dl-translated="true">21. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-security-considerations" class="section-name selfRef" data-dl-uid="2121" data-dl-original="true" data-dl-translated="true">セキュリティに関する考察</a>     </h2>
<p id="section-21-1" data-dl-uid="2122" data-dl-original="true" data-dl-translated="true">このセクションでは、TURNの展開で起こりうる攻撃を検討し、プロトコルのメカニズムや実装の推奨事項によって、それらがどのように軽減されるかを議論する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21-1" class="pilcrow" data-dl-uid="2123" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-21-2" data-dl-uid="2124" data-dl-original="true" data-dl-translated="true">TURNに対する攻撃のほとんどは、サーバーがリクエストに認証を要求することで軽減される。したがって、この仕様では、認証の使用を義務付けている。実装が義務付けられているのは、STUNの長期クレデンシャルメカニズムである。同等かそれ以上のセキュリティ特性を持つ他の認証メカニズムを使用することもできる。しかし、それらが相互運用可能な方法で呼び出されることを保証することが重要である<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21-2" class="pilcrow" data-dl-uid="2125" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<section id="section-21.1">
        <h3 id="name-outsider-attacks" data-dl-uid="2126" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1" class="section-number selfRef" data-dl-uid="2127" data-dl-original="true" data-dl-translated="true">21.1. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-outsider-attacks" class="section-name selfRef" data-dl-uid="2128" data-dl-original="true" data-dl-translated="true">アウトサイダーアタック</a>       </h3>
<p id="section-21.1-1" data-dl-uid="2129" data-dl-original="true" data-dl-translated="true">アウトサイダー攻撃とは、攻撃者がシステム内の認証情報を持たず、クライアントやサーバーが見るサービスを妨害しようとするものである<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1-1" class="pilcrow" data-dl-uid="2130" data-dl-original="true" data-dl-translated="true">。</a></p>
<section id="section-21.1.1">
          <h4 id="name-obtaining-unauthorized-allo" data-dl-uid="2131" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.1" class="section-number selfRef" data-dl-uid="2132" data-dl-original="true" data-dl-translated="true">21.1.1. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-obtaining-unauthorized-allo" class="section-name selfRef" data-dl-uid="2133" data-dl-original="true" data-dl-translated="true">不正な割り当ての取得</a>         </h4>
<p id="section-21.1.1-1" data-dl-uid="2134" data-dl-original="true" data-dl-translated="true">攻撃者は、様々な悪意のある目的のために、TURNサーバーの割り当てを取得したいと考えるかもしれません。TURNサーバーは、クライアントの実際のIPアドレスを隠蔽しながらパケットを送受信する仕組みを提供します。このため、TURNサーバーは、それを使って自分の正体を隠そうとする攻撃者にとって魅力的なターゲットとなります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.1-1" class="pilcrow" data-dl-uid="2135" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-21.1.1-2" data-dl-uid="2136" data-dl-original="true" data-dl-translated="true">また、攻撃者は、TURNサーバーのサービスをお金を払わずに利用したいと考えるかもしれません。TURNサービスはプロバイダーのリソースを必要とするため、その利用にはコストがかかることが予想されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.1-2" class="pilcrow" data-dl-uid="2137" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-21.1.1-3" data-dl-uid="2138" data-dl-original="true" data-dl-translated="true">これらの攻撃は、TURNサーバーが要求者の身元と要求者が割り当てを取得することを許可されているかどうかを決定することができる長期クレデンシャル機構を使用して防止されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.1-3" class="pilcrow" data-dl-uid="2139" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
<section id="section-21.1.2">
          <h4 id="name-offline-dictionary-attacks" data-dl-uid="2140" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.2" class="section-number selfRef" data-dl-uid="2141" data-dl-original="true" data-dl-translated="true">21.1.2. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-offline-dictionary-attacks" class="section-name selfRef" data-dl-uid="2142" data-dl-original="true" data-dl-translated="true">オフライン辞書攻撃</a>         </h4>
<p id="section-21.1.2-1" data-dl-uid="2143" data-dl-original="true" data-dl-translated="true">TURNが使用する長期クレデンシャル機構は、オフライン辞書攻撃の対象となる。クライアントとサーバー間のメッセージ交換を盗聴できる攻撃者は、パスワードの候補をいくつか試し、そのうちの1つが正しいかどうかを確認することでパスワードを決定できる。この攻撃は、パスワードが辞書に載っているような低エントロピーの場合に有効です。この攻撃は、大きなエントロピーを持つ強力なパスワードを使用することで軽減することができます。さらに強力な緩和が必要な場合には、クライアントとサーバー間の(D)TLSトランスポートを使用することができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.2-1" class="pilcrow" data-dl-uid="2144" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
<section id="section-21.1.3">
          <h4 id="name-faked-refreshes-and-permiss" data-dl-uid="2145" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.3" class="section-number selfRef" data-dl-uid="2146" data-dl-original="true" data-dl-translated="true">21.1.3. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-faked-refreshes-and-permiss" class="section-name selfRef" data-dl-uid="2147" data-dl-original="true" data-dl-translated="true">リフレッシュの偽装とパーミッション</a>         </h4>
<p id="section-21.1.3-1" data-dl-uid="2148" data-dl-original="true" data-dl-translated="true">攻撃者は、アクティブな割り当てを攻撃するために、すぐに有効期限が切れるリフレッシュ要求を送信して、割り当てを削除し、クライアントへのサービスを中断させることを望むかもしれません。これは、リフレッシュの認証によって防がれる。同様に、望ましくない宛先へのパーミッションを作成するためにCreatePermissionリクエストを送ろうとする攻撃者は、認証によってそれを阻止される。このような攻撃の動機については、<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-firewall" class="xref" data-dl-uid="2149" data-dl-original="true" data-dl-translated="true">セクション21.2</a><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.3-1" class="pilcrow" data-dl-uid="2150" data-dl-original="true" data-dl-translated="true">.¶で</a>説明する。</p>
</section>
<div id="fate-data">
<section id="section-21.1.4">
          <h4 id="name-fake-data" data-dl-uid="2151" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.4" class="section-number selfRef" data-dl-uid="2152" data-dl-original="true" data-dl-translated="true">21.1.4. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-fake-data" class="section-name selfRef" data-dl-uid="2153" data-dl-original="true" data-dl-translated="true">フェイクデータ</a>         </h4>
<p id="section-21.1.4-1" data-dl-uid="2154" data-dl-original="true" data-dl-translated="true">攻撃者は、クライアントまたはピアに、それぞれピアまたはクライアントから来たかのようにデータを送信したい場合があります。そのために、攻撃者はクライアントに偽のData指示やChannelDataメッセージを送ったり、TURNサーバーに偽のSend指示やChannelDataメッセージを送ったりすることができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.4-1" class="pilcrow" data-dl-uid="2155" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-21.1.4-2" data-dl-uid="2156" data-dl-original="true" data-dl-translated="true">IndicationsとChannelDataメッセージは認証されないので、この攻撃はTURNでは防げません。しかし、この攻撃はIPベースの通信に一般的に存在するもので、TURNによって実質的に悪化することはない。攻撃者は、AのIPアドレスを偽装してBに向けてパケットを送信することで、あたかもAから来たかのようにBにパケットを送信することができます。TURNでは、Data表示を使用してクライアントに向けてパケットを送信しようとする攻撃者は、そのIPアドレス（およびポート）、TURNサーバーのIPアドレスとポート、およびピアのIPアドレスとポート（XOR-PEER-ADDRESS属性に含めるため）を知る必要があります。クライアントに偽のChannelDataメッセージを送信するために、攻撃者はクライアントのIPアドレスとポート、TURNサーバーのIPアドレスとポート、チャネル番号を知る必要がある。この特定の組み合わせは、TURNでない場合よりも推測可能性がマイルドになります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.4-2" class="pilcrow" data-dl-uid="2157" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-21.1.4-3" data-dl-uid="2158" data-dl-original="true" data-dl-translated="true">このような攻撃は、アプリケーションレイヤーの認証技術でより適切に軽減され る。リアルタイムトラフィックの場合、SRTP<span data-dl-uid="2159" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC3711" class="xref" data-dl-uid="2160" data-dl-original="true" data-dl-translated="true">RFC3711</a>]</span>を使用することで、これらの攻撃は防げます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.4-3" class="pilcrow" data-dl-uid="2161" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-21.1.4-4" data-dl-uid="2162" data-dl-original="true" data-dl-translated="true">状況によっては、TURNサーバーは、クライアントが直接送信できないホストに送信できるようなネットワークに位置している場合があります。これは、例えば、サーバーがファイアウォールの背後に位置し、ファイアウォールの外からのパケットをサーバーに配信することはできるが、ファイアウォールの背後にある他のホストには配信できない場合に起こり得る。このような状況では、攻撃者は、ファイアウォールの背後にある他のホストの1つのトランスポートアドレスを含むXOR-PEER-ADDRESS属性を持つSend表示をサーバーに送信することができます。もしサーバーが任意のピアへのトラフィックの中継を許可するのであれば、これは攻撃者がファイアウォールの背後にある任意のホストを攻撃する方法を提供することになる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.4-4" class="pilcrow" data-dl-uid="2163" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-21.1.4-5" data-dl-uid="2164" data-dl-original="true" data-dl-translated="true">この攻撃を軽減するために、TURNはクライアントがデータを送信する前にホストへの許可を確立することを要求する。さらに、サーバー管理者は、サーバーがデータを中継するIPアドレスとポートの範囲を制限するように設定することができます。さらにセキュリティを高めるために、サーバー管理者は、クライアントとサーバー間のすべての通信に(D)TLSを使用することを要求することができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.4-5" class="pilcrow" data-dl-uid="2165" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
</div>
<section id="section-21.1.5">
          <h4 id="name-impersonating-a-server" data-dl-uid="2166" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.5" class="section-number selfRef" data-dl-uid="2167" data-dl-original="true" data-dl-translated="true">21.1.5. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-impersonating-a-server" class="section-name selfRef" data-dl-uid="2168" data-dl-original="true" data-dl-translated="true">サーバーのなりすまし</a>         </h4>
<p id="section-21.1.5-1" data-dl-uid="2169" data-dl-original="true" data-dl-translated="true">クライアントがTURNサーバーから中継アドレスを学習すると、その中継アドレスをアプリケーションプロトコルで使用してトラフィックを受信します。したがって、そのトラフィックを傍受またはリダイレクトしようとする攻撃者は、TURNサーバーになりすまし、クライアントに偽の中継アドレスを提供しようとするかもしれません<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.5-1" class="pilcrow" data-dl-uid="2170" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-21.1.5-2" data-dl-uid="2171" data-dl-original="true" data-dl-translated="true">この攻撃は、サーバーからの応答であることを検証することに加えて、応答に対するメッセージの完全性を提供する長期信用メカニズムによって防止される。さらに、STUNヘッダーのトランザクションIDがこれを防ぐため、攻撃者は古いサーバー応答を再生することはできない。リプレイ攻撃は、nonce値を頻繁に変更することでさらに阻止される<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.5-2" class="pilcrow" data-dl-uid="2172" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<section id="section-21.1.6">
          <h4 id="name-eavesdropping-traffic" data-dl-uid="2173" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.6" class="section-number selfRef" data-dl-uid="2174" data-dl-original="true" data-dl-translated="true">21.1.6. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-eavesdropping-traffic" class="section-name selfRef" data-dl-uid="2175" data-dl-original="true" data-dl-translated="true">盗聴トラフィック</a>         </h4>
<p id="section-21.1.6-1" data-dl-uid="2176" data-dl-original="true" data-dl-translated="true">TURNクライアントとサーバーがSTUN Extension for Third-Party Authorization<span data-dl-uid="2177" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7635" class="xref" data-dl-uid="2178" data-dl-original="true" data-dl-translated="true">RFC7635</a>]</span>（例えば、WebRTCで使用されている）を使用する場合、ユーザー名は実際のユーザーの身元を明らかにしない。USERNAME属性は、エフェメラルでユニークな鍵識別子を運ぶ。TURNクライアントとサーバーがSTUN長期信用証明書メカニズムを使用し、ユーザー名が実際のユーザーの身元を明らかにする場合、クライアントはUSERNAME属性の代わりにUSERHASH属性を使用してユーザー名を匿名化するか、クライアントとサーバー間で（D）TLS転送を使用<span class="bcp14" data-dl-uid="2179" data-dl-original="true" data-dl-translated="true">しなければならない</span><a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.6-1" class="pilcrow" data-dl-uid="2180" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-21.1.6-2" data-dl-uid="2181" data-dl-original="true" data-dl-translated="true">TURNクライアントとサーバーがSTUN長期クレデンシャル機構を使用し、realm情報がプライバシーに敏感な場合、TURNは（D）TLS上で実行することができる。注意点として、STUN Extension for Third-Party Authorizationは、realmを使用しない<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.6-2" class="pilcrow" data-dl-uid="2182" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-21.1.6-3" data-dl-uid="2183" data-dl-original="true" data-dl-translated="true">SOFTWARE属性は、TURNクライアントとサーバーの特定のソフトウェアバージョンを盗聴者に明らかにすることができ、セキュリティの脆弱性を含むことが知られている脆弱なソフトウェアに対する攻撃を可能にする可能性がある。ソフトウェアバージョンがセキュリティの脆弱性を含むことが知られている場合、SOFTWARE属性が平文で漏れるのを防ぐために、TURNは(D)TLSで実行さ<span class="bcp14" data-dl-uid="2184" data-dl-original="true" data-dl-translated="true">れるべきである(SHOULD</span>)。ソフトウェアバージョンにゼロデイ脆弱性が検出された場合、欠陥を修正するパッチが導入されるまで、(D)TLSの使用を義務付けるようにエンドポイントポリシーを修正することができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.6-3" class="pilcrow" data-dl-uid="2185" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-21.1.6-4" data-dl-uid="2186" data-dl-original="true" data-dl-translated="true">TURNは、主に認証とメッセージの完全性に関心を持つ。TURNの制御メッセージは、USERNAME、REALM、SOFTWAREを除いて、特に機密性の高い情報を含んでいないので、機密性は二次的な関心事に過ぎない。メッセージの主要なプロトコルコンテンツは、相手のIPアドレスである。TURN接続の盗聴者がこれを知ることを防ぐことが重要な場合、TURNは（D）TLS上で実行することができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.6-4" class="pilcrow" data-dl-uid="2187" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-21.1.6-5" data-dl-uid="2188" data-dl-original="true" data-dl-translated="true">TURNを(D)TLS上で実行しても、サーバーとピア間のアプリケーションデータは保護されないため、TURNによってリレーされるアプリケーションデータの機密性は、アプリケーションプロトコル自体によって提供されるのがベストです。アプリケーションデータの機密性が重要な場合、アプリケーションはそのデータを暗号化するか、その他の方法で保護する必要があります。たとえば、リアルタイムメディアの場合、SRTPを使用することで、機密性を提供 することができる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.6-5" class="pilcrow" data-dl-uid="2189" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<section id="section-21.1.7">
          <h4 id="name-turn-loop-attack" data-dl-uid="2190" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.7" class="section-number selfRef" data-dl-uid="2191" data-dl-original="true" data-dl-translated="true">21.1.7. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-turn-loop-attack" class="section-name selfRef" data-dl-uid="2192" data-dl-original="true" data-dl-translated="true">TURNループアタック</a>         </h4>
<p id="section-21.1.7-1" data-dl-uid="2193" data-dl-original="true" data-dl-translated="true">攻撃者は、2つのTURNサーバー間でデータパケットを無限にループさせることを試みるかもしれない。攻撃者は、まず、サーバーBのソースアドレスを使ってサーバーAにAllocateリクエストを送信する。サーバーAはその応答をサーバーBに送信し、攻撃が成功するためには、攻撃者が割り当てられた中継トランスポートアドレスを知ることができるように、この応答の内容を見るか推測する能力がなければならない。 次に、攻撃者は、サーバーAのソースアドレスを使ってサーバーBにAllocateリクエストを送る。ここでも攻撃者は割り当てられた中継トランスポートアドレスを知ることができるように応答の中身を見るか推測できる必要がある。同じようにソースアドレスを詐称して、攻撃者は次にサーバーAのチャネル番号をサーバーBの中継トランスポートアドレスにバインドし、同様にサーバーBの同じチャネル番号をサーバーAの中継トランスポートアドレスにバインドします<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.7-1" class="pilcrow" data-dl-uid="2194" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-21.1.7-2" data-dl-uid="2195" data-dl-original="true" data-dl-translated="true">その結果、データパケットは、サーバーAの中継トランスポートアドレスからサーバーBの中継トランスポートアドレスへ、そしてサーバーBのトランスポートアドレスからサーバーAのトランスポートアドレスへとループし、再びループを回ることになる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.7-2" class="pilcrow" data-dl-uid="2196" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-21.1.7-3" data-dl-uid="2197" data-dl-original="true" data-dl-translated="true">この攻撃は次のように軽減される。すべてのリクエストに認証を要求するか、中継されるトランスポートアドレスに割り当てられるポート番号をランダムにすることで、サーバーは攻撃者に、第三者（この場合、他のサーバー）に送られる応答を傍受または閲覧させ、攻撃者がリクエストを認証して中継されるトランスポートアドレスを知ることができるようにする。これら2つの手段のいずれかがなければ、攻撃者はレスポンスを見るまでもなくその内容を推測できるため、攻撃の実行が非常に容易になる。さらに、認証されたリクエストを要求することで、サーバーは攻撃者にサーバーが許容する認証情報を持たせることになり、これは外部からの攻撃から内部からの攻撃に変わり、攻撃を開始したクライアントまで追跡することができる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.7-3" class="pilcrow" data-dl-uid="2198" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-21.1.7-4" data-dl-uid="2199" data-dl-original="true" data-dl-translated="true">この攻撃は、ユーザー名ごとに、そのユーザー名が所有するアロケーションがデータ中継に使用する帯域幅に制限をかけ、この攻撃が他のアロケーションに与える影響を抑制することでさらに緩和することができる。また、データパケットを中継する際にTTLをデクリメントすることで、より緩和することができます（基盤となるOSがこれを許可している場合<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.1.7-4" class="pilcrow" data-dl-uid="2200" data-dl-original="true" data-dl-translated="true">）。¶。</a></p>
</section>
</section>
<div id="sec-firewall">
<section id="section-21.2">
        <h3 id="name-firewall-considerations" data-dl-uid="2201" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.2" class="section-number selfRef" data-dl-uid="2202" data-dl-original="true" data-dl-translated="true">21.2. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-firewall-considerations" class="section-name selfRef" data-dl-uid="2203" data-dl-original="true" data-dl-translated="true">ファイアウォールに関する考慮</a>事項        </h3>
<p id="section-21.2-1" data-dl-uid="2204" data-dl-original="true" data-dl-translated="true">TURNのセキュリティ上の重要な考慮点は、クライアントとTURNサーバーの間に配置されたファイアウォールによる保護をTURNが弱めないようにすることである。TURNサーバーは公共のインターネット上に存在することが多く、クライアントは企業のファイアウォールを持つ企業ネットワーク内に存在することが多いと予想される。TURNサーバーが企業内に侵入するための「バックドア」を提供する場合、TURNはこれらのファイアウォールによってブロックされることになります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.2-1" class="pilcrow" data-dl-uid="2205" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-21.2-2" data-dl-uid="2206" data-dl-original="true" data-dl-translated="true">したがって、TURNサーバーは、アドレス依存型フィルタリング<span data-dl-uid="2207" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC4787" class="xref" data-dl-uid="2208" data-dl-original="true" data-dl-translated="true">RFC4787</a>]</span>を実装するNATデバイスの動作をエミュレートします。この特性は、多くのファイアウォールにも共通しています。NATやファイアウォールがこの動作を実装している場合、外部IPアドレスからのパケットは、内部IPアドレスとポートが最近その外部IPアドレスにパケットを送信した場合にのみ、内部IPアドレスとポートへの送信を許可される。TURNサーバーはパーミッションという概念を導入しており、TURNサーバー上でこれと全く同じ動作を提供します。攻撃者はTURNサーバーにパケットを送り、それがクライアントに向けて中継されることを期待することはできませんが、クライアントが最初に攻撃者に接触しようとしない限りは<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.2-2" class="pilcrow" data-dl-uid="2209" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-21.2-3" data-dl-uid="2210" data-dl-original="true" data-dl-translated="true">ファイアウォールの中には、アドレス依存のフィルタリングよりもさらに制限の厳しいポリシーを持つものがあることに注意が必要です。ファイアウォールは、アドレスやポートに依存したフィルタリングを設定することもできますし、インバウンドトラフィックを完全に許可しないように設定することもできます。このような場合、クライアントがTURNサーバーへの接続を許可されると、クライアントへの通信は、ファイアウォールが通常許可するものより制限されなくなります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.2-3" class="pilcrow" data-dl-uid="2211" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<section id="section-21.2.1">
          <h4 id="name-faked-permissions" data-dl-uid="2212" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.2.1" class="section-number selfRef" data-dl-uid="2213" data-dl-original="true" data-dl-translated="true">21.2.1. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-faked-permissions" class="section-name selfRef" data-dl-uid="2214" data-dl-original="true" data-dl-translated="true">フェイクパーミッション</a>         </h4>
<p id="section-21.2.1-1" data-dl-uid="2215" data-dl-original="true" data-dl-translated="true">ファイアウォールやNATデバイスでは、ネットワーク内部から外部のピアに向かってパケットをトラバースすることによって、暗黙のうちにパーミッションが付与される。したがって、パーミッションは、定義上、ファイアウォールやNATの内部以外のエンティティによって作成されることはありません。TURNでは、この制限はもはや成り立ちません。TURNサーバーはファイアウォールの外側にあるため、ファイアウォールの外側にいる攻撃者は、TURNサーバーにメッセージを送り、自分自身のためにパーミッションを作成しようとすることができるようになりました<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.2.1-1" class="pilcrow" data-dl-uid="2216" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-21.2.1-2" data-dl-uid="2217" data-dl-original="true" data-dl-translated="true">パーミッションを作成するメッセージ（ChannelBindやCreatePermissionなど）はすべて認証されているため、この攻撃は防げます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.2.1-2" class="pilcrow" data-dl-uid="2218" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
<section id="section-21.2.2">
          <h4 id="name-blacklisted-ip-addresses" data-dl-uid="2219" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.2.2" class="section-number selfRef" data-dl-uid="2220" data-dl-original="true" data-dl-translated="true">21.2.2. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-blacklisted-ip-addresses" class="section-name selfRef" data-dl-uid="2221" data-dl-original="true" data-dl-translated="true">ブラックリストに登録されたIPアドレス</a>         </h4>
<p id="section-21.2.2-1" data-dl-uid="2222" data-dl-original="true" data-dl-translated="true">多くのファイアウォールは、ブラックリストを設定することができ、ファイアウォールの背後にいるクライアントが、ブラックリストに登録されたIPアドレスの範囲にパケットを送信したり、そこからパケットを受信することを防止します。これは、ファイアウォールに入るパケットと出るパケットの送信元アドレスと宛先アドレスをそれぞれ検査することで実現します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.2.2-1" class="pilcrow" data-dl-uid="2223" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-21.2.2-2" data-dl-uid="2224" data-dl-original="true" data-dl-translated="true">TURNサーバーは、中継するピアのアドレスの範囲を任意に制限することが許されているため、この機能はTURNにも存在します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.2.2-2" class="pilcrow" data-dl-uid="2225" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
<section id="section-21.2.3">
          <h4 id="name-running-servers-on-well-kno" data-dl-uid="2226" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.2.3" class="section-number selfRef" data-dl-uid="2227" data-dl-original="true" data-dl-translated="true">21.2.3. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-running-servers-on-well-kno" class="section-name selfRef" data-dl-uid="2228" data-dl-original="true" data-dl-translated="true">よく知られたポートでサーバーを実行する</a>         </h4>
<p id="section-21.2.3-1" data-dl-uid="2229" data-dl-original="true" data-dl-translated="true">ファイアウォール内の悪意のあるクライアントは、TURNサーバーに接続し、サーバーを実行するために使用する割り当てを取得しようとする可能性があります。例えば、クライアントはDNSサーバーやFTPサーバーを実行しようとするかもしれません<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.2.3-1" class="pilcrow" data-dl-uid="2230" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-21.2.3-2" data-dl-uid="2231" data-dl-original="true" data-dl-translated="true">これはTURNでは不可能です。TURNサーバーは、クライアントが許可をインストールしていないピアからのトラフィックを受け入れることはありません。したがって、ピアがサービスを受けるために、割り当てられたポートに接続することはできません<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.2.3-2" class="pilcrow" data-dl-uid="2232" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
</section>
</div>
<section id="section-21.3">
        <h3 id="name-insider-attacks" data-dl-uid="2233" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.3" class="section-number selfRef" data-dl-uid="2234" data-dl-original="true" data-dl-translated="true">21.3. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-insider-attacks" class="section-name selfRef" data-dl-uid="2235" data-dl-original="true" data-dl-translated="true">インサイダー攻撃</a>       </h3>
<p id="section-21.3-1" data-dl-uid="2236" data-dl-original="true" data-dl-translated="true">インサイダー攻撃では、クライアントは正当な認証情報を持っているが、その認証情報に付随する信頼関係に背く。これらの攻撃は暗号化手段で防ぐことはできませんが、プロトコルの設計で考慮する必要があります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.3-1" class="pilcrow" data-dl-uid="2237" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<section id="section-21.3.1">
          <h4 id="name-dos-against-turn-server" data-dl-uid="2238" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.3.1" class="section-number selfRef" data-dl-uid="2239" data-dl-original="true" data-dl-translated="true">21.3.1. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-dos-against-turn-server" class="section-name selfRef" data-dl-uid="2240" data-dl-original="true" data-dl-translated="true">TURNサーバーに対するDoS</a>         </h4>
<p id="section-21.3.1-1" data-dl-uid="2241" data-dl-original="true" data-dl-translated="true">他のクライアントのサービスを妨害しようとするクライアントは、割り当てを得 てからトラフィックであふれさせ、サーバーを圧迫して他の正当なクライアントへのサー ビスを妨げようとするかもしれない。 これは、サーバーが所定のユーザー名に対して中継する帯域幅を制限することを 推奨することで緩和される。これは、クライアントが大量のトラフィックを送信することを防ぐことはできませんが、サーバーが過剰なトラフィックを直ちに破棄することができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.3.1-1" class="pilcrow" data-dl-uid="2242" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-21.3.1-2" data-dl-uid="2243" data-dl-original="true" data-dl-translated="true">各割当はTURNサーバーのIPアドレス上のポート番号を使用するため、サーバー上の割当数は有限である。攻撃者は、大量のアロケーションを要求することで、そのすべてを消費しようとするかもしれません。これは、サーバーが、与えられたユーザー名に対して一度にアクティブになる割り当ての数に制限を課すことを推奨することによって防止されます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.3.1-2" class="pilcrow" data-dl-uid="2244" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<section id="section-21.3.2">
          <h4 id="name-anonymous-relaying-of-malic" data-dl-uid="2245" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.3.2" class="section-number selfRef" data-dl-uid="2246" data-dl-original="true" data-dl-translated="true">21.3.2. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-anonymous-relaying-of-malic" class="section-name selfRef" data-dl-uid="2247" data-dl-original="true" data-dl-translated="true">悪意のあるトラフィックの匿名中継</a>         </h4>
<p id="section-21.3.2-1" data-dl-uid="2248" data-dl-original="true" data-dl-translated="true">TURNサーバーは、ある程度の匿名性を提供します。クライアントは、自身のIPアドレスを明らかにすることなく、ピアにデータを送信することができます。したがって、TURNサーバーは、攻撃者が発見されることを恐れずにターゲットに対して攻撃を開始するための魅力的な手段となり得る。実際、クライアントが複数のTURNサーバーを連鎖させ、ターゲットがパケットを受信する前に任意の数のリレーを使用することが可能である<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.3.2-1" class="pilcrow" data-dl-uid="2249" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-21.3.2-2" data-dl-uid="2250" data-dl-original="true" data-dl-translated="true">この攻撃を心配する管理者は、クライアントの実際のソースIPとポート、そしておそらくクライアントがインストールしたすべての許可をキャプチャするログを維持することができます。これは、攻撃がTURNサーバーを経由して中継されていることが判明した場合に、元のソースを特定するためのフォレンジックトレースを可能にします<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.3.2-2" class="pilcrow" data-dl-uid="2251" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<section id="section-21.3.3">
          <h4 id="name-manipulating-other-allocati" data-dl-uid="2252" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.3.3" class="section-number selfRef" data-dl-uid="2253" data-dl-original="true" data-dl-translated="true">21.3.3. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-manipulating-other-allocati" class="section-name selfRef" data-dl-uid="2254" data-dl-original="true" data-dl-translated="true">他のアロケーションを操作する</a>         </h4>
<p id="section-21.3.3-1" data-dl-uid="2255" data-dl-original="true" data-dl-translated="true">攻撃者は、TURNサーバーの他のユーザーから来たと思われるRefreshリクエストやCreatePermissionリクエストを（ソースアドレスの詐称によって）送信することによって、TURNサーバーの他のユーザーのサービスを中断しようとする可能性があります。TURNは、CreatePermission、Refresh、およびChannelBindメッセージで使用される認証情報が、最初の割り当てを作成するために使用される認証情報と一致することを要求することによって、これを防止する。したがって、攻撃者からの偽のリクエストは拒否されることになります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.3.3-1" class="pilcrow" data-dl-uid="2256" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
</section>
<section id="section-21.4">
        <h3 id="name-tunnel-amplification-attack" data-dl-uid="2257" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.4" class="section-number selfRef" data-dl-uid="2258" data-dl-original="true" data-dl-translated="true">21.4. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-tunnel-amplification-attack" class="section-name selfRef" data-dl-uid="2259" data-dl-original="true" data-dl-translated="true">トンネル増幅攻撃</a>       </h3>
<p id="section-21.4-1" data-dl-uid="2260" data-dl-original="true" data-dl-translated="true">攻撃者は、TURNサーバーとIPv4とIPv6の間のトンネルの間で、データパケットを何度もループさせようとするかもしれません。この攻撃は次のようなもの<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.4-1" class="pilcrow" data-dl-uid="2261" data-dl-original="true" data-dl-translated="true">です。</a></p>
<p id="section-21.4-2" data-dl-uid="2262" data-dl-original="true" data-dl-translated="true">ある攻撃者が、トンネルエンドポイントがあるIPv6アドレス（これは必ずしもトンネルエンドポイントのアドレスである必要はない）からのカプセル化パケットを転送することを知っているとする。そして、このアドレスから2つのパケットをスプーフィングしたとします<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.4-2" class="pilcrow" data-dl-uid="2263" data-dl-original="true" data-dl-translated="true">。</a></p>
<ol start="1" type="1" class="normal type-1" id="section-21.4-3">
          <li id="section-21.4-3.1" data-dl-uid="2264" data-dl-original="true" data-dl-translated="true">v4アドレスを要求するAllocateリクエスト、および<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.4-3.1" class="pilcrow" data-dl-uid="2265" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-21.4-3.2" data-dl-uid="2266" data-dl-original="true" data-dl-translated="true">トンネルエンドポイントのIPv4アドレスへのチャネルを確立するChannelBindリクエスト<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.4-3.2" class="pilcrow" data-dl-uid="2267" data-dl-original="true" data-dl-translated="true">。</a></li>
</ol>
<p id="section-21.4-4" data-dl-uid="2268" data-dl-original="true" data-dl-translated="true">そして、増幅攻撃を仕掛けてきました<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.4-4" class="pilcrow" data-dl-uid="2269" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<ul>
<li id="section-21.4-5.1" data-dl-uid="2270" data-dl-original="true" data-dl-translated="true">TURNサーバーは、IPv6のUDPデータをv4で再カプセル化し、トンネルエンドポイントに送信します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.4-5.1" class="pilcrow" data-dl-uid="2271" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-21.4-5.2" data-dl-uid="2272" data-dl-original="true" data-dl-translated="true">トンネルエンドポイントは、v4インターフェイスからのパケットのカプセル化を解除し、v6<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.4-5.2" class="pilcrow" data-dl-uid="2273" data-dl-original="true" data-dl-translated="true">.¶に</a>送信します。</li>
</ul>
<p id="section-21.4-6" data-dl-uid="2274" data-dl-original="true" data-dl-translated="true">そこで、攻撃者が次のような形式のパケットを送信した場合<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.4-6" class="pilcrow" data-dl-uid="2275" data-dl-original="true" data-dl-translated="true">、</a>¶。</p>
<figure id="figure-19">
          <div class="artwork art-text alignLeft" id="section-21.4-7.1">
<pre data-dl-uid="2276" data-dl-original="true" data-dl-translated="true">  IPv6: src=2001:DB8:1::1 dst=2001:DB8::2 UDP: &lt;ports&gt; TURN: &lt;channel id&gt; IPv6: src=2001:DB8:1::1 dst=2001:DB8::2 UDP:  &lt;ports&gt; TURN: &lt;channel id&gt; IPv6: src=2001:DB8:1::1 dst=2001:DB8::2 UDP: &lt;ports&gt; TURN: &lt;channel id&gt; ...</pre>
</div>
<figcaption data-dl-uid="2277" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#figure-19" class="selfRef" data-dl-uid="2278" data-dl-original="true" data-dl-translated="true">図19</a></figcaption></figure>
<p id="section-21.4-8" data-dl-uid="2279" data-dl-original="true" data-dl-translated="true">その後、TURNサーバーとトンネルエンドポイントは、最後のTURNヘッダーが消費されるまで、それを前後に送信し、その時点でTURNサーバーは、トンネルエンドポイントがドロップする空のパケットを送信します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.4-8" class="pilcrow" data-dl-uid="2280" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-21.4-9" data-dl-uid="2281" data-dl-original="true" data-dl-translated="true">IPv6+UDP+TURNで334バイトなので、1500バイトのパケットから4対1の増幅が可能である。しかし、攻撃者は複数のパケットを送信したり、同じトンネルエンドポイントの背後に異なるアドレスになりすました複数のチャネルを確立することによって、トラフィック量を増やすことができます<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.4-9" class="pilcrow" data-dl-uid="2282" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-21.4-10" data-dl-uid="2283" data-dl-original="true" data-dl-translated="true">この攻撃は、以下のように軽減されます。TURNサーバーは、トンネルされていることが分かっているアドレスからの割り当てやチャンネルバインディングのリクエストを受け入れないこと、そしてそのようなアドレスにデータを転送しないことが<span class="bcp14" data-dl-uid="2284" data-dl-original="true" data-dl-translated="true">推奨されます(RECOMMENDED</span>)。特に、TURNサーバーはこれらのリクエストでTeredoまたは6to4アドレスを受け入れては<span class="bcp14" data-dl-uid="2285" data-dl-original="true" data-dl-translated="true">ならない（MUST NOT</span>）<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.4-10" class="pilcrow" data-dl-uid="2286" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
<section id="section-21.5">
        <h3 id="name-other-considerations" data-dl-uid="2287" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.5" class="section-number selfRef" data-dl-uid="2288" data-dl-original="true" data-dl-translated="true">21.5. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-other-considerations" class="section-name selfRef" data-dl-uid="2289" data-dl-original="true" data-dl-translated="true">その他の考慮</a>事項        </h3>
<p id="section-21.5-1" data-dl-uid="2290" data-dl-original="true" data-dl-translated="true">Allocate 要求によって学習されたすべてのリレーアドレスは、トランスポートモードまたはトンネルモードの IPsec Authentication Header (AH)<span data-dl-uid="2291" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC4302" class="xref" data-dl-uid="2292" data-dl-original="true" data-dl-translated="true">RFC4302</a>]</span>で適切に動作しないだろう。しかし、トンネルモードのIPsec Encapsulating Security Payload (ESP) [<span data-dl-uid="2293" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#RFC4303" class="xref" data-dl-uid="2294" data-dl-original="true" data-dl-translated="true">RFC4303</a>]</span>はまだ動作するはずである<a href="https://www.rfc-editor.org/rfc/rfc8656#section-21.5-1" class="pilcrow" data-dl-uid="2295" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
</section>
</div>
<section id="section-22">
      <h2 id="name-iana-considerations" data-dl-uid="2296" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-22" class="section-number selfRef" data-dl-uid="2297" data-dl-original="true" data-dl-translated="true">22. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-iana-considerations" class="section-name selfRef" data-dl-uid="2298" data-dl-original="true" data-dl-translated="true">IANAに関する考察</a>     </h2>
<p id="section-22-1" data-dl-uid="2299" data-dl-original="true" data-dl-translated="true">本仕様で定義されるSTUNメソッドのコードポイントは、<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-stun-methods" class="xref" data-dl-uid="2300" data-dl-original="true" data-dl-translated="true">セクション17に</a>記載されています。IANAは、<span data-dl-uid="2301" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC5766" class="xref" data-dl-uid="2302" data-dl-original="true" data-dl-translated="true">RFC5766</a>]</span>からこの文書への参照を更新しました（<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-stun-methods" class="xref" data-dl-uid="2303" data-dl-original="true" data-dl-translated="true">セクション17に</a>記載されているSTUNメソッドについて）<a href="https://www.rfc-editor.org/rfc/rfc8656#section-22-1" class="pilcrow" data-dl-uid="2304" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-22-2" data-dl-uid="2305" data-dl-original="true" data-dl-translated="true">本仕様で定義されるSTUN属性のコードポイントは、<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-stun-attributes" class="xref" data-dl-uid="2306" data-dl-original="true" data-dl-translated="true">セクション18に</a>記載されている。IANAは、<span data-dl-uid="2307" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC5766" class="xref" data-dl-uid="2308" data-dl-original="true" data-dl-translated="true">RFC5766</a>]</span>から本文書への参照を更新した（<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-stun-attributes" class="xref" data-dl-uid="2309" data-dl-original="true" data-dl-translated="true">セクション18に</a>記載されているSTUN属性CHANNEL-NUMBER、LIFETIME、Reserved（BANDWIDTHだった）、XOR-PEER-Address、DATA、XOR-RELAYED-Address、Requested-Address-FAMILY、Even-Port、Requested-TRANSPORT、DONT-FRAGMENT、 Reserved（TIMER-VALだった）および RESERVATION-TOKEN）¶<a href="https://www.rfc-editor.org/rfc/rfc8656#section-22-2" class="pilcrow" data-dl-uid="2310" data-dl-original="true" data-dl-translated="true">.</a></p>
<p id="section-22-3" data-dl-uid="2311" data-dl-original="true" data-dl-translated="true">本仕様で定義されるSTUNエラーコードのコードポイントは、<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-stun-errors" class="xref" data-dl-uid="2312" data-dl-original="true" data-dl-translated="true">セクション19に</a>記載されています。IANAは、<span data-dl-uid="2313" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC5766" class="xref" data-dl-uid="2314" data-dl-original="true" data-dl-translated="true">RFC5766</a>]</span>と<span data-dl-uid="2315" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC6156" class="xref" data-dl-uid="2316" data-dl-original="true" data-dl-translated="true">RFC6156</a>]</span>からこの文書への参照を更新しました（<a href="https://www.rfc-editor.org/rfc/rfc8656#sec-stun-errors" class="xref" data-dl-uid="2317" data-dl-original="true" data-dl-translated="true">セクション19に</a>記載されたSTUNエラーコードのため<a href="https://www.rfc-editor.org/rfc/rfc8656#section-22-3" class="pilcrow" data-dl-uid="2318" data-dl-original="true" data-dl-translated="true">）。¶。</a></p>
<p id="section-22-4" data-dl-uid="2319" data-dl-original="true" data-dl-translated="true">IANAは、UDPまたはTCP上のTURNのSRVサービス名「turn」と、(D)TLS上のTURNのサービス名「turn」について、<span data-dl-uid="2320" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC5766" class="xref" data-dl-uid="2321" data-dl-original="true" data-dl-translated="true">RFC5766</a>]</span>の参照をこの文書に更新しました<a href="https://www.rfc-editor.org/rfc/rfc8656#section-22-4" class="pilcrow" data-dl-uid="2322" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-22-5" data-dl-uid="2323" data-dl-original="true" data-dl-translated="true">IANAは、TURNチャンネル番号のレジストリ（「Traversal Using Relays around NAT (TURN) Channel Numbers」レジストリ）を作成し、当初は以下のように登録されました<a href="https://www.rfc-editor.org/rfc/rfc8656#section-22-5" class="pilcrow" data-dl-uid="2324" data-dl-original="true" data-dl-translated="true">：¶。</a></p>
<div id="turn-channel-numbers">
<table class="center" id="table-6">
        <caption data-dl-uid="2325" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/rfc/rfc8656#table-6" class="selfRef" data-dl-uid="2326" data-dl-original="true" data-dl-translated="true">表6</a></caption>
<tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="2327" data-dl-original="true" data-dl-translated="true">0x0000から0x3FFFまで。</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="2328" data-dl-original="true" data-dl-translated="true">STUNヘッダと競合するため、予約して使用できない。</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="2329" data-dl-original="true" data-dl-translated="true">0x4000から0x4FFFまで。</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="2330" data-dl-original="true" data-dl-translated="true">TURN実装では、この範囲のチャンネル番号を自由に使用することができます。</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="2331" data-dl-original="true" data-dl-translated="true">0x5000から0xFFFFまで。</td>
            <td class="text-left" rowspan="1" colspan="1" data-dl-uid="2332" data-dl-original="true" data-dl-translated="true">Reserved (DTLS-SRTPの多重化衝突回避については、<span data-dl-uid="2333" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC7983" class="xref" data-dl-uid="2334" data-dl-original="true" data-dl-translated="true">RFC7983</a>]</span>を参照)</td>
          </tr>
        </tbody>
      </table>
</div>
<p id="section-22-7" data-dl-uid="2335" data-dl-original="true" data-dl-translated="true">このレジストリを変更する場合は、IETFの標準化活動を通じて行う必要があります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-22-7" class="pilcrow" data-dl-uid="2336" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<section id="section-23">
      <h2 id="name-iab-considerations" data-dl-uid="2337" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-23" class="section-number selfRef" data-dl-uid="2338" data-dl-original="true" data-dl-translated="true">23. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-iab-considerations" class="section-name selfRef" data-dl-uid="2339" data-dl-original="true" data-dl-translated="true">IABの検討事項</a>     </h2>
<p id="section-23-1" data-dl-uid="2340" data-dl-original="true" data-dl-translated="true">IABはUnilateral Self-Address Fixing (UNSAF)の問題を研究した。UNSAFとは、クライアントがNATの反対側にある別の領域で、協調的なプロトコル反映メカニズムを通じてアドレスを決定しようとする一般的なプロセスである<span data-dl-uid="2341" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC3424" class="xref" data-dl-uid="2342" data-dl-original="true" data-dl-translated="true">RFC3424</a></span>]。TURN拡張は、このタイプの機能を実行するプロトコルの一例である。IABは、この目的のために開発されたプロトコルは、特定の考慮事項のセットを文書化することを義務づけている。これらの考慮事項とTURNへの対応は、このセクションで文書化されている<a href="https://www.rfc-editor.org/rfc/rfc8656#section-23-1" class="pilcrow" data-dl-uid="2343" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-23-2" data-dl-uid="2344" data-dl-original="true" data-dl-translated="true">考慮点1：UNSAFの提案で解決しようとする具体的かつ限定的な範囲の問題を正確に定義すること。短期的な解決策を他の問題の解決に一般化すべきではない。そのような一般化は、想定される短期的な解決策への依存と使用を長期化させ、「短期的」と呼ぶことがもはや正確でないことを意味する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-23-2" class="pilcrow" data-dl-uid="2345" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-23-3" data-dl-uid="2346" data-dl-original="true" data-dl-translated="true">応答する。TURNは、リレー（＝TURNサーバー）とそのクライアントとの間の通信のためのプロトコルである。このプロトコルにより、NATの後ろにいるクライアントは、リレー上でパブリックIPアドレスを取得し、使用することができます。クライアントの利便性として、TURNはクライアントがサーバーの反射的なトランスポートアドレスを決定することも可能です<a href="https://www.rfc-editor.org/rfc/rfc8656#section-23-3" class="pilcrow" data-dl-uid="2347" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-23-4" data-dl-uid="2348" data-dl-original="true" data-dl-translated="true">検討事項2：出口戦略/移行計画の記述。短期的な解決策としては、適切な技術が導入されるにつれて、自然に使用頻度が減っていくようなものがよい<a href="https://www.rfc-editor.org/rfc/rfc8656#section-23-4" class="pilcrow" data-dl-uid="2349" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-23-5" data-dl-uid="2350" data-dl-original="true" data-dl-translated="true">対応する。NATがなくなれば、TURNは不要になります。しかし、Endpoint-Independent Mapping<span data-dl-uid="2351" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC4787" class="xref" data-dl-uid="2352" data-dl-original="true" data-dl-translated="true">RFC4787</a>]</span>のマッピング特性を持つNATの数が増えれば、TURNの必要性も減少するでしょう<a href="https://www.rfc-editor.org/rfc/rfc8656#section-23-5" class="pilcrow" data-dl-uid="2353" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-23-6" data-dl-uid="2354" data-dl-original="true" data-dl-translated="true">検討事項3：システムをより「もろい」ものにする可能性のある特定の問題について議論すること。例えば、複数のネットワーク層のデータを使用するアプローチは、より多くの依存関係を作成し、デバッグの課題を増加させ、移行を困難にする<a href="https://www.rfc-editor.org/rfc/rfc8656#section-23-6" class="pilcrow" data-dl-uid="2355" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-23-7" data-dl-uid="2356" data-dl-original="true" data-dl-translated="true">レスポンスです。TURNは、クライアントとサーバー間のNATバインディングを、割り当ての有効期間中、変更せずに維持することを要求するという点で、「もろい」ものです。これは通常、キープアライブを使用して行われます。これが行われないと、クライアントはその割り当てを失い、ピアとデータを交換することができなくなります<a href="https://www.rfc-editor.org/rfc/rfc8656#section-23-7" class="pilcrow" data-dl-uid="2357" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-23-8" data-dl-uid="2358" data-dl-original="true" data-dl-translated="true">考慮事項4：長期的で健全な技術的ソリューションの要件を特定し、適切な長期的ソリューションを見つけるプロセスに貢献する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-23-8" class="pilcrow" data-dl-uid="2359" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-23-9" data-dl-uid="2360" data-dl-original="true" data-dl-translated="true">レスポンスです。応答：TURNの必要性は、NATが<span data-dl-uid="2361" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC4787" class="xref" data-dl-uid="2362" data-dl-original="true" data-dl-translated="true">RFC4787</a>]</span>に記載されているNAT UDPの動作に関する推奨事項を実装すれば、減少することになります。ICEはTURNを使用しますが、それは最後の手段としてのみであり、制御された方法で使用します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-23-9" class="pilcrow" data-dl-uid="2365" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-23-10" data-dl-uid="2366" data-dl-original="true" data-dl-translated="true">検討5：指摘された現実的な問題点を、既存の配備されたNATや経験報告書に与える影響について検討する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-23-10" class="pilcrow" data-dl-uid="2367" data-dl-original="true" data-dl-translated="true">¶。</a></p>
<p id="section-23-11" data-dl-uid="2368" data-dl-original="true" data-dl-translated="true">レスポンスです。現在導入されているNATの中には、Endpoint-Independentマッピング以外のマッピング動作を示すものがあります。このようなNATは、ICEのようなプロトコルがNAT上でサーバー反射型トランスポート アドレスを使用することを困難または不可能にするため、動作が困難となる。このようなNATの背後にいるクライアントは、「UDPホールパンチング」技術<span data-dl-uid="2369" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC5128" class="xref" data-dl-uid="2370" data-dl-original="true" data-dl-translated="true">RFC5128</a></span>]が機能しないため、TURNのようなリレープロトコルを使用せざるを得ないことが多い<a href="https://www.rfc-editor.org/rfc/rfc8656#section-23-11" class="pilcrow" data-dl-uid="2371" data-dl-original="true" data-dl-translated="true">¶。</a></p>
</section>
<section id="section-24">
      <h2 id="name-changes-since-rfc-5766" data-dl-uid="2372" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-24" class="section-number selfRef" data-dl-uid="2373" data-dl-original="true" data-dl-translated="true">24. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-changes-since-rfc-5766" class="section-name selfRef" data-dl-uid="2374" data-dl-original="true" data-dl-translated="true">RFC 5766以降の変更点</a>     </h2>
<p id="section-24-1" data-dl-uid="2375" data-dl-original="true" data-dl-translated="true">このセクションでは、オリジナルの<span data-dl-uid="2376" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC5766" class="xref" data-dl-uid="2377" data-dl-original="true" data-dl-translated="true">RFC5766</a>]</span>仕様からのTURNプロトコルの主な変更点を列挙します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-24-1" class="pilcrow" data-dl-uid="2378" data-dl-original="true" data-dl-translated="true">。</a></p>
<ul>
<li id="section-24-2.1" data-dl-uid="2379" data-dl-original="true" data-dl-translated="true">IPv6対応<a href="https://www.rfc-editor.org/rfc/rfc8656#section-24-2.1" class="pilcrow" data-dl-uid="2380" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-24-2.2" data-dl-uid="2381" data-dl-original="true" data-dl-translated="true">REQUESTED-ADDRESS-FAMILY 属性は、<a href="https://www.rfc-editor.org/rfc/rfc8656#section-24-2.2" class="pilcrow" data-dl-uid="2382" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-24-2.3" data-dl-uid="2383" data-dl-original="true" data-dl-translated="true">トンネル増幅攻撃の説明<a href="https://www.rfc-editor.org/rfc/rfc8656#section-24-2.3" class="pilcrow" data-dl-uid="2384" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-24-2.4" data-dl-uid="2385" data-dl-original="true" data-dl-translated="true">DTLS対応<a href="https://www.rfc-editor.org/rfc/rfc8656#section-24-2.4" class="pilcrow" data-dl-uid="2386" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-24-2.5" data-dl-uid="2387" data-dl-original="true" data-dl-translated="true">ICMPパケット受信のサポートを追加する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-24-2.5" class="pilcrow" data-dl-uid="2388" data-dl-original="true" data-dl-translated="true">。</a></li>
<li id="section-24-2.6" data-dl-uid="2389" data-dl-original="true" data-dl-translated="true">アップデートPMTUD<a href="https://www.rfc-editor.org/rfc/rfc8656#section-24-2.6" class="pilcrow" data-dl-uid="2390" data-dl-original="true" data-dl-translated="true">.¶の</a></li>
<li id="section-24-2.7" data-dl-uid="2391" data-dl-original="true" data-dl-translated="true">TURNサーバーの発見<a href="https://www.rfc-editor.org/rfc/rfc8656#section-24-2.7" class="pilcrow" data-dl-uid="2392" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-24-2.8" data-dl-uid="2393" data-dl-original="true" data-dl-translated="true">TURN URIスキームのセマンティクス<a href="https://www.rfc-editor.org/rfc/rfc8656#section-24-2.8" class="pilcrow" data-dl-uid="2394" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-24-2.9" data-dl-uid="2395" data-dl-original="true" data-dl-translated="true">TURN<a href="https://www.rfc-editor.org/rfc/rfc8656#section-24-2.9" class="pilcrow" data-dl-uid="2396" data-dl-original="true" data-dl-translated="true">.</a>¶のハッピーアイボール</li>
<li id="section-24-2.10" data-dl-uid="2397" data-dl-original="true" data-dl-translated="true">STUN<span data-dl-uid="2398" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC8489" class="xref" data-dl-uid="2399" data-dl-original="true" data-dl-translated="true">RFC8489</a>]</span>の変更と整合させる<a href="https://www.rfc-editor.org/rfc/rfc8656#section-24-2.10" class="pilcrow" data-dl-uid="2400" data-dl-original="true" data-dl-translated="true">。</a></li>
</ul>
</section>
<section id="section-25">
      <h2 id="name-updates-to-rfc-6156" data-dl-uid="2401" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-25" class="section-number selfRef" data-dl-uid="2402" data-dl-original="true" data-dl-translated="true">25. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-updates-to-rfc-6156" class="section-name selfRef" data-dl-uid="2403" data-dl-original="true" data-dl-translated="true">RFC6156の更新について</a>     </h2>
<p id="section-25-1" data-dl-uid="2404" data-dl-original="true" data-dl-translated="true">このセクションでは、本仕様における<span data-dl-uid="2405" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC6156" class="xref" data-dl-uid="2406" data-dl-original="true" data-dl-translated="true">RFC6156</a>]</span>の主な更新内容を示します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-25-1" class="pilcrow" data-dl-uid="2407" data-dl-original="true" data-dl-translated="true">。</a></p>
<ul>
<li id="section-25-2.1" data-dl-uid="2408" data-dl-original="true" data-dl-translated="true">ADDITIONAL-ADDRESS-FAMILY および ADDRESS-ERROR-CODE 属性は、<a href="https://www.rfc-editor.org/rfc/rfc8656#section-25-2.1" class="pilcrow" data-dl-uid="2409" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-25-2.2" data-dl-uid="2410" data-dl-original="true" data-dl-translated="true">440（アドレスファミリーがサポートされていない）および443（ピアアドレスファミリーの不一致）レスポンス<a href="https://www.rfc-editor.org/rfc/rfc8656#section-25-2.2" class="pilcrow" data-dl-uid="2411" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-25-2.3" data-dl-uid="2412" data-dl-original="true" data-dl-translated="true">パケット通信の詳細はこちら<a href="https://www.rfc-editor.org/rfc/rfc8656#section-25-2.3" class="pilcrow" data-dl-uid="2413" data-dl-original="true" data-dl-translated="true">¶。</a></li>
<li id="section-25-2.4" data-dl-uid="2414" data-dl-original="true" data-dl-translated="true">TCPからUDP、UDPからTCPの中継を行うこと<a href="https://www.rfc-editor.org/rfc/rfc8656#section-25-2.4" class="pilcrow" data-dl-uid="2415" data-dl-original="true" data-dl-translated="true">。</a></li>
</ul>
</section>
<section id="section-26">
      <h2 id="name-references" data-dl-uid="2416" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-26" class="section-number selfRef" data-dl-uid="2417" data-dl-original="true" data-dl-translated="true">26. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-references" class="section-name selfRef" data-dl-uid="2418" data-dl-original="true" data-dl-translated="true">参考資料</a>     </h2>
<section id="section-26.1">
        <h3 id="name-normative-references" data-dl-uid="2419" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-26.1" class="section-number selfRef" data-dl-uid="2420" data-dl-original="true" data-dl-translated="true">26.1. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-normative-references" class="section-name selfRef" data-dl-uid="2421" data-dl-original="true" data-dl-translated="true">規範となる参考文献</a>       </h3>
<dl class="references">
<dt id="PROTOCOL-NUMBERS" data-dl-uid="2422" data-dl-original="true" data-dl-translated="true">[プロトコル番号]</dt>
<dd data-dl-uid="2423" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2424" data-dl-original="true" data-dl-translated="true">IANA</span>,<span class="refTitle" data-dl-uid="2425" data-dl-original="true" data-dl-translated="true">"Protocol Numbers"</span>,<time data-dl-uid="2426" data-dl-original="true" data-dl-translated="true"></time>,<span data-dl-uid="2427" data-dl-original="true" data-dl-translated="true"><a href="https://www.iana.org/assignments/protocol-numbers" data-dl-uid="2428" data-dl-original="true" data-dl-translated="true">&lt;https://www.iana.org/assignments/protocol-numbers&gt;.</a></span></dd>
<dt id="RFC0792" data-dl-uid="2429" data-dl-original="true" data-dl-translated="true">[RFC0792】を参照してください。］</dt>
<dd data-dl-uid="2430" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2431" data-dl-original="true" data-dl-translated="true">Postel, J.</span>,<span class="refTitle" data-dl-uid="2432" data-dl-original="true" data-dl-translated="true">"Internet Control Message Protocol"</span>,<span class="seriesInfo" data-dl-uid="2433" data-dl-original="true" data-dl-translated="true">STD 5</span>,<span class="seriesInfo" data-dl-uid="2434" data-dl-original="true" data-dl-translated="true">RFC 792</span>,<span class="seriesInfo" data-dl-uid="2435" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC0792</span>,<time datetime="1981-09" data-dl-uid="2436" data-dl-original="true" data-dl-translated="true">September 1981</time>,<span data-dl-uid="2437" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc792" data-dl-uid="2438" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc792&gt;.</a></span></dd>
<dt id="RFC1122" data-dl-uid="2439" data-dl-original="true" data-dl-translated="true">[RFC1122】を参照してください。］</dt>
<dd data-dl-uid="2440" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2441" data-dl-original="true" data-dl-translated="true">Braden, R., Ed</span>.,<span class="refTitle" data-dl-uid="2442" data-dl-original="true" data-dl-translated="true">"Requirements for Internet Hosts - Communication Layers"</span>,<span class="seriesInfo" data-dl-uid="2443" data-dl-original="true" data-dl-translated="true">STD 3</span>,<span class="seriesInfo" data-dl-uid="2444" data-dl-original="true" data-dl-translated="true">RFC 1122</span>,<span class="seriesInfo" data-dl-uid="2445" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC1122</span>,<time datetime="1989-10" data-dl-uid="2446" data-dl-original="true" data-dl-translated="true">October 1989</time>,<span data-dl-uid="2447" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc1122" data-dl-uid="2448" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc1122&gt;.</a></span></dd>
<dt id="RFC2119" data-dl-uid="2449" data-dl-original="true" data-dl-translated="true">[RFC2119] を参照してください。</dt>
<dd data-dl-uid="2450" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2451" data-dl-original="true" data-dl-translated="true">Bradner, S.</span>,<span class="refTitle" data-dl-uid="2452" data-dl-original="true" data-dl-translated="true">"Key words for use in RFC to Indicate Requirement Levels"</span>,<span class="seriesInfo" data-dl-uid="2453" data-dl-original="true" data-dl-translated="true">BCP 14</span>,<span class="seriesInfo" data-dl-uid="2454" data-dl-original="true" data-dl-translated="true">RFC 2119</span>,<span class="seriesInfo" data-dl-uid="2455" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC2119</span>,<time datetime="1997-03" data-dl-uid="2456" data-dl-original="true" data-dl-translated="true">March 1997</time>,<span data-dl-uid="2457" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc2119" data-dl-uid="2458" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc2119&gt;.</a></span></dd>
<dt id="RFC2474" data-dl-uid="2459" data-dl-original="true" data-dl-translated="true">[RFC2474】を参照してください。］</dt>
<dd data-dl-uid="2460" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2461" data-dl-original="true" data-dl-translated="true">Nichols, K.</span>,<span class="refAuthor" data-dl-uid="2462" data-dl-original="true" data-dl-translated="true"> Blake, S.</span><span class="refAuthor" data-dl-uid="2463" data-dl-original="true" data-dl-translated="true">, Baker, F.,</span><span class="refAuthor" data-dl-uid="2464" data-dl-original="true" data-dl-translated="true"> and D. Black</span>,<span class="refTitle" data-dl-uid="2465" data-dl-original="true" data-dl-translated="true">"Definition of Differentiated Services Field (DS Field in IPv4 and IPv6 Headers)"</span>,<span class="seriesInfo" data-dl-uid="2466" data-dl-original="true" data-dl-translated="true">RFC 2474</span>,<span class="seriesInfo" data-dl-uid="2467" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC2474</span>,<time datetime="1998-12" data-dl-uid="2468" data-dl-original="true" data-dl-translated="true">December 1998</time>,<span data-dl-uid="2469" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc2474" data-dl-uid="2470" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc2474&gt;.</a></span></dd>
<dt id="RFC3168" data-dl-uid="2471" data-dl-original="true" data-dl-translated="true">[RFC3168】を参照してください。］</dt>
<dd data-dl-uid="2472" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2473" data-dl-original="true" data-dl-translated="true">Ramakrishnan, K.</span><span class="refAuthor" data-dl-uid="2474" data-dl-original="true" data-dl-translated="true">, Floyd, S.</span><span class="refAuthor" data-dl-uid="2475" data-dl-original="true" data-dl-translated="true">, and D. Black</span>,<span class="refTitle" data-dl-uid="2476" data-dl-original="true" data-dl-translated="true">"The Addition of Explicit Congestion Notification (ECN) to IP"</span>,<span class="seriesInfo" data-dl-uid="2477" data-dl-original="true" data-dl-translated="true">RFC 3168</span>,<span class="seriesInfo" data-dl-uid="2478" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC3168</span>,<time datetime="2001-09" data-dl-uid="2479" data-dl-original="true" data-dl-translated="true">September 2001</time>,<span data-dl-uid="2480" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc3168" data-dl-uid="2481" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc3168&gt;.</a></span></dd>
<dt id="RFC3629" data-dl-uid="2482" data-dl-original="true" data-dl-translated="true">[RFC3629] を参照してください。</dt>
<dd data-dl-uid="2483" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2484" data-dl-original="true" data-dl-translated="true">Yergeau, F.</span>,<span class="refTitle" data-dl-uid="2485" data-dl-original="true" data-dl-translated="true">"UTF-8, a transformation format of ISO 10646"</span>,<span class="seriesInfo" data-dl-uid="2486" data-dl-original="true" data-dl-translated="true">STD 63</span>,<span class="seriesInfo" data-dl-uid="2487" data-dl-original="true" data-dl-translated="true">RFC 3629</span>,<span class="seriesInfo" data-dl-uid="2488" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC3629</span>,<time datetime="2003-11" data-dl-uid="2489" data-dl-original="true" data-dl-translated="true">November 2003</time>,<span data-dl-uid="2490" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc3629" data-dl-uid="2491" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc3629&gt;.</a></span></dd>
<dt id="RFC4443" data-dl-uid="2492" data-dl-original="true" data-dl-translated="true">[RFC4443】を参照してください。］</dt>
<dd data-dl-uid="2493" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2494" data-dl-original="true" data-dl-translated="true">Conta, A.</span><span class="refAuthor" data-dl-uid="2495" data-dl-original="true" data-dl-translated="true">, Deering, S.</span><span class="refAuthor" data-dl-uid="2496" data-dl-original="true" data-dl-translated="true">, and M. Gupta, Ed</span>.,<span class="refTitle" data-dl-uid="2497" data-dl-original="true" data-dl-translated="true">"Internet Control Message Protocol (ICMPv6) for Internet Protocol Version 6 (IPv6 Specification)"</span>,<span class="seriesInfo" data-dl-uid="2498" data-dl-original="true" data-dl-translated="true">STD 89</span>,<span class="seriesInfo" data-dl-uid="2499" data-dl-original="true" data-dl-translated="true">RFC 4443</span>,<span class="seriesInfo" data-dl-uid="2500" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC4443</span>,<time datetime="2006-03" data-dl-uid="2501" data-dl-original="true" data-dl-translated="true">March 2006</time>,<span data-dl-uid="2502" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc4443" data-dl-uid="2503" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc4443&gt;.</a></span></dd>
<dt id="RFC6347" data-dl-uid="2504" data-dl-original="true" data-dl-translated="true">[RFC6347】を参照してください。］</dt>
<dd data-dl-uid="2505" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2506" data-dl-original="true" data-dl-translated="true">Rescorla, E.</span><span class="refAuthor" data-dl-uid="2507" data-dl-original="true" data-dl-translated="true"> and N. Modadugu</span>,<span class="refTitle" data-dl-uid="2508" data-dl-original="true" data-dl-translated="true">"Datagram Transport Layer Security Version 1.2"</span>,<span class="seriesInfo" data-dl-uid="2509" data-dl-original="true" data-dl-translated="true">RFC 6347</span>,<span class="seriesInfo" data-dl-uid="2510" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC6347</span>,<time datetime="2012-01" data-dl-uid="2511" data-dl-original="true" data-dl-translated="true">January 2012</time>,<span data-dl-uid="2512" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc6347" data-dl-uid="2513" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc6347&gt;.</a></span></dd>
<dt id="RFC6437">[RFC6437]</dt>
<dd>
<span class="refAuthor">Amante, S.</span><span class="refAuthor">, Carpenter, B.</span><span class="refAuthor">, Jiang, S.</span><span class="refAuthor">, and J. Rajahalme</span>, <span class="refTitle">"IPv6 Flow Label Specification"</span>, <span class="seriesInfo">RFC 6437</span>, <span class="seriesInfo">DOI 10.17487/RFC6437</span>, <time datetime="2011-11">November 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6437">https://www.rfc-editor.org/info/rfc6437</a>&gt;</span>. </dd>
<dt id="RFC7065">[RFC7065]</dt>
<dd>
<span class="refAuthor">Petit-Huguenin, M.</span><span class="refAuthor">, Nandakumar, S.</span><span class="refAuthor">, Salgueiro, G.</span><span class="refAuthor">, and P. Jones</span>, <span class="refTitle">"Traversal Using Relays around NAT (TURN) Uniform Resource Identifiers"</span>, <span class="seriesInfo">RFC 7065</span>, <span class="seriesInfo">DOI 10.17487/RFC7065</span>, <time datetime="2013-11">November 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7065">https://www.rfc-editor.org/info/rfc7065</a>&gt;</span>. </dd>
<dt id="RFC7350">[RFC7350]</dt>
<dd>
<span class="refAuthor">Petit-Huguenin, M.</span><span class="refAuthor"> and G. Salgueiro</span>, <span class="refTitle">"Datagram Transport Layer Security (DTLS) as Transport for Session Traversal Utilities for NAT (STUN)"</span>, <span class="seriesInfo">RFC 7350</span>, <span class="seriesInfo">DOI 10.17487/RFC7350</span>, <time datetime="2014-08">August 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7350">https://www.rfc-editor.org/info/rfc7350</a>&gt;</span>. </dd>
<dt id="RFC7525">[RFC7525]</dt>
<dd>
<span class="refAuthor">Sheffer, Y.</span><span class="refAuthor">, Holz, R.</span><span class="refAuthor">, and P. Saint-Andre</span>, <span class="refTitle">"Recommendations for Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer Security (DTLS)"</span>, <span class="seriesInfo">BCP 195</span>, <span class="seriesInfo">RFC 7525</span>, <span class="seriesInfo">DOI 10.17487/RFC7525</span>, <time datetime="2015-05">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7525">https://www.rfc-editor.org/info/rfc7525</a>&gt;</span>. </dd>
<dt id="RFC7915">[RFC7915]</dt>
<dd>
<span class="refAuthor">Bao, C.</span><span class="refAuthor">, Li, X.</span><span class="refAuthor">, Baker, F.</span><span class="refAuthor">, Anderson, T.</span><span class="refAuthor">, and F. Gont</span>, <span class="refTitle">"IP/ICMP Translation Algorithm"</span>, <span class="seriesInfo">RFC 7915</span>, <span class="seriesInfo">DOI 10.17487/RFC7915</span>, <time datetime="2016-06">June 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7915">https://www.rfc-editor.org/info/rfc7915</a>&gt;</span>. </dd>
<dt id="RFC7982">[RFC7982]</dt>
<dd>
<span class="refAuthor">Martinsen, P.</span><span class="refAuthor">, Reddy, T.</span><span class="refAuthor">, Wing, D.</span><span class="refAuthor">, and V. Singh</span>, <span class="refTitle">"Measurement of Round-Trip Time and Fractional Loss Using Session Traversal Utilities for NAT (STUN)"</span>, <span class="seriesInfo">RFC 7982</span>, <span class="seriesInfo">DOI 10.17487/RFC7982</span>, <time datetime="2016-09">September 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7982">https://www.rfc-editor.org/info/rfc7982</a>&gt;</span>. </dd>
<dt id="RFC8174">[RFC8174]</dt>
<dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dt id="RFC8200">[RFC8200]</dt>
<dd>
<span class="refAuthor">Deering, S.</span><span class="refAuthor"> and R. Hinden</span>, <span class="refTitle">"Internet Protocol, Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 86</span>, <span class="seriesInfo">RFC 8200</span>, <span class="seriesInfo">DOI 10.17487/RFC8200</span>, <time datetime="2017-07">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8200">https://www.rfc-editor.org/info/rfc8200</a>&gt;</span>. </dd>
<dt id="RFC8305">[RFC8305]</dt>
<dd>
<span class="refAuthor">Schinazi, D.</span><span class="refAuthor"> and T. Pauly</span>, <span class="refTitle">"Happy Eyeballs Version 2: Better Connectivity Using Concurrency"</span>, <span class="seriesInfo">RFC 8305</span>, <span class="seriesInfo">DOI 10.17487/RFC8305</span>, <time datetime="2017-12">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8305">https://www.rfc-editor.org/info/rfc8305</a>&gt;</span>. </dd>
<dt id="RFC8446">[RFC8446]</dt>
<dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.3"</span>, <span class="seriesInfo">RFC 8446</span>, <span class="seriesInfo">DOI 10.17487/RFC8446</span>, <time datetime="2018-08">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8446">https://www.rfc-editor.org/info/rfc8446</a>&gt;</span>. </dd>
<dt id="RFC8489">[RFC8489]</dt>
<dd>
<span class="refAuthor">Petit-Huguenin, M.</span><span class="refAuthor">, Salgueiro, G.</span><span class="refAuthor">, Rosenberg, J.</span><span class="refAuthor">, Wing, D.</span><span class="refAuthor">, Mahy, R.</span><span class="refAuthor">, and P. Matthews</span>, <span class="refTitle">"Session Traversal Utilities for NAT (STUN)"</span>, <span class="seriesInfo">RFC 8489</span>, <span class="seriesInfo">DOI 10.17487/RFC8489</span>, <time datetime="2020-02">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8489">https://www.rfc-editor.org/info/rfc8489</a>&gt;</span>. </dd>
</dl>
</section>
<section id="section-26.2">
        <h3 id="name-informative-references">
<a href="https://www.rfc-editor.org/rfc/rfc8656#section-26.2" class="section-number selfRef">26.2. </a><a href="https://www.rfc-editor.org/rfc/rfc8656#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-intarea-frag-fragile">[FRAG-FRAGILE]</dt>
<dd>
<span class="refAuthor">Bonica, R.</span><span class="refAuthor">, Baker, F.</span><span class="refAuthor">, Huston, G.</span><span class="refAuthor">, Hinden, R.</span><span class="refAuthor">, Troan, O.</span><span class="refAuthor">, and F. Gont</span>, <span class="refTitle">"IP Fragmentation Considered Fragile"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-intarea-frag-fragile-17</span>, <time datetime="2019-09-30">30 September 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-intarea-frag-fragile-17">https://tools.ietf.org/html/draft-ietf-intarea-frag-fragile-17</a>&gt;</span>. </dd>
<dt id="FRAG-HARMFUL">[FRAG-HARMFUL]</dt>
<dd>
<span class="refAuthor">Kent, C.</span><span class="refAuthor"> and J. Mogul</span>, <span class="refTitle">"Fragmentation Considered Harmful"</span>, <time datetime="1987-12">December 1987</time>, <span>&lt;<a href="https://www.hpl.hp.com/techreports/Compaq-DEC/WRL-87-3.pdf">https://www.hpl.hp.com/techreports/Compaq-DEC/WRL-87-3.pdf</a>&gt;</span>. </dd>
<dt id="I-D.ietf-tsvwg-datagram-plpmtud">[MTU-DATAGRAM]</dt>
<dd>
<span class="refAuthor">Fairhurst, G.</span><span class="refAuthor">, Jones, T.</span><span class="refAuthor">, Tuexen, M.</span><span class="refAuthor">, Ruengeler, I.</span><span class="refAuthor">, and T. Voelker</span>, <span class="refTitle">"Packetization Layer Path MTU Discovery for Datagram Transports"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-tsvwg-datagram-plpmtud-14</span>, <time datetime="2020-02-12">12 February 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-tsvwg-datagram-plpmtud-14">https://tools.ietf.org/html/draft-ietf-tsvwg-datagram-plpmtud-14</a>&gt;</span>. </dd>
<dt id="I-D.ietf-tram-stun-pmtud">[MTU-STUN]</dt>
<dd>
<span class="refAuthor">Petit-Huguenin, M.</span><span class="refAuthor">, Salgueiro, G.</span><span class="refAuthor">, and F. Garrido</span>, <span class="refTitle">"Packetization Layer Path MTU Discovery (PLMTUD) For UDP Transports Using Session Traversal Utilities for NAT (STUN)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-tram-stun-pmtud-15</span>, <time datetime="2019-12-17">17 December 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-tram-stun-pmtud-15">https://tools.ietf.org/html/draft-ietf-tram-stun-pmtud-15</a>&gt;</span>. </dd>
<dt id="PORT-NUMBERS">[PORT-NUMBERS]</dt>
<dd data-dl-uid="2514" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2515" data-dl-original="true" data-dl-translated="true">IANA</span>,<span class="refTitle" data-dl-uid="2516" data-dl-original="true" data-dl-translated="true">"Service Name and Transport Protocol Port Number Registry"</span>,<time data-dl-uid="2517" data-dl-original="true" data-dl-translated="true"></time>,<span data-dl-uid="2518" data-dl-original="true" data-dl-translated="true"><a href="https://www.iana.org/assignments/port-numbers" data-dl-uid="2519" data-dl-original="true" data-dl-translated="true">&lt;https://www.iana.org/assignments/port-numbers&gt;.</a></span></dd>
<dt id="RFC0791" data-dl-uid="2520" data-dl-original="true" data-dl-translated="true">[RFC0791] を参照してください。</dt>
<dd data-dl-uid="2521" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2522" data-dl-original="true" data-dl-translated="true">Postel, J.</span>,<span class="refTitle" data-dl-uid="2523" data-dl-original="true" data-dl-translated="true">"Internet Protocol"</span>,<span class="seriesInfo" data-dl-uid="2524" data-dl-original="true" data-dl-translated="true">STD 5</span>,<span class="seriesInfo" data-dl-uid="2525" data-dl-original="true" data-dl-translated="true">RFC 791</span>,<span class="seriesInfo" data-dl-uid="2526" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC0791</span>,<time datetime="1981-09" data-dl-uid="2527" data-dl-original="true" data-dl-translated="true">September 1981</time>,<span data-dl-uid="2528" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc791" data-dl-uid="2529" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc791&gt;.</a></span></dd>
<dt id="RFC1191" data-dl-uid="2530" data-dl-original="true" data-dl-translated="true">[RFC1191】を参照してください。］</dt>
<dd data-dl-uid="2531" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2532" data-dl-original="true" data-dl-translated="true">Mogul, J.</span><span class="refAuthor" data-dl-uid="2533" data-dl-original="true" data-dl-translated="true"> and S. Deering</span>,<span class="refTitle" data-dl-uid="2534" data-dl-original="true" data-dl-translated="true">"Path MTU discovery"</span>,<span class="seriesInfo" data-dl-uid="2535" data-dl-original="true" data-dl-translated="true">RFC 1191</span>,<span class="seriesInfo" data-dl-uid="2536" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC1191</span>,<time datetime="1990-11" data-dl-uid="2537" data-dl-original="true" data-dl-translated="true">November 1990</time>,<span data-dl-uid="2538" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc1191" data-dl-uid="2539" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc1191&gt;.</a></span></dd>
<dt id="RFC1918" data-dl-uid="2540" data-dl-original="true" data-dl-translated="true">[RFC1918】を参照してください。］</dt>
<dd data-dl-uid="2541" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2542" data-dl-original="true" data-dl-translated="true">Rekhter, Y.</span>,<span class="refAuthor" data-dl-uid="2543" data-dl-original="true" data-dl-translated="true"> Moskowitz, B.</span>,<span class="refAuthor" data-dl-uid="2544" data-dl-original="true" data-dl-translated="true"> Karrenberg, D.</span><span class="refAuthor" data-dl-uid="2545" data-dl-original="true" data-dl-translated="true">, de Groot, G. J</span>.,<span class="refAuthor" data-dl-uid="2546" data-dl-original="true" data-dl-translated="true"> and E. Lear</span>,<span class="refTitle" data-dl-uid="2547" data-dl-original="true" data-dl-translated="true">"Address Allocation for Private Internets"</span>,<span class="seriesInfo" data-dl-uid="2548" data-dl-original="true" data-dl-translated="true">BCP 5</span>,<span class="seriesInfo" data-dl-uid="2549" data-dl-original="true" data-dl-translated="true">RFC 1918</span>,<span class="seriesInfo" data-dl-uid="2550" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC1918</span>,<time datetime="1996-02" data-dl-uid="2551" data-dl-original="true" data-dl-translated="true">February 1996</time>,<span data-dl-uid="2552" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc1918" data-dl-uid="2553" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc1918&gt;.</a></span></dd>
<dt id="RFC1928" data-dl-uid="2554" data-dl-original="true" data-dl-translated="true">[RFC1928】に掲載されています。］</dt>
<dd data-dl-uid="2555" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2556" data-dl-original="true" data-dl-translated="true">Leech, M.</span>,<span class="refAuthor" data-dl-uid="2557" data-dl-original="true" data-dl-translated="true"> Ganis, M</span>.,<span class="refAuthor" data-dl-uid="2558" data-dl-original="true" data-dl-translated="true"> Lee, Y</span>.,<span class="refAuthor" data-dl-uid="2559" data-dl-original="true" data-dl-translated="true"> Kuris, R</span>.<span class="refAuthor" data-dl-uid="2560" data-dl-original="true" data-dl-translated="true">, Koblas, D.,</span><span class="refAuthor" data-dl-uid="2561" data-dl-original="true" data-dl-translated="true"> and L. Jones</span>,<span class="refTitle" data-dl-uid="2562" data-dl-original="true" data-dl-translated="true">"SOCKS Protocol Version 5"</span>,<span class="seriesInfo" data-dl-uid="2563" data-dl-original="true" data-dl-translated="true">RFC 1928</span>,<span class="seriesInfo" data-dl-uid="2564" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC1928</span>,<time datetime="1996-03" data-dl-uid="2565" data-dl-original="true" data-dl-translated="true">March 1996</time>,<span data-dl-uid="2566" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc1928" data-dl-uid="2567" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc1928&gt;.</a></span></dd>
<dt id="RFC3261" data-dl-uid="2568" data-dl-original="true" data-dl-translated="true">[RFC3261】を参照してください。］</dt>
<dd data-dl-uid="2569" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2570" data-dl-original="true" data-dl-translated="true">Rosenberg, J.</span><span class="refAuthor" data-dl-uid="2571" data-dl-original="true" data-dl-translated="true">, Schulzrinne, H.</span>,<span class="refAuthor" data-dl-uid="2572" data-dl-original="true" data-dl-translated="true"> Camarillo, G</span>.,<span class="refAuthor" data-dl-uid="2573" data-dl-original="true" data-dl-translated="true"> Johnston, A</span>.,<span class="refAuthor" data-dl-uid="2574" data-dl-original="true" data-dl-translated="true"> Peterson, J.</span><span class="refAuthor" data-dl-uid="2575" data-dl-original="true" data-dl-translated="true">, Sparks, R</span>.,<span class="refAuthor" data-dl-uid="2576" data-dl-original="true" data-dl-translated="true"> Handley, M.</span>,<span class="refAuthor" data-dl-uid="2577" data-dl-original="true" data-dl-translated="true"> and E. Schooler</span>,<span class="refTitle" data-dl-uid="2578" data-dl-original="true" data-dl-translated="true">"SIP</span>:<span data-dl-uid="2578" data-dl-translated="true">Session Initiation Protocol"</span>,<span class="seriesInfo" data-dl-uid="2579" data-dl-original="true" data-dl-translated="true">RFC 3261</span>,<span class="seriesInfo" data-dl-uid="2580" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC3261</span>,<time datetime="2002-06" data-dl-uid="2581" data-dl-original="true" data-dl-translated="true">June 2002</time>,<span data-dl-uid="2582" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc3261" data-dl-uid="2583" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc3261&gt;.</a></span></dd>
<dt id="RFC3424" data-dl-uid="2584" data-dl-original="true" data-dl-translated="true">[RFC3424】を参照してください。］</dt>
<dd data-dl-uid="2585" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2586" data-dl-original="true" data-dl-translated="true">Daigle, L., Ed.</span><span class="refAuthor" data-dl-uid="2587" data-dl-original="true" data-dl-translated="true"> and IAB</span>,<span class="refTitle" data-dl-uid="2588" data-dl-original="true" data-dl-translated="true">"IAB Considerations for UNilateral Self-Address Fixing (UNSAF) Across Network Address Translation"</span>,<span class="seriesInfo" data-dl-uid="2589" data-dl-original="true" data-dl-translated="true">RFC 3424</span>,<span class="seriesInfo" data-dl-uid="2590" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC3424</span>,<time datetime="2002-11" data-dl-uid="2591" data-dl-original="true" data-dl-translated="true">November 2002</time>,<span data-dl-uid="2592" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc3424" data-dl-uid="2593" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc3424&gt;.</a></span></dd>
<dt id="RFC3550" data-dl-uid="2594" data-dl-original="true" data-dl-translated="true">[RFC3550】を参照してください。］</dt>
<dd data-dl-uid="2595" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2596" data-dl-original="true" data-dl-translated="true">Schulzrinne, H.</span><span class="refAuthor" data-dl-uid="2597" data-dl-original="true" data-dl-translated="true">, Casner, S.</span><span class="refAuthor" data-dl-uid="2598" data-dl-original="true" data-dl-translated="true">, Frederick, R.</span>,<span class="refAuthor" data-dl-uid="2599" data-dl-original="true" data-dl-translated="true"> and V.Jacobson</span>,<span class="refTitle" data-dl-uid="2600" data-dl-original="true" data-dl-translated="true">"RTP:A Transport Protocol for Real-Time Applications"</span>,<span class="seriesInfo" data-dl-uid="2601" data-dl-original="true" data-dl-translated="true">STD 64</span>,<span class="seriesInfo" data-dl-uid="2602" data-dl-original="true" data-dl-translated="true">RFC 3550</span>,<span class="seriesInfo" data-dl-uid="2603" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC3550</span>,<time datetime="2003-07" data-dl-uid="2604" data-dl-original="true" data-dl-translated="true">July 2003</time>,<span data-dl-uid="2605" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc3550" data-dl-uid="2606" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc3550&gt;.</a></span></dd>
<dt id="RFC3711" data-dl-uid="2607" data-dl-original="true" data-dl-translated="true">[RFC3711】を参照してください。］</dt>
<dd data-dl-uid="2608" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2609" data-dl-original="true" data-dl-translated="true">Baugher, M.</span>,<span class="refAuthor" data-dl-uid="2610" data-dl-original="true" data-dl-translated="true"> McGrew, D.</span>,<span class="refAuthor" data-dl-uid="2611" data-dl-original="true" data-dl-translated="true"> Naslund, M.</span><span class="refAuthor" data-dl-uid="2612" data-dl-original="true" data-dl-translated="true">, Carrara, E.,</span><span class="refAuthor" data-dl-uid="2613" data-dl-original="true" data-dl-translated="true"> and K. Norrman</span>,<span class="refTitle" data-dl-uid="2614" data-dl-original="true" data-dl-translated="true">"The Secure Real-time Transport Protocol (SRTP)"</span>,<span class="seriesInfo" data-dl-uid="2615" data-dl-original="true" data-dl-translated="true">RFC 3711</span>,<span class="seriesInfo" data-dl-uid="2616" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC3711</span>,<time datetime="2004-03" data-dl-uid="2617" data-dl-original="true" data-dl-translated="true">March 2004</time>,<span data-dl-uid="2618" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc3711" data-dl-uid="2619" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc3711&gt;.</a></span></dd>
<dt id="RFC4086" data-dl-uid="2620" data-dl-original="true" data-dl-translated="true">[RFC4086】を参照してください。］</dt>
<dd data-dl-uid="2621" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2622" data-dl-original="true" data-dl-translated="true">Eastlake 3rd, D.</span><span class="refAuthor" data-dl-uid="2623" data-dl-original="true" data-dl-translated="true">, Schiller, J.,</span><span class="refAuthor" data-dl-uid="2624" data-dl-original="true" data-dl-translated="true"> and S. Crocker</span>,<span class="refTitle" data-dl-uid="2625" data-dl-original="true" data-dl-translated="true">"Randomness Requirements for Security"</span>,<span class="seriesInfo" data-dl-uid="2626" data-dl-original="true" data-dl-translated="true">BCP 106</span>,<span class="seriesInfo" data-dl-uid="2627" data-dl-original="true" data-dl-translated="true">RFC 4086</span>,<span class="seriesInfo" data-dl-uid="2628" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC4086</span>,<time datetime="2005-06" data-dl-uid="2629" data-dl-original="true" data-dl-translated="true">June 2005</time>,<span data-dl-uid="2630" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc4086" data-dl-uid="2631" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc4086&gt;.</a></span></dd>
<dt id="RFC4302" data-dl-uid="2632" data-dl-original="true" data-dl-translated="true">[RFC4302】を参照してください。］</dt>
<dd data-dl-uid="2633" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2634" data-dl-original="true" data-dl-translated="true">Kent, S.</span>,<span class="refTitle" data-dl-uid="2635" data-dl-original="true" data-dl-translated="true">"IP Authentication Header"</span>,<span class="seriesInfo" data-dl-uid="2636" data-dl-original="true" data-dl-translated="true">RFC 4302</span>,<span class="seriesInfo" data-dl-uid="2637" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC4302</span>,<time datetime="2005-12" data-dl-uid="2638" data-dl-original="true" data-dl-translated="true">December 2005</time>,<span data-dl-uid="2639" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc4302" data-dl-uid="2640" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc4302&gt;.</a></span></dd>
<dt id="RFC4303" data-dl-uid="2641" data-dl-original="true" data-dl-translated="true">[RFC4303】を参照してください。］</dt>
<dd data-dl-uid="2642" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2643" data-dl-original="true" data-dl-translated="true">Kent, S.</span>,<span class="refTitle" data-dl-uid="2644" data-dl-original="true" data-dl-translated="true">"IP Encapsulating Security Payload (ESP)"</span>,<span class="seriesInfo" data-dl-uid="2645" data-dl-original="true" data-dl-translated="true">RFC 4303</span>,<span class="seriesInfo" data-dl-uid="2646" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC4303</span>,<time datetime="2005-12" data-dl-uid="2647" data-dl-original="true" data-dl-translated="true">December 2005</time>,<span data-dl-uid="2648" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc4303" data-dl-uid="2649" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc4303&gt;.</a></span></dd>
<dt id="RFC4787" data-dl-uid="2650" data-dl-original="true" data-dl-translated="true">[RFC4787】を参照してください。］</dt>
<dd data-dl-uid="2651" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2652" data-dl-original="true" data-dl-translated="true">Audet, F., Ed</span>.<span class="refAuthor" data-dl-uid="2653" data-dl-original="true" data-dl-translated="true"> and C. Jennings</span>,<span class="refTitle" data-dl-uid="2654" data-dl-original="true" data-dl-translated="true">"Network Address Translation (NAT) Behavioural Requirements for Unicast UDP"</span>,<span class="seriesInfo" data-dl-uid="2655" data-dl-original="true" data-dl-translated="true">BCP 127</span>,<span class="seriesInfo" data-dl-uid="2656" data-dl-original="true" data-dl-translated="true">RFC 4787</span>,<span class="seriesInfo" data-dl-uid="2657" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC4787</span>,<time datetime="2007-01" data-dl-uid="2658" data-dl-original="true" data-dl-translated="true">January 2007</time>,<span data-dl-uid="2659" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc4787" data-dl-uid="2660" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc4787&gt;.</a></span></dd>
<dt id="RFC4821" data-dl-uid="2661" data-dl-original="true" data-dl-translated="true">[RFC4821】を参照してください。］</dt>
<dd data-dl-uid="2662" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2663" data-dl-original="true" data-dl-translated="true">Mathis, M.</span><span class="refAuthor" data-dl-uid="2664" data-dl-original="true" data-dl-translated="true"> and J. Heffner</span>,<span class="refTitle" data-dl-uid="2665" data-dl-original="true" data-dl-translated="true">"Packetisation Layer Path MTU Discovery"</span>,<span class="seriesInfo" data-dl-uid="2666" data-dl-original="true" data-dl-translated="true">RFC 4821</span>,<span class="seriesInfo" data-dl-uid="2667" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC4821</span>,<time datetime="2007-03" data-dl-uid="2668" data-dl-original="true" data-dl-translated="true">March 2007</time>,<span data-dl-uid="2669" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc4821" data-dl-uid="2670" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc4821&gt;.</a></span></dd>
<dt id="RFC5128" data-dl-uid="2671" data-dl-original="true" data-dl-translated="true">[RFC5128】を参照してください。］</dt>
<dd data-dl-uid="2672" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2673" data-dl-original="true" data-dl-translated="true">Srisuresh, P.</span><span class="refAuthor" data-dl-uid="2674" data-dl-original="true" data-dl-translated="true">, Ford, B.</span><span class="refAuthor" data-dl-uid="2675" data-dl-original="true" data-dl-translated="true">, and D. Kegel</span>,<span class="refTitle" data-dl-uid="2676" data-dl-original="true" data-dl-translated="true">"State of Peer-to-Peer (P2P) Communication across Network Address Translators (NATs)"</span>,<span class="seriesInfo" data-dl-uid="2677" data-dl-original="true" data-dl-translated="true">RFC 5128</span>,<span class="seriesInfo" data-dl-uid="2678" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC5128</span>,<time datetime="2008-03" data-dl-uid="2679" data-dl-original="true" data-dl-translated="true">March 2008</time>,<span data-dl-uid="2680" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc5128" data-dl-uid="2681" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc5128&gt;.</a></span></dd>
<dt id="RFC5482" data-dl-uid="2682" data-dl-original="true" data-dl-translated="true">[RFC5482】を参照してください。］</dt>
<dd data-dl-uid="2683" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2684" data-dl-original="true" data-dl-translated="true">Eggert, L.</span><span class="refAuthor" data-dl-uid="2685" data-dl-original="true" data-dl-translated="true"> and F. Gont</span>,<span class="refTitle" data-dl-uid="2686" data-dl-original="true" data-dl-translated="true">"TCP User Timeout Option"</span>,<span class="seriesInfo" data-dl-uid="2687" data-dl-original="true" data-dl-translated="true">RFC 5482</span>,<span class="seriesInfo" data-dl-uid="2688" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC5482</span>,<time datetime="2009-03" data-dl-uid="2689" data-dl-original="true" data-dl-translated="true">March 2009</time>,<span data-dl-uid="2690" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc5482" data-dl-uid="2691" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc5482&gt;.</a></span></dd>
<dt id="RFC5766" data-dl-uid="2692" data-dl-original="true" data-dl-translated="true">[RFC5766】を参照してください。］</dt>
<dd data-dl-uid="2693" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2694" data-dl-original="true" data-dl-translated="true">Mahy, R.</span><span class="refAuthor" data-dl-uid="2695" data-dl-original="true" data-dl-translated="true">, Matthews, P.</span><span class="refAuthor" data-dl-uid="2696" data-dl-original="true" data-dl-translated="true">, and J. Rosenberg</span>,<span class="refTitle" data-dl-uid="2697" data-dl-original="true" data-dl-translated="true">"Traversal Using Relays around NAT (TURN):Session Traversal Utilities for NAT (STUN)のリレー拡張"</span>,<span class="seriesInfo" data-dl-uid="2698" data-dl-original="true" data-dl-translated="true">RFC 5766</span>,<span class="seriesInfo" data-dl-uid="2699" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC5766</span>,<time datetime="2010-04" data-dl-uid="2700" data-dl-original="true" data-dl-translated="true">April 2010</time>,<span data-dl-uid="2701" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc5766" data-dl-uid="2702" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc5766&gt;.</a></span></dd>
<dt id="RFC5925" data-dl-uid="2703" data-dl-original="true" data-dl-translated="true">[RFC5925】を参照してください。］</dt>
<dd data-dl-uid="2704" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2705" data-dl-original="true" data-dl-translated="true">Touch, J.</span><span class="refAuthor" data-dl-uid="2706" data-dl-original="true" data-dl-translated="true">, Mankin, A.</span><span class="refAuthor" data-dl-uid="2707" data-dl-original="true" data-dl-translated="true">, and R. Bonica</span>,<span class="refTitle" data-dl-uid="2708" data-dl-original="true" data-dl-translated="true">"The TCP Authentication Option"</span>,<span class="seriesInfo" data-dl-uid="2709" data-dl-original="true" data-dl-translated="true">RFC 5925</span>,<span class="seriesInfo" data-dl-uid="2710" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC5925</span>,<time datetime="2010-06" data-dl-uid="2711" data-dl-original="true" data-dl-translated="true">June 2010</time>,<span data-dl-uid="2712" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc5925" data-dl-uid="2713" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc5925&gt;.</a></span></dd>
<dt id="RFC5928" data-dl-uid="2714" data-dl-original="true" data-dl-translated="true">[RFC5928】を参照してください。］</dt>
<dd data-dl-uid="2715" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2716" data-dl-original="true" data-dl-translated="true">Petit-Huguenin, M.</span>,<span class="refTitle" data-dl-uid="2717" data-dl-original="true" data-dl-translated="true">"Traversal Using Relays around NAT (TURN) Resolution Mechanism"</span>,<span class="seriesInfo" data-dl-uid="2718" data-dl-original="true" data-dl-translated="true">RFC 5928</span>,<span class="seriesInfo" data-dl-uid="2719" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC5928</span>,<time datetime="2010-08" data-dl-uid="2720" data-dl-original="true" data-dl-translated="true">August 2010</time>,<span data-dl-uid="2721" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc5928" data-dl-uid="2722" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc5928&gt;.</a></span></dd>
<dt id="RFC6056" data-dl-uid="2723" data-dl-original="true" data-dl-translated="true">[RFC6056】を参照してください。］</dt>
<dd data-dl-uid="2724" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2725" data-dl-original="true" data-dl-translated="true">Larsen, M.</span><span class="refAuthor" data-dl-uid="2726" data-dl-original="true" data-dl-translated="true"> and F. Gont</span>,<span class="refTitle" data-dl-uid="2727" data-dl-original="true" data-dl-translated="true">"Recommendations for Transport-Protocol Port Randomisation"</span>,<span class="seriesInfo" data-dl-uid="2728" data-dl-original="true" data-dl-translated="true">BCP 156</span>,<span class="seriesInfo" data-dl-uid="2729" data-dl-original="true" data-dl-translated="true">RFC 6056</span>,<span class="seriesInfo" data-dl-uid="2730" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC6056</span>,<time datetime="2011-01" data-dl-uid="2731" data-dl-original="true" data-dl-translated="true">January 2011</time>,<span data-dl-uid="2732" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc6056" data-dl-uid="2733" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc6056&gt;.</a></span></dd>
<dt id="RFC6062" data-dl-uid="2734" data-dl-original="true" data-dl-translated="true">[RFC6062】を参照してください。］</dt>
<dd data-dl-uid="2735" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2736" data-dl-original="true" data-dl-translated="true">Perreault, S., Ed</span>.<span class="refAuthor" data-dl-uid="2737" data-dl-original="true" data-dl-translated="true"> and J. Rosenberg</span>,<span class="refTitle" data-dl-uid="2738" data-dl-original="true" data-dl-translated="true">"Traversal Using Relays around NAT (TURN) Extensions for TCP Allocations"</span>,<span class="seriesInfo" data-dl-uid="2739" data-dl-original="true" data-dl-translated="true">RFC 6062</span>,<span class="seriesInfo" data-dl-uid="2740" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC6062</span>,<time datetime="2010-11" data-dl-uid="2741" data-dl-original="true" data-dl-translated="true">November 2010</time>,<span data-dl-uid="2742" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc6062" data-dl-uid="2743" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc6062&gt;.</a></span></dd>
<dt id="RFC6156" data-dl-uid="2950" data-dl-original="true" data-dl-translated="true">[RFC6156】を参照してください。］</dt>
<dd data-dl-uid="2951" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2952" data-dl-original="true" data-dl-translated="true">Camarillo, G</span>.<span class="refAuthor" data-dl-uid="2953" data-dl-original="true" data-dl-translated="true">, Novo, O.</span>,<span class="refAuthor" data-dl-uid="2954" data-dl-original="true" data-dl-translated="true"> and S. Perreault, Ed.</span>,<span class="refTitle" data-dl-uid="2955" data-dl-original="true" data-dl-translated="true">"Traversal Using Relays around NAT (TURN) Extension for IPv6"</span>,<span class="seriesInfo" data-dl-uid="2956" data-dl-original="true" data-dl-translated="true">RFC 6156</span>,<span class="seriesInfo" data-dl-uid="2957" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC6156</span>,<time datetime="2011-04" data-dl-uid="2958" data-dl-original="true" data-dl-translated="true">April 2011</time>,<span data-dl-uid="2959" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc6156" data-dl-uid="2960" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc6156&gt;.</a></span></dd>
<dt id="RFC6263" data-dl-uid="2961" data-dl-original="true" data-dl-translated="true">[RFC6263】を参照してください。］</dt>
<dd data-dl-uid="2962" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2963" data-dl-original="true" data-dl-translated="true">Marjou, X.</span><span class="refAuthor" data-dl-uid="2964" data-dl-original="true" data-dl-translated="true"> and A. Sollaud</span>,<span class="refTitle" data-dl-uid="2965" data-dl-original="true" data-dl-translated="true">"Application Mechanism for Keeping Alive Associated with RTP/RTP Control Protocol (RTCP Flows)"</span>,<span class="seriesInfo" data-dl-uid="2966" data-dl-original="true" data-dl-translated="true">RFC 6263</span>,<span class="seriesInfo" data-dl-uid="2967" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC6263</span>,<time datetime="2011-06" data-dl-uid="2968" data-dl-original="true" data-dl-translated="true">June 2011</time>,<span data-dl-uid="2969" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc6263" data-dl-uid="2970" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc6263&gt;.</a></span></dd>
<dt id="RFC7413" data-dl-uid="2971" data-dl-original="true" data-dl-translated="true">[RFC7413】を参照してください。］</dt>
<dd data-dl-uid="2972" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2973" data-dl-original="true" data-dl-translated="true">Cheng, Y.</span><span class="refAuthor" data-dl-uid="2975" data-dl-original="true" data-dl-translated="true">,</span><span class="refAuthor" data-dl-uid="2974" data-dl-original="true" data-dl-translated="true"> Chu, J.</span><span data-dl-uid="2975" data-dl-translated="true">, Radhakrishnan, S.</span>,<span class="refAuthor" data-dl-uid="2976" data-dl-original="true" data-dl-translated="true"> and A. Jain</span>,<span class="refTitle" data-dl-uid="2977" data-dl-original="true" data-dl-translated="true">"TCP Fast Open"</span>,<span class="seriesInfo" data-dl-uid="2978" data-dl-original="true" data-dl-translated="true">RFC 7413</span>,<span class="seriesInfo" data-dl-uid="2979" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC7413</span>,<time datetime="2014-12" data-dl-uid="2980" data-dl-original="true" data-dl-translated="true">December 2014</time>,<span data-dl-uid="2981" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc7413" data-dl-uid="2982" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc7413&gt;.</a></span></dd>
<dt id="RFC7478" data-dl-uid="2983" data-dl-original="true" data-dl-translated="true">[RFC7478】を参照してください。］</dt>
<dd data-dl-uid="2984" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2985" data-dl-original="true" data-dl-translated="true">Holmberg, C.</span><span class="refAuthor" data-dl-uid="2986" data-dl-original="true" data-dl-translated="true">, Hakansson, S.</span><span class="refAuthor" data-dl-uid="2987" data-dl-original="true" data-dl-translated="true">, and G. Eriksson</span>,<span class="refTitle" data-dl-uid="2988" data-dl-original="true" data-dl-translated="true">"Web Real-Time Communication Use Cases and Requirements"</span>,<span class="seriesInfo" data-dl-uid="2989" data-dl-original="true" data-dl-translated="true">RFC 7478</span>,<span class="seriesInfo" data-dl-uid="2990" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC7478</span>,<time datetime="2015-03" data-dl-uid="2991" data-dl-original="true" data-dl-translated="true">March 2015</time>,<span data-dl-uid="2992" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc7478" data-dl-uid="2993" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc7478&gt;.</a></span></dd>
<dt id="RFC7635">[RFC7635]</dt>
<dd data-dl-uid="2938" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2939" data-dl-original="true" data-dl-translated="true">Reddy, T.</span><span class="refAuthor" data-dl-uid="2940" data-dl-original="true" data-dl-translated="true">, Patil, P.</span><span class="refAuthor" data-dl-uid="2941" data-dl-original="true" data-dl-translated="true">, Ravindranath, R.</span><span class="refAuthor" data-dl-uid="2942" data-dl-original="true" data-dl-translated="true">, and J. Uberti</span>,<span class="refTitle" data-dl-uid="2943" data-dl-original="true" data-dl-translated="true">"Session Traversal Utilities for NAT (STUN Extension for Third-Party Authorization"</span>,<span class="seriesInfo" data-dl-uid="2944" data-dl-original="true" data-dl-translated="true">RFC 7635</span>,<span class="seriesInfo" data-dl-uid="2945" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC7635</span>,<time datetime="2015-08" data-dl-uid="2946" data-dl-original="true" data-dl-translated="true">August 2015</time>,<span data-dl-uid="2947" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc7635" data-dl-uid="2948" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc7635&gt;.</a></span></dd>
<dt id="RFC7657" data-dl-uid="2949" data-dl-original="true" data-dl-translated="true">[RFC7657】を参照してください。］</dt>
<dd data-dl-uid="2744" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2745" data-dl-original="true" data-dl-translated="true">Black, D., Ed.</span><span class="refAuthor" data-dl-uid="2746" data-dl-original="true" data-dl-translated="true"> and P. Jones</span>,<span class="refTitle" data-dl-uid="2747" data-dl-original="true" data-dl-translated="true">"Differentiated Services (Diffserv) and Real-Time Communication"</span>,<span class="seriesInfo" data-dl-uid="2748" data-dl-original="true" data-dl-translated="true">RFC 7657</span>,<span class="seriesInfo" data-dl-uid="2749" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC7657</span>,<time datetime="2015-11" data-dl-uid="2750" data-dl-original="true" data-dl-translated="true">November 2015</time>,<span data-dl-uid="2751" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc7657" data-dl-uid="2752" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc7657&gt;</a></span>. </dd>
<dt id="RFC7983" data-dl-uid="2753" data-dl-original="true" data-dl-translated="true">[RFC7983】を参照してください。］</dt>
<dd data-dl-uid="2754" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2755" data-dl-original="true" data-dl-translated="true">Petit-Huguenin, M.</span><span class="refAuthor" data-dl-uid="2756" data-dl-original="true" data-dl-translated="true"> and G. Salgueiro</span>,<span class="refTitle" data-dl-uid="2757" data-dl-original="true" data-dl-translated="true">"Multiplexing Scheme Updates for Secure Real-time Transport Protocol (SRTP) Extension for Datagram Transport Layer Security (DTLS)"</span>,<span class="seriesInfo" data-dl-uid="2758" data-dl-original="true" data-dl-translated="true">RFC 7983</span>,<span class="seriesInfo" data-dl-uid="2759" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC7983</span>,<time datetime="2016-09" data-dl-uid="2760" data-dl-original="true" data-dl-translated="true">September 2016</time>,<span data-dl-uid="2761" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc7983" data-dl-uid="2762" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc7983&gt;</a></span>. </dd>
<dt id="RFC8155" data-dl-uid="2763" data-dl-original="true" data-dl-translated="true">[RFC8155】を参照してください。］</dt>
<dd data-dl-uid="2764" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2765" data-dl-original="true" data-dl-translated="true">Patil, P.</span><span class="refAuthor" data-dl-uid="2766" data-dl-original="true" data-dl-translated="true">, Reddy, T.</span><span class="refAuthor" data-dl-uid="2767" data-dl-original="true" data-dl-translated="true">, and D. Wing</span>,<span class="refTitle" data-dl-uid="2768" data-dl-original="true" data-dl-translated="true">"Traversal Using Relays around NAT (TURN) Server Auto Discovery"</span>,<span class="seriesInfo" data-dl-uid="2769" data-dl-original="true" data-dl-translated="true">RFC 8155</span>,<span class="seriesInfo" data-dl-uid="2770" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC8155</span>,<time datetime="2017-04" data-dl-uid="2771" data-dl-original="true" data-dl-translated="true">April 2017</time>,<span data-dl-uid="2772" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc8155" data-dl-uid="2773" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc8155&gt;</a></span>. </dd>
<dt id="RFC8311" data-dl-uid="2774" data-dl-original="true" data-dl-translated="true">[RFC8311】を参照してください。］</dt>
<dd data-dl-uid="2775" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2776" data-dl-original="true" data-dl-translated="true">Black, D.</span>,<span class="refTitle" data-dl-uid="2777" data-dl-original="true" data-dl-translated="true">"Relaxing Restrictions on Explicit Congestion Notification (ECN) Experimentation"</span>,<span class="seriesInfo" data-dl-uid="2778" data-dl-original="true" data-dl-translated="true">RFC 8311</span>,<span class="seriesInfo" data-dl-uid="2779" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC8311</span>,<time datetime="2018-01" data-dl-uid="2780" data-dl-original="true" data-dl-translated="true">January 2018</time>,<span data-dl-uid="2781" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc8311" data-dl-uid="2782" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc8311&gt;</a></span>. </dd>
<dt id="RFC8445" data-dl-uid="2783" data-dl-original="true" data-dl-translated="true">[RFC8445】を参照してください。］</dt>
<dd data-dl-uid="2784" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2785" data-dl-original="true" data-dl-translated="true">Keranen, A.</span><span class="refAuthor" data-dl-uid="2786" data-dl-original="true" data-dl-translated="true">, Holmberg, C.</span><span class="refAuthor" data-dl-uid="2787" data-dl-original="true" data-dl-translated="true">, and J. Rosenberg</span>,<span class="refTitle" data-dl-uid="2788" data-dl-original="true" data-dl-translated="true">"Interactive Connectivity Establishment (ICE):A Protocol for Network Address Translator (NAT) Traversal"</span>,<span class="seriesInfo" data-dl-uid="2789" data-dl-original="true" data-dl-translated="true">RFC 8445</span>,<span class="seriesInfo" data-dl-uid="2790" data-dl-original="true" data-dl-translated="true">DOI 10.17487/RFC8445</span>,<time datetime="2018-07" data-dl-uid="2791" data-dl-original="true" data-dl-translated="true">July 2018</time>,<span data-dl-uid="2792" data-dl-original="true" data-dl-translated="true"><a href="https://www.rfc-editor.org/info/rfc8445" data-dl-uid="2793" data-dl-original="true" data-dl-translated="true">&lt;https://www.rfc-editor.org/info/rfc8445&gt;</a></span>. </dd>
<dt id="I-D.ietf-mmusic-ice-sip-sdp" data-dl-uid="2794" data-dl-original="true" data-dl-translated="true">[SDP-ICE】です。］</dt>
<dd data-dl-uid="2795" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2796" data-dl-original="true" data-dl-translated="true">Petit-Huguenin, M</span><span class="refAuthor" data-dl-uid="2797" data-dl-original="true" data-dl-translated="true">, Nandakumar, S.</span><span class="refAuthor" data-dl-uid="2798" data-dl-original="true" data-dl-translated="true">, Holmberg, C.</span><span class="refAuthor" data-dl-uid="2799" data-dl-original="true" data-dl-translated="true">, Keranen, A.</span><span class="refAuthor" data-dl-uid="2800" data-dl-original="true" data-dl-translated="true">, and R. Shpount</span>,<span class="refTitle" data-dl-uid="2801" data-dl-original="true" data-dl-translated="true">"Session Description Protocol (SDP) Offer/Answer procedures for Interactive Connectivity Establishment (ICE)"</span>,<span class="refContent" data-dl-uid="2802" data-dl-original="true" data-dl-translated="true">Work in Progress</span>,<span class="seriesInfo" data-dl-uid="2803" data-dl-original="true" data-dl-translated="true">Internet-Draft, draft-ietf-mmusic-ice-sip-sdp-39</span>,<time datetime="2019-08-13" data-dl-uid="2804" data-dl-original="true" data-dl-translated="true">13 August 2019</time>,<span data-dl-uid="2805" data-dl-original="true" data-dl-translated="true"><a href="https://tools.ietf.org/html/draft-ietf-mmusic-ice-sip-sdp-39" data-dl-uid="2806" data-dl-original="true" data-dl-translated="true">&lt;https://tools.ietf.org/html/draft-ietf-mmusic-ice-sip-sdp-39&gt;</a></span>. </dd>
<dt id="I-D.ietf-rtcweb-security" data-dl-uid="2807" data-dl-original="true" data-dl-translated="true">[SEC-WEBRTC】があります。］</dt>
<dd data-dl-uid="2808" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2809" data-dl-original="true" data-dl-translated="true">Rescorla, E.</span>,<span class="refTitle" data-dl-uid="2810" data-dl-original="true" data-dl-translated="true">"Security Considerations for WebRTC"</span>,<span class="refContent" data-dl-uid="2811" data-dl-original="true" data-dl-translated="true">Work in Progress</span>,<span class="seriesInfo" data-dl-uid="2812" data-dl-original="true" data-dl-translated="true">Internet-Draft, draft-ietf-rtcweb-security-12</span>,<time datetime="2019-07-05" data-dl-uid="2813" data-dl-original="true" data-dl-translated="true">5 July 2019</time>,<span data-dl-uid="2814" data-dl-original="true" data-dl-translated="true"><a href="https://tools.ietf.org/html/draft-ietf-rtcweb-security-12" data-dl-uid="2815" data-dl-original="true" data-dl-translated="true">&lt;https://tools.ietf.org/html/draft-ietf-rtcweb-security-12&gt;</a></span>. </dd>
<dt id="I-D.ietf-mptcp-rfc6824bis" data-dl-uid="2816" data-dl-original="true" data-dl-translated="true">[TCP-EXT】です。］</dt>
<dd data-dl-uid="2817" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2818" data-dl-original="true" data-dl-translated="true">Ford, A.</span><span class="refAuthor" data-dl-uid="2819" data-dl-original="true" data-dl-translated="true">, Raiciu, C.</span><span class="refAuthor" data-dl-uid="2820" data-dl-original="true" data-dl-translated="true">, Handley, M.</span><span class="refAuthor" data-dl-uid="2821" data-dl-original="true" data-dl-translated="true">, Bonaventure, O.</span><span class="refAuthor" data-dl-uid="2822" data-dl-original="true" data-dl-translated="true">, and C. Paasch</span>,<span class="refTitle" data-dl-uid="2823" data-dl-original="true" data-dl-translated="true">"TCP Extensions for Multipath Operation with Multiple Addresses"</span>,<span class="refContent" data-dl-uid="2824" data-dl-original="true" data-dl-translated="true">Work in Progress</span>,<span class="seriesInfo" data-dl-uid="2825" data-dl-original="true" data-dl-translated="true">Internet-Draft, draft-ietf-mptcp-rfc6824bis-18</span>,<time datetime="2019-06-08" data-dl-uid="2826" data-dl-original="true" data-dl-translated="true">8 June 2019</time>,<span data-dl-uid="2827" data-dl-original="true" data-dl-translated="true"><a href="https://tools.ietf.org/html/draft-ietf-mptcp-rfc6824bis-18" data-dl-uid="2828" data-dl-original="true" data-dl-translated="true">&lt;https://tools.ietf.org/html/draft-ietf-mptcp-rfc6824bis-18&gt;</a></span>. </dd>
<dt id="I-D.ietf-tsvwg-udp-options" data-dl-uid="2829" data-dl-original="true" data-dl-translated="true">[UDP-OPT】があります。］</dt>
<dd data-dl-uid="2830" data-dl-original="true" data-dl-translated="true">
<span class="refAuthor" data-dl-uid="2831" data-dl-original="true" data-dl-translated="true">Touch, J.</span>,<span class="refTitle" data-dl-uid="2832" data-dl-original="true" data-dl-translated="true">"Transport Options for UDP"</span>,<span class="refContent" data-dl-uid="2833" data-dl-original="true" data-dl-translated="true">Work in Progress</span>,<span class="seriesInfo" data-dl-uid="2834" data-dl-original="true" data-dl-translated="true">Internet-Draft, draft-ietf-tsvwg-udp-options-08</span>,<time datetime="2019-09-12" data-dl-uid="2835" data-dl-original="true" data-dl-translated="true">12 September 2019</time>,<span data-dl-uid="2836" data-dl-original="true" data-dl-translated="true"><a href="https://tools.ietf.org/html/draft-ietf-tsvwg-udp-options-08" data-dl-uid="2837" data-dl-original="true" data-dl-translated="true">&lt;https://tools.ietf.org/html/draft-ietf-tsvwg-udp-options-08&gt;</a></span>. </dd>
</dl>
</section>
</section>
<section id="section-appendix.a">
      <h2 id="name-acknowledgements" data-dl-uid="2838" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#name-acknowledgements" class="section-name selfRef" data-dl-uid="2839" data-dl-original="true" data-dl-translated="true">謝辞</a>     </h2>
<p id="section-appendix.a-1" data-dl-uid="2840" data-dl-original="true" data-dl-translated="true">このノートのテキストのほとんどは、オリジナルのTURN仕様、<span data-dl-uid="2841" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC5766" class="xref" data-dl-uid="2842" data-dl-original="true" data-dl-translated="true">RFC5766</a>]</span>から来ている。著者らは、オリジナルのTURN仕様の共著者である<span class="contact-name" data-dl-uid="2843" data-dl-original="true" data-dl-translated="true">Rohan Mahyと</span>、そのドキュメントに貢献したすべての人に感謝したい。また、この文書が<span data-dl-uid="2844" data-dl-original="true" data-dl-translated="true">[<a href="https://www.rfc-editor.org/rfc/rfc8656#RFC6156" class="xref" data-dl-uid="2845" data-dl-original="true" data-dl-translated="true">RFC6156</a>]</span>の内容を継承していることも、著者らは認めたい<a href="https://www.rfc-editor.org/rfc/rfc8656#section-appendix.a-1" class="pilcrow" data-dl-uid="2846" data-dl-original="true" data-dl-translated="true">。</a></p>
<p id="section-appendix.a-2" data-dl-uid="2847" data-dl-original="true" data-dl-translated="true">ADDITIONAL-ADDRESS-FAMILY メカニズムについて協力してくれた<span class="contact-name" data-dl-uid="2848" data-dl-original="true" data-dl-translated="true">Justin Uberti</span>,<span class="contact-name" data-dl-uid="2849" data-dl-original="true" data-dl-translated="true">Pal Martinsen</span>,<span class="contact-name" data-dl-uid="2850" data-dl-original="true" data-dl-translated="true">Oleg Moskalenko</span>,<span class="contact-name" data-dl-uid="2851" data-dl-original="true" data-dl-translated="true">Aijun Wang</span>, and<span class="contact-name" data-dl-uid="2852" data-dl-original="true" data-dl-translated="true">Simon Perreault</span>に感謝する.<span class="contact-name" data-dl-uid="2853" data-dl-original="true" data-dl-translated="true">Gonzalo Salgueiro</span>,<span class="contact-name" data-dl-uid="2854" data-dl-original="true" data-dl-translated="true">Simon Perreault</span>,<span class="contact-name" data-dl-uid="2855" data-dl-original="true" data-dl-translated="true">Jonathan Lennox</span>,<span class="contact-name" data-dl-uid="2856" data-dl-original="true" data-dl-translated="true">Brandon Williams</span>,<span class="contact-name" data-dl-uid="2857" data-dl-original="true" data-dl-translated="true">Karl Stahl</span>,<span class="contact-name" data-dl-uid="2858" data-dl-original="true" data-dl-translated="true">Noriyuki Torii</span>,<span class="contact-name" data-dl-uid="2859" data-dl-original="true" data-dl-translated="true">Nils Ohlmeier</span>,<span class="contact-name" data-dl-uid="2860" data-dl-original="true" data-dl-translated="true">Dan Wing</span>,<span class="contact-name" data-dl-uid="2861" data-dl-original="true" data-dl-translated="true">Vijay Gurbani</span>,<span class="contact-name" data-dl-uid="2862" data-dl-original="true" data-dl-translated="true">Joseph Touch</span>,<span class="contact-name" data-dl-uid="2863" data-dl-original="true" data-dl-translated="true">Justin Uberti</span>,<span class="contact-name" data-dl-uid="2864" data-dl-original="true" data-dl-translated="true">Christopher Wood</span>,<span class="contact-name" data-dl-uid="2865" data-dl-original="true" data-dl-translated="true">Roman Danyliw</span>,<span class="contact-name" data-dl-uid="2866" data-dl-original="true" data-dl-translated="true">Eric Vyncke</span>,<span class="contact-name" data-dl-uid="2867" data-dl-original="true" data-dl-translated="true">Adam Roach</span>,<span class="contact-name" data-dl-uid="2868" data-dl-original="true" data-dl-translated="true">Suresh Krishnan</span>,<span class="contact-name" data-dl-uid="2869" data-dl-original="true" data-dl-translated="true">Mirja Kuehlewind</span>,<span class="contact-name" data-dl-uid="2870" data-dl-original="true" data-dl-translated="true">Benjamin Kaduk</span>, and<span class="contact-name" data-dl-uid="2871" data-dl-original="true" data-dl-translated="true">Oleg Moskalenkoに</span>コメントやレビューをしていただきましたことを感謝いたします。<span class="contact-name" data-dl-uid="2872" data-dl-original="true" data-dl-translated="true">Marc Petit-Hugueninの</span>本文への貢献に感謝する<a href="https://www.rfc-editor.org/rfc/rfc8656#section-appendix.a-2" class="pilcrow" data-dl-uid="2873" data-dl-original="true" data-dl-translated="true">。</a>¶。</p>
<p id="section-appendix.a-3" data-dl-uid="2874" data-dl-original="true" data-dl-translated="true">詳細なADレビューをしてくださった<span class="contact-name" data-dl-uid="2875" data-dl-original="true" data-dl-translated="true">Magnus Westerlund</span>氏に感謝します<a href="https://www.rfc-editor.org/rfc/rfc8656#section-appendix.a-3" class="pilcrow" data-dl-uid="2876" data-dl-original="true" data-dl-translated="true">。</a></p>
</section>
<div id="authors-addresses">
<section id="section-appendix.b">
      <h2 id="name-authors-addresses" data-dl-uid="2877" data-dl-original="true" data-dl-translated="true">
<a href="https://www.rfc-editor.org/rfc/rfc8656#name-authors-addresses" class="section-name selfRef" data-dl-uid="2878" data-dl-original="true" data-dl-translated="true">著者の住所</a>     </h2>
<address class="vcard">
        <div dir="auto" class="left" data-dl-uid="2879" data-dl-original="true" data-dl-translated="true"><span class="fn nameRole" data-dl-uid="2880" data-dl-original="true" data-dl-translated="true">ティルマレスワール・レディ (<span class="role" data-dl-uid="2881" data-dl-original="true" data-dl-translated="true">編集</span>)</span></div>
<div dir="auto" class="left" data-dl-uid="2882" data-dl-original="true" data-dl-translated="true"><span class="org" data-dl-uid="2883" data-dl-original="true" data-dl-translated="true">マカフィー・インコーポレイテッド</span></div>
<div dir="auto" class="left" data-dl-uid="2884" data-dl-original="true" data-dl-translated="true"><span class="street-address" data-dl-uid="2885" data-dl-original="true" data-dl-translated="true">エンバシーゴルフリンクビジネスパーク</span></div>
<div dir="auto" class="left" data-dl-uid="2886" data-dl-original="true" data-dl-translated="true">
<span class="locality" data-dl-uid="2887" data-dl-original="true" data-dl-translated="true">バンガロール</span> <span class="postal-code" data-dl-uid="2888" data-dl-original="true" data-dl-translated="true">560071</span></div>
<div dir="auto" class="left" data-dl-uid="2889" data-dl-original="true" data-dl-translated="true"><span class="region" data-dl-uid="2890" data-dl-original="true" data-dl-translated="true">カルナータカ</span></div>
<div dir="auto" class="left" data-dl-uid="2891" data-dl-original="true" data-dl-translated="true"><span class="country-name" data-dl-uid="2892" data-dl-original="true" data-dl-translated="true">インド</span></div>
<div class="email" data-dl-uid="2893" data-dl-original="true" data-dl-translated="true">
<span data-dl-uid="2894" data-dl-original="true" data-dl-translated="true">メール：</span><a href="mailto:kondtir@gmail.com" class="email" data-dl-uid="2895" data-dl-original="true" data-dl-translated="true">kondtir@gmail.com</a></div>
</address>
<address class="vcard">
        <div dir="auto" class="left" data-dl-uid="2896" data-dl-original="true" data-dl-translated="true"><span class="fn nameRole" data-dl-uid="2897" data-dl-original="true" data-dl-translated="true">アラン・ジョンストン（<span class="role" data-dl-uid="2898" data-dl-original="true" data-dl-translated="true">編集者）</span></span></div>
<div dir="auto" class="left" data-dl-uid="2899" data-dl-original="true" data-dl-translated="true"><span class="org" data-dl-uid="2900" data-dl-original="true" data-dl-translated="true">ビラノバ大学</span></div>
<div dir="auto" class="left" data-dl-uid="2901" data-dl-original="true" data-dl-translated="true">
<span class="region" data-dl-uid="2903" data-dl-original="true" data-dl-translated="true">ペンシルベニア州</span><span class="locality" data-dl-uid="2902" data-dl-original="true" data-dl-translated="true">ビラノバ</span></div>
<div dir="auto" class="left" data-dl-uid="2904" data-dl-original="true" data-dl-translated="true"><span class="country-name" data-dl-uid="2905" data-dl-original="true" data-dl-translated="true">アメリカ</span></div>
<div class="email" data-dl-uid="2906" data-dl-original="true" data-dl-translated="true">
<span data-dl-uid="2907" data-dl-original="true" data-dl-translated="true">メール：</span><a href="mailto:alan.b.johnston@gmail.com" class="email" data-dl-uid="2908" data-dl-original="true" data-dl-translated="true">alan.b.johnston@gmail.com</a></div>
</address>
<address class="vcard">
        <div dir="auto" class="left" data-dl-uid="2909" data-dl-original="true" data-dl-translated="true"><span class="fn nameRole" data-dl-uid="2910" data-dl-original="true" data-dl-translated="true">フィリップ・マシューズ</span></div>
<div dir="auto" class="left" data-dl-uid="2911" data-dl-original="true" data-dl-translated="true"><span class="org" data-dl-uid="2912" data-dl-original="true" data-dl-translated="true">アルカテル・ルーセント</span></div>
<div dir="auto" class="left" data-dl-uid="2913" data-dl-original="true" data-dl-translated="true"><span class="street-address" data-dl-uid="2914" data-dl-original="true" data-dl-translated="true">600 マーチロード</span></div>
<div dir="auto" class="left" data-dl-uid="2915" data-dl-original="true" data-dl-translated="true">
<span class="locality" data-dl-uid="2916" data-dl-original="true" data-dl-translated="true">オタワ</span> <span class="region" data-dl-uid="2917" data-dl-original="true" data-dl-translated="true">オンタリオ州</span></div>
<div dir="auto" class="left" data-dl-uid="2918" data-dl-original="true" data-dl-translated="true"><span class="country-name" data-dl-uid="2919" data-dl-original="true" data-dl-translated="true">カナダ</span></div>
<div class="email" data-dl-uid="2920" data-dl-original="true" data-dl-translated="true">
<span data-dl-uid="2921" data-dl-original="true" data-dl-translated="true">メール：</span><a href="mailto:philip_matthews@magma.ca" class="email" data-dl-uid="2922" data-dl-original="true" data-dl-translated="true">philip_matthews@magma.ca</a></div>
</address>
<address class="vcard">
        <div dir="auto" class="left" data-dl-uid="2923" data-dl-original="true" data-dl-translated="true"><span class="fn nameRole" data-dl-uid="2924" data-dl-original="true" data-dl-translated="true">ジョナサン・ローゼンバーグ</span></div>
<div dir="auto" class="left" data-dl-uid="2925" data-dl-original="true" data-dl-translated="true"><span class="org" data-dl-uid="2926" data-dl-original="true" data-dl-translated="true">jdrosen.net</span></div>
<div dir="auto" class="left" data-dl-uid="2927" data-dl-original="true" data-dl-translated="true">
<span class="region" data-dl-uid="2929" data-dl-original="true" data-dl-translated="true">ニュージャージー州</span><span class="locality" data-dl-uid="2928" data-dl-original="true" data-dl-translated="true">エジソン</span></div>
<div dir="auto" class="left" data-dl-uid="2930" data-dl-original="true" data-dl-translated="true"><span class="country-name" data-dl-uid="2931" data-dl-original="true" data-dl-translated="true">アメリカ</span></div>
<div class="email" data-dl-uid="2932" data-dl-original="true" data-dl-translated="true">
<span data-dl-uid="2933" data-dl-original="true" data-dl-translated="true">メール：</span><a href="mailto:jdrosen@jdrosen.net" class="email" data-dl-uid="2934" data-dl-original="true" data-dl-translated="true">jdrosen@jdrosen.net</a></div>
<div class="url" data-dl-uid="2935" data-dl-original="true" data-dl-translated="true">
<a href="http://www.jdrosen.net/" class="url" data-dl-uid="2937" data-dl-original="true" data-dl-translated="true">URI：http://www.jdrosen.net</a></div>
</address>
</section>
</div>
<script>var toc = document.getElementById("toc");
var tocToggle = toc.querySelector("h2");
var tocNav = toc.querySelector("nav");

// mobile menu toggle
tocToggle.onclick = function(event) {
    if (window.innerWidth < 1024) {
 var tocNavDisplay = tocNav.currentStyle ? tocNav.currentStyle.display : getComputedStyle(tocNav, null).display;
 if (tocNavDisplay == "none") {
     tocNav.style.display = "block";
 } else {
     tocNav.style.display = "none";
 }
    }
}

// toc anchor scroll to anchor
tocNav.addEventListener("click", function (event) {
    event.preventDefault();
    if (event.target.nodeName == 'A') {
 if (window.innerWidth < 1024) {
     tocNav.style.display = "none";
 }
 var href = event.target.getAttribute("href");
 var anchorId = href.substr(1);
 var anchor =  document.getElementById(anchorId);
 anchor.scrollIntoView(true);
 window.history.pushState("","",href);
    }
});

// switch toc mode when window resized
window.onresize = function () {
    if (window.innerWidth < 1024) {
 tocNav.style.display = "none";
    } else {
 tocNav.style.display = "block";
    }
}
</script>



</body></html>